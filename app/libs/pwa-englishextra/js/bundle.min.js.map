{"version":3,"sources":["bundle.js"],"names":["_typeof","obj","con","prop","root","console","elem","hasClass","addClass","method","dummy","methods","support","split","properties","pop","opts","get","addEventListener","supportsPassive","toString","document","supportsCanvas","err","supportsSvgSmilAnimation","getHumanDate","createElementNS","newYear","createElement","getContext","String","setListener","startsWith","requestAnimationFrame","el","Element","fallback","documentElement","listener","addListener","Array","prototype","indexOf","getByClass","Function","getElementsByClassName","Object","children","elements","classRE","child","getOwnPropertyDescriptor","localStorage","sessionStorage","i","WeakMap","MutationObserver","newDate","getFullYear","getMonth","newDay","newMonth","removeClass","type","name","standard","className","removeListener","parent","body","getElementsByTagName","RegExp","parseLink","l","_replace","_location","classList","contains","_isAbsolute","url","_origin","_locationHref","_isCrossDomain","replace","href","_link","origin","pathname","protocol","search","_full","isAbsolute","isRelative","isCrossDomain","timeoutID","forcedHTTP","rtn","args","getHTTP","full","location","apply","debounce","timeout","context","host","timestamp","port","throttle","slice","call","hash","Date","later","setTimeout","func","wait","c","hostname","hasHTTP","test","s","ctx","force","locProtocol","any","spinner","isActiveClass","opera","selector","last","openDeviceBrowser","es","onNwjs","onLocal","arguments","delta","isElectron","onElectron","scroll2Top","scrollY","posY","scrollTargetY","speed","currentTime","time","Math","easeOutSine","pos","easeInOutSine","isNodejs","easingEquations","soothing","require","scrollTo","process","navigator","setVisible","e","style","df","openExternal","isNwjs","appendChild","Shell","parentNode","removeChildren","findPos","rate","getBoundingClientRect","easing","max","top","left","round","pageXOffset","easeInOutQuint","objType","tick","p","t","b","setDisplayBlock","display","setDisplayNone","truncString","_add","createDocumentFragment","insertTextAsFragment","cb","removeElement","createRange","rg","selectNode","clonedContainer","removeChild","firstChild","renderTemplate","docElem","templateId","docBody","getElementById","jsonObj","templateContent","scrollTop","parsedTemplate","Mustache","scrollLeft","clientLeft","insertFromTemplate","_useInner","parsedJson","response","fixEnRuTypo","a","withCredentials","x","onreadystatechange","d","f","status","charAt","str","add","callback","container","innerHTML","frag","replaceChild","text","createContextualFragment","renderId","template","defaultDatum","render","animatedClass","fadeInDownClass","settings","parse","useInner","notibarContainer","notibarClass","html","msgContainer","XMLHttpRequest","setCookie","overrideMimeType","days","Cookies","set","expires","key","onerror","readyState","send","insertExternalHTML","id","timer","clearTimeout","hideMessage","ToProgress","whichTransitionEvent","transitions","closeButton","handleCloseButton","zIndex","hasOwnProperty","opt","message","progressBar","datum","cookieKey","opacityDuration","msgContent","transit","setProgress","progress","fadeOutUpClass","that","transitionEvent","removeEventListener","TP","externalLinkIsBindedClass","this","getAttribute","title","duration","handleLink","options","arrange","link","setCSS","property","lazyLoadDataSrcImgInstance","position","right","background-color","dataSrcImgIsBindedClass","color","height","images","width","-moz-transition","-webkit-transition","elements_selector","z-index","dataSrcIframeClass","lazyLoadDataSrcIframeInstance","manageDataSrcIframeAll","iframes","setAttribute","manageExternalLinkAll","WebkitTransition","ev","stopPropagation","undefined","preventDefault","toBeIncreasedProgress","imgLightbox","LoadingSpinner","onClosed","decrease","touch","initScript","toBeDecreasedProgress","lightbox","onLoaded","reset","onOpened","length","opacity","toggleClass","btn","target","bind","manageSearchInput","_this","handle","spinnerClass","LazyLoad","show","error","dataSrcIframeIsBindedClass","privates","prev_slide","next_slide","destroy","manageImgLightbox","imgLightboxLinkClass","hide","onCreated","doesFontExist","canvas","font","baselineSize","loadNextScript","onload","layer","isBindedClass","rel","script","loadScript","value","loadDeferred","urlArray","appendFragment","req","raf","cancelAnimationFrame","Carousel","setting","classesList","wrap","removeClasses","selectors","max_position","sel","portrait","transform","medium","large","main","matchMedia","matches","next","toggleOrientationClasses","mqList","addClasses","orientation","classText","prev","handleMq","toggleSizeClasses","orientationMq","measureText","sizeMq","initialDocTitle","earlySvgSupport","implementation","hasFeature","ref","loadStyle","file","earlyHasTouch","media","head","async","src","js","increase","files","sameWidth","master","list","removeActiveClass","earlyDeviceFormfactor","manageOtherDropdownListAll","manageChaptersSelect","holderChaptersSelect","uiPanelContentsSelect","chaptersListClass","handleChaptersListItem","uiPanelContentsSelectHeight","hashString","listObj","chaptersList","size","chaptersListItems","chaptersListBtnDefaultText","chaptersListItemTextTruncated","chaptersListItem","generateChaptersListItems","isDropdownClass","chaptersListBtn","earlyDeviceType","substr","insertChevronDownSmallSvg","svg","targetObj","handleOtherDropdownLists","earlySvgasimgSupport","initMasonry","gridItemSelector","Masonry","itemSelector","packeryInstance","columnWidth","gutter","percentPosition","run","isFixedClass","gridItem","navbar","navbarParent","popularRender","moreTemplateId","moreRenderId","moreRender","carouselTemplateId","carouselRender","carouselRenderParent","showRenderNavbarPopularId","showRenderNavbarPopular","renderNavbarPopularId","renderNavbarMore","uiPanelNavigation","itemMatched","holder","locHref","yaShare2Id","shortname","hideDisqusButton","disqusThread","alignToMasterBottomLeft","servantId","logic","masterId","servant","DISQUS","reload","offsetWidth","offsetTop","offsetHeight","_self","msgObj","chaptersSelect","handleMsgObj","li","ul","chaptersListItemText","textContent","chaptersListItemValue","ac","items","textInputSelector","source","minChars","isValidId","createTextNode","typoAutcompleteList","typoAutcompleteListSelector","handleTypoSuggestion","typoListItem","textInput","itemsLength","limitKamilOutput","uiPanelContentsSelectPos","textInputValue","use","lis","truncTextObj","rerenderChaptersList","grid","handleTypoListItem","handleKamilItem","masonryInstance","layout","kamilItemLink","asideRenderParent","handleOtherSocialBtnAll","asideObj","asideTemplateId","userBrowser","cookieDatum","handleShowRenderNavbarMore","alignNavbarListAll","carouselTemplate","popularTemplate","navigationJsonResponse","handleListItemAll","renderNavbarPopular","showRenderNavbarMore","notiBar","carousel","kamilInstance","popularTemplateId","vkLike","popularRenderId","manageVkLikeBtn","handleBtn","contentsSelect","loadJsonResponse","navigationJsonObj","JSON","navbar_popular","navbar_more","debugMessage","handleContainer","showMsg","handleShowRenderNavbarPopular","manageDebugGridBtn","appContentParent","appContent","showRenderNavbarMoreId","renderNavbarMoreId","handleShowNavbarListsWindow","contentsGridTemplateId","routesJsonObj","optionMatched","locationHash","contentsListItems","dataset","contentsListButton","holderHero","passive","nextHrefTemplateId","nextHrefRenderId","commentsTemplate","commentsRender","manageDisqusBtn","QRCode","masonryGrid","contentsGridTemplate","contentsGridRender","contentsGridRenderParent","newTitle","routesObj","trim","renderMasonry","newSrc","encodeURIComponent","ecclevel","fillcolor","textcolor","modulesize","XMLSerializer","manageIframeLightbox","manageExpandingLayerAll","margin","newImg","yaShare2Instance","updateContent","notfoundUrl","description","notfoundTitle","Ya","share2","jsUrl","page","debugClass","contentsList","manageTotopBtn","insertUpSvg","generateContentsListItems","holderContentsSelect","contentsListItemHref","contentsListItem","contentsListItemTextTruncated","col","setAttributeNS","push","tagName","j","handleContentsListItemsButton","contentsListButtonText","appContentId","searchTextInput","handleRoot","asideRenderId","scrollPosition","commentsTemplateId","contentsGridRenderId","contentsListButtonDefaultText","routesJsonResponse","init","clearInterval","hideProgressBar","home","Error","scripts","notfound","needsPolyfills","titleString","slot","moreTemplate","renderNavigation","config","loadJsCss","carouselRenderId","replacementText","navigationJsonUrl","processNavigationJsonResponse","Kamil","VK","handleUiPanelContentsSelect","fixUiPanelContentsSelect","insertBefore","nextElementSibling","renderItem","manageOtherSocialBtnAll","item","renderMenu","_renderItemData","format","match","content","m","focus","apiId","nameTransportPath"],"mappings":"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","file":"bundle.min.js","sourcesContent":["/*jslint browser: true */\n/*jslint node: true */\n/*global ActiveXObject, addClass, addListener, appendFragment, Carousel,\nCookies, dataSrcIframeClass, dataSrcImgClass, debounce, DISQUS, doesFontExist,\nearlySvgSupport, earlySvgasimgSupport, earlyHasTouch, earlyDeviceType,\nearlyDeviceFormfactor, findPos, fixEnRuTypo, forcedHTTP, getByClass,\ngetHumanDate, hasClass, IframeLightbox, imgLightbox, insertExternalHTML,\ninsertFromTemplate, insertTextAsFragment, isNodejs, isElectron, isNwjs,\nisValidId, Kamil, LazyLoad, loadDeferred, LoadingSpinner, loadJsCss,\nloadJsonResponse, manageImgLightbox, manageIframeLightbox,\nmanageExpandingLayerAll, manageSearchInput, manageExternalLinkAll,\nmanageDataSrcImgAll, manageDataSrcIframeAll, Masonry, Mustache,\nneedsPolyfills, notiBar, openDeviceBrowser, Packery, parseLink, QRCode,\nremoveChildren, removeClass, removeListener, renderTemplate, require,\nsafelyParseJSON, scroll2Top, setDisplayBlock, setDisplayNone, supportsCanvas,\nsupportsPassive, supportsSvgSmilAnimation, t, throttle, toggleClass,\nToProgress, truncString, unescape, VK, Ya*/\n/*property console, join, split */\n/*!\n * safe way to handle console.log\n * @see {@link https://github.com/paulmillr/console-polyfill}\n */\n(function (root, document) {\n\t\"use strict\";\n\tif (!root.console) {\n\t\troot.console = {};\n\t}\n\tvar con = root.console;\n\tvar prop;\n\tvar method;\n\tvar dummy = function () {};\n\tvar properties = [\"memory\"];\n\tvar methods = [\"assert,clear,count,debug,dir,dirxml,error,exception,group,\",\n\t\t\"groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,\",\n\t\t\"show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn\"];\n\tmethods.join(\"\").split(\",\");\n\tfor (; (prop = properties.pop()); ) {\n\t\tif (!con[prop]) {\n\t\t\tcon[prop] = {};\n\t\t}\n\t}\n\tfor (; (method = methods.pop()); ) {\n\t\tif (!con[method]) {\n\t\t\tcon[method] = dummy;\n\t\t}\n\t}\n\tprop = method = dummy = properties = methods = null;\n\n\t/*!\n\t * supportsPassive\n\t */\n\troot.supportsPassive = (function () {\n\t\tvar support = false;\n\t\ttry {\n\t\t\tvar opts = Object.defineProperty && Object.defineProperty({}, \"passive\", {\n\t\t\t\t\tget: function () {\n\t\t\t\t\t\tsupport = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\troot.addEventListener(\"test\", function () {}, opts);\n\t\t} catch (err) {}\n\t\treturn support;\n\t})();\n\n\t/*!\n\t * supportsSvgSmilAnimation\n\t */\n\troot.supportsSvgSmilAnimation = (function () {\n\t\tvar toStringFn = {}.toString;\n\t\treturn !!document.createElementNS &&\n\t\t(/SVGAnimate/).test(toStringFn.call(document.createElementNS(\"http://www.w3.org/2000/svg\", \"animate\"))) || \"\";\n\t})();\n\n\t/*!\n\t * supportsCanvas\n\t */\n\troot.supportsCanvas = (function () {\n\t\tvar elem = document.createElement(\"canvas\");\n\t\treturn !!(elem.getContext && elem.getContext(\"2d\"));\n\t})();\n\n\t/*!\n\t * needsPolyfills\n\t */\n\troot.needsPolyfills = (function () {\n\t\treturn !String.prototype.startsWith ||\n\t\t!supportsPassive ||\n\t\t!root.requestAnimationFrame ||\n\t\t!root.matchMedia ||\n\t\t(\"undefined\" === typeof root.Element && !(\"dataset\" in document.documentElement)) ||\n\t\t!(\"classList\" in document.createElement(\"_\")) ||\n\t\tdocument.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")) ||\n\t\t(root.attachEvent && !root.addEventListener) ||\n\t\t!(\"onhashchange\" in root) ||\n\t\t!Array.prototype.indexOf ||\n\t\t!root.Promise ||\n\t\t!root.fetch ||\n\t\t!document.querySelectorAll ||\n\t\t!document.querySelector ||\n\t\t!Function.prototype.bind ||\n\t\t(Object.defineProperty &&\n\t\t\tObject.getOwnPropertyDescriptor &&\n\t\t\tObject.getOwnPropertyDescriptor(Element.prototype, \"textContent\") &&\n\t\t\t!Object.getOwnPropertyDescriptor(Element.prototype, \"textContent\").get) ||\n\t\t!(\"undefined\" !== typeof root.localStorage && \"undefined\" !== typeof root.sessionStorage) ||\n\t\t!root.WeakMap ||\n\t\t!root.MutationObserver;\n\t})();\n\n\t/*!\n\t * getHumanDate\n\t */\n\troot.getHumanDate = (function () {\n\t\tvar newDate = (new Date());\n\t\tvar newDay = newDate.getDate();\n\t\tvar newYear = newDate.getFullYear();\n\t\tvar newMonth = newDate.getMonth();\n\t\t(newMonth += 1);\n\t\tif (10 > newDay) {\n\t\t\tnewDay = \"0\" + newDay;\n\t\t}\n\t\tif (10 > newMonth) {\n\t\t\tnewMonth = \"0\" + newMonth;\n\t\t}\n\t\treturn newYear + \"-\" + newMonth + \"-\" + newDay;\n\t})();\n\n\t/*!\n\t * Super-simple wrapper around addEventListener and attachEvent (old IE).\n\t * Does not handle differences in the Event-objects.\n\t * @see {@link https://github.com/finn-no/eventlistener}\n\t */\n\tvar setListener = function (standard, fallback) {\n\t\treturn function (el, type, listener, useCapture) {\n\t\t\tif (el[standard]) {\n\t\t\t\tel[standard](type, listener, useCapture);\n\t\t\t} else {\n\t\t\t\tif (el[fallback]) {\n\t\t\t\t\tel[fallback](\"on\" + type, listener);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\troot.addListener = setListener(\"addEventListener\", \"attachEvent\");\n\troot.removeListener = setListener(\"removeEventListener\", \"detachEvent\");\n\n\t/*!\n\t * get elements by class name wrapper\n\t */\n\troot.getByClass = function (parent, name) {\n\t\tif (!document.getElementsByClassName) {\n\t\t\tvar children = (parent || document.body).getElementsByTagName(\"*\"),\n\t\t\telements = [],\n\t\t\tclassRE = new RegExp(\"\\\\b\" + name + \"\\\\b\"),\n\t\t\tchild;\n\t\t\tvar i,\n\t\t\tl;\n\t\t\tfor (i = 0, l = children.length; i < l; i += 1) {\n\t\t\t\tchild = children[i];\n\t\t\t\tif (classRE.test(child.className)) {\n\t\t\t\t\telements.push(child);\n\t\t\t\t}\n\t\t\t}\n\t\t\ti = l = null;\n\t\t\treturn elements;\n\t\t} else {\n\t\t\treturn parent ? parent.getElementsByClassName(name) : \"\";\n\t\t}\n\t};\n\n\t/*!\n\t * class list wrapper\n\t */\n\tvar hasClass;\n\tvar addClass;\n\tvar removeClass;\n\tif (\"classList\" in document.documentElement) {\n\t\thasClass = function (el, name) {\n\t\t\treturn el.classList.contains(name);\n\t\t};\n\t\taddClass = function (el, name) {\n\t\t\tel.classList.add(name);\n\t\t};\n\t\tremoveClass = function (el, name) {\n\t\t\tel.classList.remove(name);\n\t\t};\n\t} else {\n\t\thasClass = function (el, name) {\n\t\t\treturn new RegExp(\"\\\\b\" + name + \"\\\\b\").test(el.className);\n\t\t};\n\t\taddClass = function (el, name) {\n\t\t\tif (!hasClass(el, name)) {\n\t\t\t\tel.className += \" \" + name;\n\t\t\t}\n\t\t};\n\t\tremoveClass = function (el, name) {\n\t\t\tel.className = el.className.replace(new RegExp(\"\\\\b\" + name + \"\\\\b\", \"g\"), \"\");\n\t\t};\n\t}\n\troot.hasClass = hasClass;\n\troot.addClass = addClass;\n\troot.removeClass = removeClass;\n\troot.toggleClass = function (el, name) {\n\t\tif (hasClass(el, name)) {\n\t\t\tremoveClass(el, name);\n\t\t} else {\n\t\t\taddClass(el, name);\n\t\t}\n\t};\n\n\t/*!\n\t * parseLink\n\t */\n\t/*jshint bitwise: false */\n\troot.parseLink = function (url, full) {\n\t\tvar _full = full || \"\";\n\t\treturn (function () {\n\t\t\tvar _replace = function (s) {\n\t\t\t\treturn s.replace(/^(#|\\?)/, \"\").replace(/\\:$/, \"\");\n\t\t\t};\n\t\t\tvar _location = location || \"\";\n\t\t\tvar _protocol = function (protocol) {\n\t\t\t\tswitch (protocol) {\n\t\t\t\tcase \"http:\":\n\t\t\t\t\treturn _full ? \":\" + 80 : 80;\n\t\t\t\tcase \"https:\":\n\t\t\t\t\treturn _full ? \":\" + 443 : 443;\n\t\t\t\tdefault:\n\t\t\t\t\treturn _full ? \":\" + _location.port : _location.port;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar _isAbsolute = (0 === url.indexOf(\"//\") || !!~url.indexOf(\"://\"));\n\t\t\tvar _locationHref = root.location || \"\";\n\t\t\tvar _origin = function () {\n\t\t\t\tvar o = _locationHref.protocol +\n\t\t\t\t\t\"//\" +\n\t\t\t\t\t_locationHref.hostname +\n\t\t\t\t\t(_locationHref.port ? \":\" + _locationHref.port : \"\");\n\t\t\t\treturn o || \"\";\n\t\t\t};\n\t\t\tvar _isCrossDomain = function () {\n\t\t\t\tvar c = document.createElement(\"a\");\n\t\t\t\tc.href = url;\n\t\t\t\tvar v = c.protocol + \"//\" + c.hostname + (c.port ? \":\" + c.port : \"\");\n\t\t\t\treturn v !== _origin();\n\t\t\t};\n\t\t\tvar _link = document.createElement(\"a\");\n\t\t\t_link.href = url;\n\t\t\treturn {\n\t\t\t\thref: _link.href,\n\t\t\t\torigin: _origin(),\n\t\t\t\thost: _link.host || _location.host,\n\t\t\t\tport: (\"0\" === _link.port || \"\" === _link.port) ?\n\t\t\t\t_protocol(_link.protocol) :\n\t\t\t\t(_full ? _link.port : _replace(_link.port)),\n\t\t\t\thash: _full ? _link.hash : _replace(_link.hash),\n\t\t\t\thostname: _link.hostname || _location.hostname,\n\t\t\t\tpathname: _link.pathname.charAt(0) !== \"/\" ?\n\t\t\t\t(_full ? \"/\" + _link.pathname : _link.pathname) :\n\t\t\t\t(_full ? _link.pathname : _link.pathname.slice(1)),\n\t\t\t\tprotocol: !_link.protocol ||\n\t\t\t\t\":\" === _link.protocol ?\n\t\t\t\t(_full ? _location.protocol : _replace(_location.protocol)) :\n\t\t\t\t(_full ? _link.protocol : _replace(_link.protocol)),\n\t\t\t\tsearch: _full ? _link.search : _replace(_link.search),\n\t\t\t\tquery: _full ? _link.search : _replace(_link.search),\n\t\t\t\tisAbsolute: _isAbsolute,\n\t\t\t\tisRelative: !_isAbsolute,\n\t\t\t\tisCrossDomain: _isCrossDomain(),\n\t\t\t\thasHTTP: (/^(http|https):\\/\\//i).test(url) ? true : false\n\t\t\t};\n\t\t})();\n\t};\n\t/*jshint bitwise: true */\n\n\t/*!\n\t * getHTTP\n\t */\n\tvar getHTTP = function (force) {\n\t\tvar any = force || \"\";\n\t\tvar locProtocol = root.location.protocol || \"\";\n\t\treturn \"http:\" === locProtocol ? \"http\" : \"https:\" === locProtocol ? \"https\" : any ? \"http\" : \"\";\n\t};\n\troot.getHTTP = getHTTP;\n\troot.forcedHTTP = getHTTP(true);\n\n\t/*!\n\t * throttle\n\t */\n\troot.throttle = function (func, wait) {\n\t\tvar ctx;\n\t\tvar args;\n\t\tvar rtn;\n\t\tvar timeoutID;\n\t\tvar last = 0;\n\t\tfunction call() {\n\t\t\ttimeoutID = 0;\n\t\t\tlast = +new Date();\n\t\t\trtn = func.apply(ctx, args);\n\t\t\tctx = null;\n\t\t\targs = null;\n\t\t}\n\t\treturn function throttled() {\n\t\t\tctx = this;\n\t\t\targs = arguments;\n\t\t\tvar delta = new Date() - last;\n\t\t\tif (!timeoutID) {\n\t\t\t\tif (delta >= wait) {\n\t\t\t\t\tcall();\n\t\t\t\t} else {\n\t\t\t\t\ttimeoutID = setTimeout(call, wait - delta);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn rtn;\n\t\t};\n\t};\n\n\t/*!\n\t * debounce\n\t */\n\troot.debounce = function (func, wait) {\n\t\tvar timeout;\n\t\tvar args;\n\t\tvar context;\n\t\tvar timestamp;\n\t\treturn function () {\n\t\t\tcontext = this;\n\t\t\targs = [].slice.call(arguments, 0);\n\t\t\ttimestamp = new Date();\n\t\t\tvar later = function () {\n\t\t\t\tvar last = (new Date()) - timestamp;\n\t\t\t\tif (last < wait) {\n\t\t\t\t\ttimeout = setTimeout(later, wait - last);\n\t\t\t\t} else {\n\t\t\t\t\ttimeout = null;\n\t\t\t\t\tfunc.apply(context, args);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\t/*!\n\t * isNodejs isElectron isNwjs;\n\t */\n\troot.isNodejs = \"undefined\" !== typeof process && \"undefined\" !== typeof require || \"\";\n\troot.isElectron = (function () {\n\t\tif (typeof root !== \"undefined\" &&\n\t\t\ttypeof root.process === \"object\" &&\n\t\t\troot.process.type === \"renderer\") {\n\t\t\treturn true;\n\t\t}\n\t\tif (typeof root !== \"undefined\" &&\n\t\t\ttypeof root.process !== \"undefined\" &&\n\t\t\ttypeof root.process.versions === \"object\" &&\n\t\t\t!!root.process.versions.electron) {\n\t\t\treturn true;\n\t\t}\n\t\tif (typeof navigator === \"object\" &&\n\t\t\ttypeof navigator.userAgent === \"string\" &&\n\t\t\tnavigator.userAgent.indexOf(\"Electron\") >= 0) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t})();\n\troot.isNwjs = (function () {\n\t\tif (\"undefined\" !== typeof isNodejs && isNodejs) {\n\t\t\ttry {\n\t\t\t\tif (\"undefined\" !== typeof require(\"nw.gui\")) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t})();\n\n\t/*!\n\t * openDeviceBrowser\n\t */\n\troot.openDeviceBrowser = function (url) {\n\t\tvar onElectron = function () {\n\t\t\tvar es = isElectron ? require(\"electron\").shell : \"\";\n\t\t\treturn es ? es.openExternal(url) : \"\";\n\t\t};\n\t\tvar onNwjs = function () {\n\t\t\tvar ns = isNwjs ? require(\"nw.gui\").Shell : \"\";\n\t\t\treturn ns ? ns.openExternal(url) : \"\";\n\t\t};\n\t\tvar onLocal = function () {\n\t\t\treturn root.open(url, \"_system\", \"scrollbars=1,location=no\");\n\t\t};\n\t\tif (isElectron) {\n\t\t\tonElectron();\n\t\t} else if (isNwjs) {\n\t\t\tonNwjs();\n\t\t} else {\n\t\t\tvar locProtocol = root.location.protocol || \"\";\n\t\t\tvar hasHTTP = locProtocol ? \"http:\" === locProtocol ? \"http\" : \"https:\" === locProtocol ? \"https\" : \"\" : \"\";\n\t\t\tif (hasHTTP) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tonLocal();\n\t\t\t}\n\t\t}\n\t};\n\n\t/*!\n\t * scroll2Top\n\t */\n\troot.scroll2Top = function (scrollTargetY, speed, easing) {\n\t\tvar scrollY = root.scrollY || document.documentElement.scrollTop;\n\t\tvar posY = scrollTargetY || 0;\n\t\tvar rate = speed || 2000;\n\t\tvar soothing = easing || \"easeOutSine\";\n\t\tvar currentTime = 0;\n\t\tvar time = Math.max(0.1, Math.min(Math.abs(scrollY - posY) / rate, 0.8));\n\t\tvar easingEquations = {\n\t\t\teaseOutSine: function (pos) {\n\t\t\t\treturn Math.sin(pos * (Math.PI / 2));\n\t\t\t},\n\t\t\teaseInOutSine: function (pos) {\n\t\t\t\treturn (-0.5 * (Math.cos(Math.PI * pos) - 1));\n\t\t\t},\n\t\t\teaseInOutQuint: function (pos) {\n\t\t\t\tif ((pos /= 0.5) < 1) {\n\t\t\t\t\treturn 0.5 * Math.pow(pos, 5);\n\t\t\t\t}\n\t\t\t\treturn 0.5 * (Math.pow((pos - 2), 5) + 2);\n\t\t\t}\n\t\t};\n\t\tfunction tick() {\n\t\t\tcurrentTime += 1 / 60;\n\t\t\tvar p = currentTime / time;\n\t\t\tvar t = easingEquations[soothing](p);\n\t\t\tif (p < 1) {\n\t\t\t\trequestAnimationFrame(tick);\n\t\t\t\troot.scrollTo(0, scrollY + ((posY - scrollY) * t));\n\t\t\t} else {\n\t\t\t\troot.scrollTo(0, posY);\n\t\t\t}\n\t\t}\n\t\ttick();\n\t};\n\n\t/*!\n\t * setDisplayBlock\n\t */\n\troot.setDisplayBlock = function (e) {\n\t\tif (e) {\n\t\t\te.style.display = \"block\";\n\t\t}\n\t};\n\n\t/*!\n\t * setDisplayNone\n\t */\n\troot.setDisplayNone = function (e) {\n\t\tif (e) {\n\t\t\te.style.display = \"none\";\n\t\t}\n\t};\n\n\t/*!\n\t * setVisible\n\t */\n\troot.setVisible = function (e) {\n\t\tif (e) {\n\t\t\te.style.visibility = \"visible\";\n\t\t\te.style.opacity = 1;\n\t\t}\n\t};\n\n\t/*!\n\t * appendFragment\n\t */\n\troot.appendFragment = function (e, a) {\n\t\tvar parent = a || document.getElementsByTagName(\"body\")[0] || \"\";\n\t\tif (e) {\n\t\t\tvar df = document.createDocumentFragment() || \"\";\n\t\t\tif (\"string\" === typeof e) {\n\t\t\t\te = document.createTextNode(e);\n\t\t\t}\n\t\t\tdf.appendChild(e);\n\t\t\tparent.appendChild(df);\n\t\t}\n\t};\n\n\t/*!\n\t * removeElement\n\t */\n\troot.removeElement = function (e) {\n\t\tif (e) {\n\t\t\tif (\"undefined\" !== typeof e.remove) {\n\t\t\t\treturn e.remove();\n\t\t\t} else {\n\t\t\t\treturn e.parentNode && e.parentNode.removeChild(e);\n\t\t\t}\n\t\t}\n\t};\n\n\t/*!\n\t * removeChildren\n\t */\n\troot.removeChildren = function (e) {\n\t\tif (e && e.firstChild) {\n\t\t\tfor (; e.firstChild; ) {\n\t\t\t\te.removeChild(e.firstChild);\n\t\t\t}\n\t\t}\n\t};\n\n\t/*!\n\t * findPos\n\t */\n\troot.findPos = function (e) {\n\t\te = e.getBoundingClientRect();\n\t\tvar docElem = document.documentElement || \"\";\n\t\tvar docBody = document.body || \"\";\n\t\treturn {\n\t\t\ttop: Math.round(e.top + (root.pageYOffset || docElem.scrollTop || docBody.scrollTop) - (docElem.clientTop || docBody.clientTop || 0)),\n\t\t\tleft: Math.round(e.left + (root.pageXOffset || docElem.scrollLeft || docBody.scrollLeft) - (docElem.clientLeft || docBody.clientLeft || 0))\n\t\t};\n\t};\n\n\t/*!\n\t * safelyParseJSON\n\t */\n\troot.safelyParseJSON = function (response) {\n\t\tvar isJson = function (obj) {\n\t\t\tvar objType = typeof obj;\n\t\t\treturn [\"boolean\", \"number\", \"string\", 'symbol', \"function\"].indexOf(objType) === -1;\n\t\t};\n\t\tif (!isJson(response)) {\n\t\t\treturn JSON.parse(response);\n\t\t} else {\n\t\t\treturn response;\n\t\t}\n\t};\n\n\t/*!\n\t * fixEnRuTypo\n\t */\n\troot.fixEnRuTypo = function (e, a, b) {\n\t\tvar c = \"\";\n\t\tif (\"ru\" === a && \"en\" === b) {\n\t\t\ta = '\\u0430\\u0431\\u0432\\u0433\\u0434\\u0435\\u0451\\u0436\\u0437\\u0438\\u0439\\u043a\\u043b\\u043c\\u043d\\u043e\\u043f\\u0440\\u0441\\u0442\\u0443\\u0444\\u0445\\u0446\\u0447\\u0448\\u0449\\u044a\\u044c\\u044b\\u044d\\u044e\\u044f\\u0410\\u0411\\u0412\\u0413\\u0414\\u0415\\u0401\\u0416\\u0417\\u0418\\u0419\\u041a\\u041b\\u041c\\u041d\\u041e\\u041f\\u0420\\u0421\\u0422\\u0423\\u0424\\u0425\\u0426\\u0427\\u0428\\u0429\\u042a\\u042c\\u042b\\u042d\\u042e\\u042f\"\\u2116;:?/.,';\n\t\t\tb = \"f,dult`;pbqrkvyjghcnea[wxio]ms'.zF<DULT~:PBQRKVYJGHCNEA{WXIO}MS'>Z@#$^&|/?\";\n\t\t} else {\n\t\t\ta = \"f,dult`;pbqrkvyjghcnea[wxio]ms'.zF<DULT~:PBQRKVYJGHCNEA{WXIO}MS'>Z@#$^&|/?\";\n\t\t\tb = '\\u0430\\u0431\\u0432\\u0433\\u0434\\u0435\\u0451\\u0436\\u0437\\u0438\\u0439\\u043a\\u043b\\u043c\\u043d\\u043e\\u043f\\u0440\\u0441\\u0442\\u0443\\u0444\\u0445\\u0446\\u0447\\u0448\\u0449\\u044a\\u044c\\u044b\\u044d\\u044e\\u044f\\u0410\\u0411\\u0412\\u0413\\u0414\\u0415\\u0401\\u0416\\u0417\\u0418\\u0419\\u041a\\u041b\\u041c\\u041d\\u041e\\u041f\\u0420\\u0421\\u0422\\u0423\\u0424\\u0425\\u0426\\u0427\\u0428\\u0429\\u042a\\u042c\\u042b\\u042d\\u042e\\u042f\"\\u2116;:?/.,';\n\t\t}\n\t\tvar d;\n\t\tfor (d = 0; d < e.length; d += 1) {\n\t\t\tvar f = a.indexOf(e.charAt(d));\n\t\t\tif (c > f) {\n\t\t\t\tc += e.charAt(d);\n\t\t\t} else {\n\t\t\t\tc += b.charAt(f);\n\t\t\t}\n\t\t}\n\t\td = null;\n\t\treturn c;\n\t};\n\n\t/*!\n\t * truncString\n\t */\n\troot.truncString = function (str, max, add) {\n\t\tvar _add = add || \"\\u2026\";\n\t\treturn (\"string\" === typeof str && str.length > max ? str.substring(0, max) + _add : str);\n\t};\n\n\t/*!\n\t * isValidId\n\t */\n\troot.isValidId = function (a, full) {\n\t\treturn full ? /^\\#[A-Za-z][-A-Za-z0-9_:.]*$/.test(a) ? true : false : /^[A-Za-z][-A-Za-z0-9_:.]*$/.test(a) ? true : false;\n\t};\n\n\t/*!\n\t * insertTextAsFragment\n\t */\n\troot.insertTextAsFragment = function (text, container, callback) {\n\t\tvar cb = function () {\n\t\t\treturn callback && \"function\" === typeof callback && callback();\n\t\t};\n\t\ttry {\n\t\t\tvar clonedContainer = container.cloneNode(false);\n\t\t\tif (container.parentNode) {\n\t\t\t\tif (document.createRange) {\n\t\t\t\t\tvar rg = document.createRange();\n\t\t\t\t\trg.selectNode(document.body);\n\t\t\t\t\tvar df = rg.createContextualFragment(text);\n\t\t\t\t\tclonedContainer.appendChild(df);\n\t\t\t\t\tcontainer.parentNode.replaceChild(clonedContainer, container);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.parentNode.replaceChild(document.createDocumentFragment.appendChild(clonedContainer), container);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcontainer.innerHTML = text;\n\t\t\t}\n\t\t\tcb();\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\treturn;\n\t\t}\n\t};\n\n\t/*!\n\t * renderTemplate\n\t */\n\troot.renderTemplate = function (parsedJson, templateId, renderId) {\n\t\tvar template = document.getElementById(templateId) || \"\";\n\t\tvar render = document.getElementById(renderId) || \"\";\n\t\tvar jsonObj = safelyParseJSON(parsedJson);\n\t\tif (jsonObj && template && render) {\n\t\t\tvar templateContent = template.innerHTML || \"\";\n\t\t\tif (root.t) {\n\t\t\t\tvar parsedTemplate = new t(templateContent);\n\t\t\t\treturn parsedTemplate.render(jsonObj);\n\t\t\t} else {\n\t\t\t\tif (root.Mustache) {\n\t\t\t\t\tMustache.parse(templateContent);\n\t\t\t\t\treturn Mustache.render(templateContent, jsonObj);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"cannot renderTemplate\";\n\t};\n\n\t/*!\n\t * insertFromTemplate\n\t */\n\troot.insertFromTemplate = function (parsedJson, templateId, renderId, callback, useInner) {\n\t\tvar cb = function () {\n\t\t\treturn callback && \"function\" === typeof callback && callback();\n\t\t};\n\t\tvar _useInner = useInner || \"\";\n\t\tvar template = document.getElementById(templateId) || \"\";\n\t\tvar render = document.getElementById(renderId) || \"\";\n\t\tif (parsedJson && template && render) {\n\t\t\tvar html = renderTemplate(parsedJson, templateId, renderId);\n\t\t\tif (_useInner) {\n\t\t\t\trender.innerHTML = html;\n\t\t\t\tcb();\n\t\t\t} else {\n\t\t\t\tinsertTextAsFragment(html, render, cb);\n\t\t\t}\n\t\t}\n\t};\n\n\t/*!\n\t * loadJsonResponse\n\t */\n\troot.loadJsonResponse = function (url, callback, onerror) {\n\t\tvar cb = function (string) {\n\t\t\treturn callback && \"function\" === typeof callback && callback(string);\n\t\t};\n\t\tvar x = root.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\tx.overrideMimeType(\"application/json;charset=utf-8\");\n\t\tx.open(\"GET\", url, true);\n\t\tx.withCredentials = false;\n\t\tx.onreadystatechange = function () {\n\t\t\tif (x.status === 404 || x.status === 0) {\n\t\t\t\tconsole.log(\"Error XMLHttpRequest-ing file\", x.status);\n\t\t\t\treturn onerror && \"function\" === typeof onerror && onerror();\n\t\t\t} else if (x.readyState === 4 && x.status === 200 && x.responseText) {\n\t\t\t\tcb(x.responseText);\n\t\t\t}\n\t\t};\n\t\tx.send(null);\n\t};\n\n\t/*!\n\t * insertExternalHTML\n\t */\n\troot.insertExternalHTML = function (id, url, callback, onerror) {\n\t\tvar cb = function () {\n\t\t\treturn callback && \"function\" === typeof callback && callback();\n\t\t};\n\t\tvar container = document.getElementById(id.replace(/^#/, \"\")) || \"\";\n\t\tvar arrange = function () {\n\t\t\tvar x = root.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t\tx.overrideMimeType(\"text/html;charset=utf-8\");\n\t\t\tx.open(\"GET\", url, true);\n\t\t\tx.withCredentials = false;\n\t\t\tx.onreadystatechange = function () {\n\t\t\t\tif (x.status === 404 || x.status === 0) {\n\t\t\t\t\tconsole.log(\"Error XMLHttpRequest-ing file\", x.status);\n\t\t\t\t\treturn onerror && \"function\" === typeof onerror && onerror();\n\t\t\t\t} else if (x.readyState === 4 && x.status === 200 && x.responseText) {\n\t\t\t\t\tvar frag = x.responseText;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar clonedContainer = container.cloneNode(false);\n\t\t\t\t\t\tif (container.parentNode) {\n\t\t\t\t\t\t\tif (document.createRange) {\n\t\t\t\t\t\t\t\tvar rg = document.createRange();\n\t\t\t\t\t\t\t\trg.selectNode(document.body);\n\t\t\t\t\t\t\t\tvar df = rg.createContextualFragment(frag);\n\t\t\t\t\t\t\t\tclonedContainer.appendChild(df);\n\t\t\t\t\t\t\t\tcontainer.parentNode.replaceChild(clonedContainer, container);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclonedContainer.innerHTML = frag;\n\t\t\t\t\t\t\t\tcontainer.parentNode.replaceChild(document.createDocumentFragment.appendChild(clonedContainer), container);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontainer.innerHTML = frag;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcb();\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t};\n\t\t\tx.send(null);\n\t\t};\n\t\tif (container) {\n\t\t\tarrange();\n\t\t}\n\t};\n\n\t/*!\n\t * notiBar\n\t */\n\troot.notiBar = function (opt) {\n\t\tvar docBody = document.body || \"\";\n\t\tvar notibarClass = \"notibar\";\n\t\tvar notibarContainer = getByClass(document, notibarClass)[0] || \"\";\n\t\tvar messageClass = \"message\";\n\t\tvar closeButtonClass = \"close\";\n\t\tvar defaultKey = \"_notibar_dismiss_\";\n\t\tvar defaultDatum = \"ok\";\n\t\tvar animatedClass = \"animated\";\n\t\tvar fadeInDownClass = \"fadeInDown\";\n\t\tvar fadeOutUpClass = \"fadeOutUp\";\n\t\tif (\"string\" === typeof opt) {\n\t\t\topt = {\n\t\t\t\t\"message\": opt\n\t\t\t};\n\t\t}\n\t\tvar settings = {\n\t\t\t\"message\": \"\",\n\t\t\t\"timeout\": 10000,\n\t\t\t\"key\": defaultKey,\n\t\t\t\"datum\": defaultDatum,\n\t\t\t\"days\": 0,\n\t\t};\n\t\tvar i;\n\t\tfor (i in opt) {\n\t\t\tif (opt.hasOwnProperty(i)) {\n\t\t\t\tsettings[i] = opt[i];\n\t\t\t}\n\t\t}\n\t\ti = null;\n\t\tvar cookieKey = Cookies.get(settings.key) || \"\";\n\t\tif (cookieKey && cookieKey === decodeURIComponent(settings.datum)) {\n\t\t\treturn;\n\t\t}\n\t\tif (notibarContainer) {\n\t\t\tremoveChildren(notibarContainer);\n\t\t} else {\n\t\t\tnotibarContainer = document.createElement(\"div\");\n\t\t\taddClass(notibarContainer, notibarClass);\n\t\t\taddClass(notibarContainer, animatedClass);\n\t\t}\n\t\tvar msgContainer = document.createElement(\"div\");\n\t\taddClass(msgContainer, messageClass);\n\t\tvar msgContent = settings.message || \"\";\n\t\tif (\"string\" === typeof msgContent) {\n\t\t\tmsgContent = document.createTextNode(msgContent);\n\t\t}\n\t\tmsgContainer.appendChild(msgContent);\n\t\tnotibarContainer.appendChild(msgContainer);\n\t\t/* var insertCancelSvg = function (targetObj) {\n\t\t\tvar svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n\t\t\tvar use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n\t\t\tsvg.setAttribute(\"class\", \"ui-icon\");\n\t\t\tuse.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"xlink:href\", \"#ui-icon-Cancel\");\n\t\t\tsvg.appendChild(use);\n\t\t\ttargetObj.appendChild(svg);\n\t\t}, */\n\t\tvar closeButton = document.createElement(\"a\");\n\t\taddClass(closeButton, closeButtonClass);\n\t\t/* insertCancelSvg(closeButton); */\n\t\tvar setCookie = function () {\n\t\t\tif (settings.days) {\n\t\t\t\tCookies.set(settings.key, settings.datum, {\n\t\t\t\t\texpires: settings.days\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tCookies.set(settings.key, settings.datum);\n\t\t\t}\n\t\t};\n\t\tvar hideMessage = function () {\n\t\t\tvar notibarContainer = getByClass(document, notibarClass)[0] || \"\";\n\t\t\tif (notibarContainer) {\n\t\t\t\tremoveClass(notibarContainer, fadeInDownClass);\n\t\t\t\taddClass(notibarContainer, fadeOutUpClass);\n\t\t\t\tremoveChildren(notibarContainer);\n\t\t\t}\n\t\t};\n\t\tvar handleCloseButton = function () {\n\t\t\tremoveListener(closeButton, \"click\", handleCloseButton);\n\t\t\thideMessage();\n\t\t\tsetCookie();\n\t\t};\n\t\taddListener(closeButton, \"click\", handleCloseButton);\n\t\tnotibarContainer.appendChild(closeButton);\n\t\tif (docBody) {\n\t\t\tappendFragment(notibarContainer, docBody);\n\t\t\tremoveClass(notibarContainer, fadeOutUpClass);\n\t\t\taddClass(notibarContainer, fadeInDownClass);\n\t\t\tvar timer = setTimeout(function () {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = null;\n\t\t\t\thideMessage();\n\t\t\t}, settings.timeout);\n\t\t}\n\t};\n\n\t/*!\n\t * modified ToProgress v0.1.1\n\t * arguments.callee changed to TP, a local wrapper function,\n\t * so that public function name is now customizable;\n\t * wrapped in curly brackets:\n\t * else{document.body.appendChild(this.progressBar);};\n\t * removed module check\n\t * @see {@link http://github.com/djyde/ToProgress}\n\t * @see {@link https://github.com/djyde/ToProgress/blob/master/ToProgress.js}\n\t * @see {@link https://gist.github.com/englishextra/6a8c79c9efbf1f2f50523d46a918b785}\n\t * @see {@link https://jsfiddle.net/englishextra/z5xhjde8/}\n\t * passes jshint\n\t */\n\troot.ToProgress = (function () {\n\t\tvar TP = function () {\n\t\t\tvar whichTransitionEvent = function () {\n\t\t\t\tvar t;\n\t\t\t\tvar el = document.createElement(\"fakeelement\");\n\t\t\t\tvar transitions = {\n\t\t\t\t\t\"transition\": \"transitionend\",\n\t\t\t\t\t\"OTransition\": \"oTransitionEnd\",\n\t\t\t\t\t\"MozTransition\": \"transitionend\",\n\t\t\t\t\t\"WebkitTransition\": \"webkitTransitionEnd\"\n\t\t\t\t};\n\t\t\t\tfor (t in transitions) {\n\t\t\t\t\tif (transitions.hasOwnProperty(t)) {\n\t\t\t\t\t\tif (el.style[t] !== undefined) {\n\t\t\t\t\t\t\treturn transitions[t];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tt = null;\n\t\t\t};\n\t\t\tvar transitionEvent = whichTransitionEvent();\n\t\t\tvar ToProgress = function (opt, selector) {\n\t\t\t\tthis.progress = 0;\n\t\t\t\tthis.options = {\n\t\t\t\t\tid: \"top-progress-bar\",\n\t\t\t\t\tcolor: \"#F44336\",\n\t\t\t\t\theight: \"2px\",\n\t\t\t\t\tduration: 0.2,\n\t\t\t\t\tzIndex: \"auto\"\n\t\t\t\t};\n\t\t\t\tif (opt && typeof opt === \"object\") {\n\t\t\t\t\tvar key;\n\t\t\t\t\tfor (key in opt) {\n\t\t\t\t\t\tif (opt.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tthis.options[key] = opt[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tkey = null;\n\t\t\t\t}\n\t\t\t\tthis.options.opacityDuration = this.options.duration * 3;\n\t\t\t\tthis.progressBar = document.createElement(\"div\");\n\t\t\t\tthis.progressBar.id = this.options.id;\n\t\t\t\tthis.progressBar.setCSS = function (style) {\n\t\t\t\t\tvar property;\n\t\t\t\t\tfor (property in style) {\n\t\t\t\t\t\tif (style.hasOwnProperty(property)) {\n\t\t\t\t\t\t\tthis.style[property] = style[property];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tproperty = null;\n\t\t\t\t};\n\t\t\t\tthis.progressBar.setCSS({\n\t\t\t\t\t\"position\": selector ? \"relative\" : \"fixed\",\n\t\t\t\t\t\"top\": \"0\",\n\t\t\t\t\t\"left\": \"0\",\n\t\t\t\t\t\"right\": \"0\",\n\t\t\t\t\t\"background-color\": this.options.color,\n\t\t\t\t\t\"height\": this.options.height,\n\t\t\t\t\t\"width\": \"0%\",\n\t\t\t\t\t\"transition\": \"width \" + this.options.duration + \"s\" + \", opacity \" + this.options.opacityDuration + \"s\",\n\t\t\t\t\t\"-moz-transition\": \"width \" + this.options.duration + \"s\" + \", opacity \" + this.options.opacityDuration + \"s\",\n\t\t\t\t\t\"-webkit-transition\": \"width \" + this.options.duration + \"s\" + \", opacity \" + this.options.opacityDuration + \"s\",\n\t\t\t\t\t\"z-index\": this.options.zIndex\n\t\t\t\t});\n\t\t\t\tif (selector) {\n\t\t\t\t\tvar el;\n\t\t\t\t\tif (selector.indexOf(\"#\", 0) !== -1) {\n\t\t\t\t\t\tel = document.getElementById(selector) || \"\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (selector.indexOf(\".\", 0) !== -1) {\n\t\t\t\t\t\t\tel = document.getElementsByClassName(selector)[0] || \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tif (el.hasChildNodes()) {\n\t\t\t\t\t\t\tel.insertBefore(this.progressBar, el.firstChild);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.appendChild(this.progressBar);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdocument.body.appendChild(this.progressBar);\n\t\t\t\t}\n\t\t\t};\n\t\t\tToProgress.prototype.transit = function () {\n\t\t\t\tthis.progressBar.style.width = this.progress + \"%\";\n\t\t\t};\n\t\t\tToProgress.prototype.getProgress = function () {\n\t\t\t\treturn this.progress;\n\t\t\t};\n\t\t\tToProgress.prototype.setProgress = function (progress, callback) {\n\t\t\t\tthis.show();\n\t\t\t\tif (progress > 100) {\n\t\t\t\t\tthis.progress = 100;\n\t\t\t\t} else if (progress < 0) {\n\t\t\t\t\tthis.progress = 0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.progress = progress;\n\t\t\t\t}\n\t\t\t\tthis.transit();\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\tToProgress.prototype.increase = function (toBeIncreasedProgress, callback) {\n\t\t\t\tthis.show();\n\t\t\t\tthis.setProgress(this.progress + toBeIncreasedProgress, callback);\n\t\t\t};\n\t\t\tToProgress.prototype.decrease = function (toBeDecreasedProgress, callback) {\n\t\t\t\tthis.show();\n\t\t\t\tthis.setProgress(this.progress - toBeDecreasedProgress, callback);\n\t\t\t};\n\t\t\tToProgress.prototype.finish = function (callback) {\n\t\t\t\tvar that = this;\n\t\t\t\tthis.setProgress(100, callback);\n\t\t\t\tthis.hide();\n\t\t\t\tif (transitionEvent) {\n\t\t\t\t\tthis.progressBar.addEventListener(transitionEvent, function (e) {\n\t\t\t\t\t\tthat.reset();\n\t\t\t\t\t\tthat.progressBar.removeEventListener(e.type, TP);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tToProgress.prototype.reset = function (callback) {\n\t\t\t\tthis.progress = 0;\n\t\t\t\tthis.transit();\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\tToProgress.prototype.hide = function () {\n\t\t\t\tthis.progressBar.style.opacity = \"0\";\n\t\t\t};\n\t\t\tToProgress.prototype.show = function () {\n\t\t\t\tthis.progressBar.style.opacity = \"1\";\n\t\t\t};\n\t\t\treturn ToProgress;\n\t\t};\n\t\treturn TP();\n\t})();\n\n\t/*!\n\t * manageExternalLinkAll\n\t */\n\troot.manageExternalLinkAll = function () {\n\t\tvar link = document.getElementsByTagName(\"a\") || \"\";\n\t\tvar arrange = function (e) {\n\t\t\tvar handleLink = function (url, ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tvar logic = function () {\n\t\t\t\t\topenDeviceBrowser(url);\n\t\t\t\t};\n\t\t\t\tdebounce(logic, 200).call(root);\n\t\t\t};\n\t\t\tvar externalLinkIsBindedClass = \"external-link--is-binded\";\n\t\t\tif (!hasClass(e, externalLinkIsBindedClass)) {\n\t\t\t\tvar url = e.getAttribute(\"href\") || \"\";\n\t\t\t\tif (url && parseLink(url).isCrossDomain && parseLink(url).hasHTTP) {\n\t\t\t\t\te.title = \"\" + (parseLink(url).hostname || \"\") + \" откроется в новой вкладке\";\n\t\t\t\t\tif (root.getHTTP && root.getHTTP()) {\n\t\t\t\t\t\te.target = \"_blank\";\n\t\t\t\t\t\te.rel = \"noopener\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddListener(e, \"click\", handleLink.bind(null, url));\n\t\t\t\t\t}\n\t\t\t\t\taddClass(e, externalLinkIsBindedClass);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif (link) {\n\t\t\tvar i,\n\t\t\tl;\n\t\t\tfor (i = 0, l = link.length; i < l; i += 1) {\n\t\t\t\tarrange(link[i]);\n\t\t\t}\n\t\t\ti = l = null;\n\t\t}\n\t};\n\n\t/*!\n\t * manageDataSrcImgAll\n\t * @see {@link https://github.com/verlok/lazyload}\n\t */\n\troot.dataSrcImgClass = \"data-src-img\";\n\n\troot.lazyLoadDataSrcImgInstance = null;\n\troot.manageDataSrcImgAll = function (callback) {\n\t\tvar cb = function () {\n\t\t\treturn callback && \"function\" === typeof callback && callback();\n\t\t};\n\t\tvar isActiveClass = \"is-active\";\n\t\tvar dataSrcImgIsBindedClass = \"data-src-img--is-binded\";\n\t\tvar images = getByClass(document, dataSrcImgClass) || \"\";\n\t\tvar i = images.length;\n\t\twhile (i--) {\n\t\t\tif (!hasClass(images[i], dataSrcImgIsBindedClass)) {\n\t\t\t\taddClass(images[i], dataSrcImgIsBindedClass);\n\t\t\t\taddClass(images[i], isActiveClass);\n\t\t\t\taddListener(images[i], \"load\", cb);\n\t\t\t}\n\t\t}\n\t\ti = null;\n\t\tif (root.LazyLoad) {\n\t\t\tif (root.lazyLoadDataSrcImgInstance) {\n\t\t\t\troot.lazyLoadDataSrcImgInstance.destroy();\n\t\t\t}\n\t\t\troot.lazyLoadDataSrcImgInstance = new LazyLoad({\n\t\t\t\t\telements_selector: \".\" + dataSrcImgClass\n\t\t\t\t});\n\t\t}\n\t};\n\n\t/*!\n\t * manageDataSrcIframeAll\n\t * @see {@link https://github.com/verlok/lazyload}\n\t */\n\troot.dataSrcIframeClass = \"data-src-iframe\";\n\n\troot.lazyLoadDataSrcIframeInstance = null;\n\troot.manageDataSrcIframeAll = function (callback) {\n\t\tvar cb = function () {\n\t\t\treturn callback && \"function\" === typeof callback && callback();\n\t\t};\n\t\tvar isActiveClass = \"is-active\";\n\t\tvar dataSrcIframeIsBindedClass = \"data-src-iframe--is-binded\";\n\t\tvar iframes = getByClass(document, dataSrcIframeClass) || \"\";\n\t\tvar i = iframes.length;\n\t\twhile (i--) {\n\t\t\tif (!hasClass(iframes[i], dataSrcIframeIsBindedClass)) {\n\t\t\t\taddClass(iframes[i], dataSrcIframeIsBindedClass);\n\t\t\t\taddClass(iframes[i], isActiveClass);\n\t\t\t\taddListener(iframes[i], \"load\", cb);\n\t\t\t\tiframes[i].setAttribute(\"frameborder\", \"no\");\n\t\t\t\tiframes[i].setAttribute(\"style\", \"border:none;\");\n\t\t\t\tiframes[i].setAttribute(\"webkitallowfullscreen\", \"true\");\n\t\t\t\tiframes[i].setAttribute(\"mozallowfullscreen\", \"true\");\n\t\t\t\tiframes[i].setAttribute(\"scrolling\", \"no\");\n\t\t\t\tiframes[i].setAttribute(\"allowfullscreen\", \"true\");\n\t\t\t}\n\t\t}\n\t\ti = null;\n\t\tif (root.LazyLoad) {\n\t\t\tif (root.lazyLoadDataSrcIframeInstance) {\n\t\t\t\troot.lazyLoadDataSrcIframeInstance.destroy();\n\t\t\t}\n\t\t\troot.lazyLoadDataSrcIframeInstance = new LazyLoad({\n\t\t\t\t\telements_selector: \".\" + dataSrcIframeClass\n\t\t\t\t});\n\t\t}\n\t};\n\n\t/*!\n\t * manageImgLightbox\n\t * @see {@link https://github.com/englishextra/img-lightbox}\n\t */\n\troot.manageImgLightbox = function () {\n\t\tvar imgLightboxLinkClass = \"img-lightbox-link\";\n\t\tvar link = getByClass(document, imgLightboxLinkClass) || \"\";\n\t\tvar initScript = function () {\n\t\t\timgLightbox(imgLightboxLinkClass, {\n\t\t\t\tonLoaded: function () {\n\t\t\t\t\tLoadingSpinner.hide();\n\t\t\t\t},\n\t\t\t\tonClosed: function () {\n\t\t\t\t\tLoadingSpinner.hide();\n\t\t\t\t},\n\t\t\t\tonCreated: function () {\n\t\t\t\t\tLoadingSpinner.show();\n\t\t\t\t},\n\t\t\t\ttouch: false\n\t\t\t});\n\t\t};\n\t\tif (root.imgLightbox && link) {\n\t\t\tinitScript();\n\t\t}\n\t};\n\n\t/*!\n\t * manageIframeLightbox\n\t * @see {@link https://github.com/englishextra/iframe-lightbox}\n\t */\n\troot.manageIframeLightbox = function () {\n\t\tvar link = getByClass(document, \"iframe-lightbox-link\") || \"\";\n\t\tvar initScript = function () {\n\t\t\tvar arrange = function (e) {\n\t\t\t\te.lightbox = new IframeLightbox(e, {\n\t\t\t\t\t\tonLoaded: function () {\n\t\t\t\t\t\t\tLoadingSpinner.hide();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonClosed: function () {\n\t\t\t\t\t\t\tLoadingSpinner.hide();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonOpened: function () {\n\t\t\t\t\t\t\tLoadingSpinner.show();\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttouch: false\n\t\t\t\t\t});\n\t\t\t};\n\t\t\tvar i,\n\t\t\tl;\n\t\t\tfor (i = 0, l = link.length; i < l; i += 1) {\n\t\t\t\tarrange(link[i]);\n\t\t\t}\n\t\t\ti = l = null;\n\t\t};\n\t\tif (root.IframeLightbox && link) {\n\t\t\tinitScript();\n\t\t}\n\t};\n\n\t/*!\n\t * manageExpandingLayerAll\n\t */\n\troot.manageExpandingLayerAll = function (callback) {\n\t\tvar cb = function () {\n\t\t\treturn callback && \"function\" === typeof callback && callback();\n\t\t};\n\t\tvar btn = getByClass(document, \"btn-expand-hidden-layer\") || \"\";\n\t\tvar isActiveClass = \"is-active\";\n\t\tvar isBindedClass = \"is-binded\";\n\t\tvar arrange = function (e) {\n\t\t\tvar handle = function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tvar layer = _this.parentNode ? _this.parentNode.nextElementSibling : \"\";\n\t\t\t\tif (layer) {\n\t\t\t\t\ttoggleClass(_this, isActiveClass);\n\t\t\t\t\ttoggleClass(layer, isActiveClass);\n\t\t\t\t\tcb();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t};\n\t\t\tif (!hasClass(e, isBindedClass)) {\n\t\t\t\taddListener(e, \"click\", handle);\n\t\t\t\taddClass(e, isBindedClass);\n\t\t\t}\n\t\t};\n\t\tif (btn) {\n\t\t\tvar i,\n\t\t\tl;\n\t\t\tfor (i = 0, l = btn.length; i < l; i += 1) {\n\t\t\t\tarrange(btn[i]);\n\t\t\t}\n\t\t\ti = l = null;\n\t\t}\n\t};\n\n\t/*!\n\t * manageSearchInput\n\t */\n\troot.manageSearchInput = function () {\n\t\tvar text = document.getElementById(\"text\") || \"\";\n\t\tvar handle = function () {\n\t\t\tvar _this = this;\n\t\t\tvar logic = function () {\n\t\t\t\t_this.value = _this.value.replace(/\\\\/g, \"\").replace(/ +(?= )/g, \" \").replace(/\\/+(?=\\/)/g, \"/\") || \"\";\n\t\t\t};\n\t\t\tdebounce(logic, 200).call(root);\n\t\t};\n\t\tif (text) {\n\t\t\ttext.focus();\n\t\t\taddListener(text, \"input\", handle);\n\t\t}\n\t};\n\n\t/*!\n\t * LoadingSpinner\n\t */\n\troot.LoadingSpinner = (function () {\n\t\tvar docBody = document.body || \"\";\n\t\tvar spinnerClass = \"loading-spinner\";\n\t\tvar spinner = getByClass(document, spinnerClass)[0] || \"\";\n\t\tvar isActiveClass = \"loading-spinner--is-active\";\n\t\tif (!spinner) {\n\t\t\tspinner = document.createElement(\"div\");\n\t\t\taddClass(spinner, spinnerClass);\n\t\t\tappendFragment(spinner, docBody);\n\t\t}\n\t\treturn {\n\t\t\tshow: function () {\n\t\t\t\treturn hasClass(docBody, isActiveClass) || addClass(docBody, isActiveClass);\n\t\t\t},\n\t\t\thide: function (callback, timeout) {\n\t\t\t\tvar delay = timeout || 500;\n\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\ttimer = null;\n\t\t\t\t\t\tremoveClass(docBody, isActiveClass);\n\t\t\t\t\t\tif (callback && \"function\" === typeof callback) {\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t}\n\t\t};\n\t})();\n\n\t/*!\n\t * Carousel v1.0\n\t * @see {@link https://habrahabr.ru/post/327246/}\n\t * @see {@link https://codepen.io/iGetPass/pen/apZPMo}\n\t */\n\troot.Carousel = function (setting) {\n\t\tvar _this = this;\n\t\tif (getByClass(document, setting.wrap)[0] === null) {\n\t\t\tconsole.error(\"Carousel not fount selector \" + setting.wrap);\n\t\t\treturn;\n\t\t}\n\t\tvar privates = {};\n\t\tthis.prev_slide = function () {\n\t\t\t--privates.opt.position;\n\t\t\tif (privates.opt.position < 0) {\n\t\t\t\tprivates.opt.position = privates.opt.max_position - 1;\n\t\t\t}\n\t\t\tprivates.sel.wrap.style.transform = \"translateX(-\" + privates.opt.position + \"00%)\";\n\t\t};\n\t\tthis.next_slide = function () {\n\t\t\t++privates.opt.position;\n\t\t\tif (privates.opt.position >= privates.opt.max_position) {\n\t\t\t\tprivates.opt.position = 0;\n\t\t\t}\n\t\t\tprivates.sel.wrap.style.transform = \"translateX(-\" + privates.opt.position + \"00%)\";\n\t\t};\n\t\tprivates.setting = setting;\n\t\tprivates.sel = {\n\t\t\t\"main\": getByClass(document, privates.setting.main)[0],\n\t\t\t\"wrap\": getByClass(document, privates.setting.wrap)[0],\n\t\t\t\"children\": getByClass(document, privates.setting.wrap)[0].children,\n\t\t\t\"prev\": getByClass(document, privates.setting.prev)[0],\n\t\t\t\"next\": getByClass(document, privates.setting.next)[0]\n\t\t};\n\t\tprivates.opt = {\n\t\t\t\"position\": 0,\n\t\t\t\"max_position\": getByClass(document, privates.setting.wrap)[0].children.length\n\t\t};\n\t\tif (privates.sel.prev !== null) {\n\t\t\taddListener(privates.sel.prev, \"click\", function () {\n\t\t\t\t_this.prev_slide();\n\t\t\t});\n\t\t}\n\t\tif (privates.sel.next !== null) {\n\t\t\taddListener(privates.sel.next, \"click\", function () {\n\t\t\t\t_this.next_slide();\n\t\t\t});\n\t\t}\n\t};\n\n\t/*!\n\t * modified Detect Whether a Font is Installed\n\t * @param {String} fontName The name of the font to check\n\t * @return {Boolean}\n\t * @author Kirupa <sam@samclarke.com>\n\t * @see {@link https://www.kirupa.com/html5/detect_whether_font_is_installed.htm}\n\t * passes jshint\n\t */\n\troot.doesFontExist = function (fontName) {\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tvar context = canvas.getContext(\"2d\");\n\t\tvar text = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n\t\tcontext.font = \"72px monospace\";\n\t\tvar baselineSize = context.measureText(text).width;\n\t\tcontext.font = \"72px '\" + fontName + \"', monospace\";\n\t\tvar newSize = context.measureText(text).width;\n\t\tcanvas = null;\n\t\tif (newSize === baselineSize) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\t/*!\n\t * modified loadExt\n\t * @see {@link https://gist.github.com/englishextra/ff9dc7ab002312568742861cb80865c9}\n\t * passes jshint\n\t */\n\troot.loadJsCss = function (files, callback, type) {\n\t\tvar _this = this;\n\t\t_this.files = files;\n\t\t_this.js = [];\n\t\t_this.head = document.getElementsByTagName(\"head\")[0] || \"\";\n\t\t_this.body = document.body || \"\";\n\t\t_this.ref = document.getElementsByTagName(\"script\")[0] || \"\";\n\t\t_this.callback = callback || function () {};\n\t\t_this.type = type ? type.toLowerCase() : \"\";\n\t\t_this.loadStyle = function (file) {\n\t\t\tvar link = document.createElement(\"link\");\n\t\t\tlink.rel = \"stylesheet\";\n\t\t\tlink.type = \"text/css\";\n\t\t\tlink.href = file;\n\t\t\tlink.media = \"only x\";\n\t\t\tlink.onload = function () {\n\t\t\t\tthis.onload = null;\n\t\t\t\tthis.media = \"all\";\n\t\t\t};\n\t\t\tlink.setAttribute(\"property\", \"stylesheet\");\n\t\t\t/* _this.head.appendChild(link); */\n\t\t\t(_this.body || _this.head).appendChild(link);\n\t\t};\n\t\t_this.loadScript = function (i) {\n\t\t\tvar script = document.createElement(\"script\");\n\t\t\tscript.type = \"text/javascript\";\n\t\t\tscript.async = true;\n\t\t\tscript.src = _this.js[i];\n\t\t\tvar loadNextScript = function () {\n\t\t\t\tif (++i < _this.js.length) {\n\t\t\t\t\t_this.loadScript(i);\n\t\t\t\t} else {\n\t\t\t\t\t_this.callback();\n\t\t\t\t}\n\t\t\t};\n\t\t\tscript.onload = function () {\n\t\t\t\tloadNextScript();\n\t\t\t};\n\t\t\t_this.head.appendChild(script);\n\t\t\t/* if (_this.ref.parentNode) {\n\t\t\t\t_this.ref.parentNode[insertBefore](script, _this.ref);\n\t\t\t} else {\n\t\t\t\t(_this.body || _this.head).appendChild(script);\n\t\t\t} */\n\t\t\t(_this.body || _this.head).appendChild(script);\n\t\t};\n\t\tvar i,\n\t\tl;\n\t\tfor (i = 0, l = _this.files.length; i < l; i += 1) {\n\t\t\tif ((/\\.js$|\\.js\\?/).test(_this.files[i]) || _this.type === \"js\") {\n\t\t\t\t_this.js.push(_this.files[i]);\n\t\t\t}\n\t\t\tif ((/\\.css$|\\.css\\?|\\/css\\?/).test(_this.files[i]) || _this.type === \"css\") {\n\t\t\t\t_this.loadStyle(_this.files[i]);\n\t\t\t}\n\t\t}\n\t\ti = l = null;\n\t\tif (_this.js.length > 0) {\n\t\t\t_this.loadScript(0);\n\t\t} else {\n\t\t\t_this.callback();\n\t\t}\n\t};\n\n\t/*!\n\t * loadDeferred\n\t */\n\troot.loadDeferred = function (urlArray, callback) {\n\t\tvar timer;\n\t\tvar handle = function () {\n\t\t\tclearTimeout(timer);\n\t\t\ttimer = null;\n\t\t\tvar load;\n\t\t\tload = new loadJsCss(urlArray, callback);\n\t\t};\n\t\tvar req;\n\t\tvar raf = function () {\n\t\t\tcancelAnimationFrame(req);\n\t\t\ttimer = setTimeout(handle, 0);\n\t\t};\n\t\tif (root.requestAnimationFrame) {\n\t\t\treq = requestAnimationFrame(raf);\n\t\t} else {\n\t\t\taddListener(root, \"load\", handle);\n\t\t}\n\t};\n\n\t/*!\n\t * early utility classes\n\t */\n\troot.earlyDeviceFormfactor = (function (selectors) {\n\t\tvar orientation;\n\t\tvar size;\n\t\tvar addClasses = function (e) {\n\t\t\tvar classesList = e.split(\" \");\n\t\t\tif (selectors) {\n\t\t\t\tvar i;\n\t\t\t\tfor (i = 0; i < classesList.length; i += 1) {\n\t\t\t\t\te = classesList[i];\n\t\t\t\t\tselectors.add(e);\n\t\t\t\t}\n\t\t\t\ti = null;\n\t\t\t}\n\t\t};\n\t\tvar removeClasses = function (e) {\n\t\t\tvar classesList = e.split(\" \");\n\t\t\tif (selectors) {\n\t\t\t\tvar i;\n\t\t\t\tfor (i = 0; i < classesList.length; i += 1) {\n\t\t\t\t\te = classesList[i];\n\t\t\t\t\tselectors.remove(e);\n\t\t\t\t}\n\t\t\t\ti = null;\n\t\t\t}\n\t\t};\n\t\tvar orientationMq = {\n\t\t\tlandscape: \"all and (orientation:landscape)\",\n\t\t\tportrait: \"all and (orientation:portrait)\"\n\t\t};\n\t\tvar sizeMq = {\n\t\t\tsmall: \"all and (max-width:768px)\",\n\t\t\tmedium: \"all and (min-width:768px) and (max-width:991px)\",\n\t\t\tlarge: \"all and (min-width:992px)\"\n\t\t};\n\t\tvar matchMedia = \"matchMedia\";\n\t\tvar matches = \"matches\";\n\t\tvar toggleOrientationClasses = function (mqList, classText) {\n\t\t\tvar handleMq = function (mqList) {\n\t\t\t\tif (mqList[matches]) {\n\t\t\t\t\taddClasses(classText);\n\t\t\t\t\torientation = classText;\n\t\t\t\t} else {\n\t\t\t\t\tremoveClasses(classText);\n\t\t\t\t}\n\t\t\t};\n\t\t\thandleMq(mqList);\n\t\t\tmqList.addListener(handleMq);\n\t\t};\n\t\tvar toggleSizeClasses = function (mqList, classText) {\n\t\t\tvar handleMq = function (mqList) {\n\t\t\t\tif (mqList[matches]) {\n\t\t\t\t\taddClasses(classText);\n\t\t\t\t\tsize = classText;\n\t\t\t\t} else {\n\t\t\t\t\tremoveClasses(classText);\n\t\t\t\t}\n\t\t\t};\n\t\t\thandleMq(mqList);\n\t\t\tmqList.addListener(handleMq);\n\t\t};\n\t\tvar key;\n\t\tfor (key in orientationMq) {\n\t\t\tif (orientationMq.hasOwnProperty(key)) {\n\t\t\t\ttoggleOrientationClasses(root[matchMedia](orientationMq[key]), key);\n\t\t\t}\n\t\t}\n\t\tfor (key in sizeMq) {\n\t\t\tif (sizeMq.hasOwnProperty(key)) {\n\t\t\t\ttoggleSizeClasses(root[matchMedia](sizeMq[key]), key);\n\t\t\t}\n\t\t}\n\t\tkey = null;\n\t\treturn {\n\t\t\torientation: orientation || \"\",\n\t\t\tsize: size || \"\"\n\t\t};\n\t})(document.documentElement.classList || \"\");\n\n\troot.earlyDeviceType = (function (mobile, desktop, opera) {\n\t\tvar selector = (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i).test(opera) ||\n\t\t\t(/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i).test(opera.substr(0, 4)) ?\n\t\t\tmobile :\n\t\t\tdesktop;\n\t\taddClass(document.documentElement, selector);\n\t\treturn selector;\n\t})(\"mobile\", \"desktop\", navigator.userAgent || navigator.vendor || (root).opera);\n\n\troot.earlySvgSupport = (function (selector) {\n\t\tselector = document.implementation.hasFeature(\"http://www.w3.org/2000/svg\", \"1.1\") ? selector : \"no-\" + selector;\n\t\taddClass(document.documentElement, selector);\n\t\treturn selector;\n\t})(\"svg\");\n\n\troot.earlySvgasimgSupport = (function (selector) {\n\t\tselector = document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#Image\", \"1.1\") ? selector : \"no-\" + selector;\n\t\taddClass(document.documentElement, selector);\n\t\treturn selector;\n\t})(\"svgasimg\");\n\n\troot.earlyHasTouch = (function (selector) {\n\t\tselector = \"ontouchstart\" in document.documentElement ? selector : \"no-\" + selector;\n\t\taddClass(document.documentElement, selector);\n\t\treturn selector;\n\t})(\"touch\");\n})(\"undefined\" !== typeof window ? window : this, document);\n/*!\n * app logic\n */\n(function (root, document) {\n\t\"use strict\";\n\n\tvar docElem = document.documentElement || \"\";\n\tvar docBody = document.body || \"\";\n\n\tvar progressBar = new ToProgress({\n\t\t\tid: \"top-progress-bar\",\n\t\t\tcolor: \"#FF2C40\",\n\t\t\theight: \"0.200rem\",\n\t\t\tduration: 0.2,\n\t\t\tzIndex: 999\n\t\t});\n\n\tvar hideProgressBar = function () {\n\t\tprogressBar.finish();\n\t\tprogressBar.hide();\n\t};\n\n\tprogressBar.increase(20);\n\n\tif (supportsSvgSmilAnimation) {\n\t\taddClass(docElem, \"svganimate\");\n\t}\n\n\tvar run = function () {\n\n\t\tvar isActiveClass = \"is-active\";\n\t\tvar isDropdownClass = \"is-dropdown\";\n\t\tvar isFixedClass = \"is-fixed\";\n\t\tvar isCollapsableClass = \"is-collapsable\";\n\n\t\tremoveClass(docElem, \"no-js\");\n\t\taddClass(docElem, \"js\");\n\n\t\tprogressBar.increase(20);\n\n\t\tvar initialDocTitle = document.title || \"\";\n\n\t\tvar userBrowser = \" [\" +\n\t\t\t(getHumanDate ? getHumanDate : \"\") +\n\t\t\t(earlyDeviceType ? \" \" + earlyDeviceType : \"\") +\n\t\t\t(earlyDeviceFormfactor.orientation ? \" \" + earlyDeviceFormfactor.orientation : \"\") +\n\t\t\t(earlyDeviceFormfactor.size ? \" \" + earlyDeviceFormfactor.size : \"\") +\n\t\t\t(earlySvgSupport ? \" \" + earlySvgSupport : \"\") +\n\t\t\t(earlySvgasimgSupport ? \" \" + earlySvgasimgSupport : \"\") +\n\t\t\t(earlyHasTouch ? \" \" + earlyHasTouch : \"\") +\n\t\t\t\"]\";\n\n\t\tif (document.title) {\n\t\t\tdocument.title = document.title + userBrowser;\n\t\t}\n\n\t\tmanageExternalLinkAll();\n\n\t\tmanageSearchInput();\n\n\t\tvar alignToMasterBottomLeft = function (masterId, servantId, sameWidth) {\n\t\t\tsameWidth = sameWidth || \"\";\n\t\t\tvar master = document.getElementById(masterId) || \"\";\n\t\t\tvar servant = document.getElementById(servantId) || \"\";\n\t\t\tif (master && servant) {\n\t\t\t\tvar style = servant.style || \"\";\n\t\t\t\tif (style) {\n\t\t\t\t\tif (sameWidth) {\n\t\t\t\t\t\tstyle.width = servant.offsetWidth + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\tstyle.left = master.offsetLeft + \"px\";\n\t\t\t\t\tstyle.top = (master.offsetTop + master.offsetHeight) + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar handleOtherDropdownLists = function (_self) {\n\t\t\tvar _this = _self || this;\n\t\t\tvar list = getByClass(document, isDropdownClass) || \"\";\n\t\t\tvar removeActiveClass = function (e) {\n\t\t\t\tif (_this !== e) {\n\t\t\t\t\tremoveClass(e, isActiveClass);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (list) {\n\t\t\t\tvar i,\n\t\t\t\tl;\n\t\t\t\tfor (i = 0, l = list.length; i < l; i += 1) {\n\t\t\t\t\tremoveActiveClass(list[i]);\n\t\t\t\t}\n\t\t\t\ti = l = null;\n\t\t\t}\n\t\t};\n\t\tvar manageOtherDropdownListAll = function () {\n\t\t\tvar container = document.getElementById(\"container\") || \"\";\n\t\t\tif (container) {\n\t\t\t\taddListener(container, \"click\", handleOtherDropdownLists);\n\t\t\t}\n\t\t};\n\t\tmanageOtherDropdownListAll();\n\t\taddListener(root, \"hashchange\", handleOtherDropdownLists);\n\n\t\tvar manageChaptersSelect = function () {\n\t\t\tvar chaptersSelect = document.getElementById(\"chapters-select\") || \"\";\n\t\t\tvar holderChaptersSelect = getByClass(document, \"holder-chapters-select\")[0] || \"\";\n\t\t\tvar uiPanelContentsSelect = getByClass(document, \"ui-panel-contents-select\")[0] || \"\";\n\t\t\tvar chaptersListClass = \"chapters-list\";\n\t\t\t/* var rerenderChaptersSelect = function () {\n\t\t\t\tvar handleСhaptersSelect = function () {\n\t\t\t\t\tvar _this = this;\n\t\t\t\t\tvar hashString = _this.options[_this.selectedIndex].value || \"\";\n\t\t\t\t\tvar uiPanelContentsSelectHeight = uiPanelContentsSelect ? (hasClass(uiPanelContentsSelect, isFixedClass) ? uiPanelContentsSelect.offsetHeight : uiPanelContentsSelect.offsetHeight * 2) : 0;\n\t\t\t\t\tif (hashString) {\n\t\t\t\t\t\tvar targetObj = hashString ? (isValidId(hashString, true) ? document.getElementById(hashString.replace(/^#/,\"\")) || \"\" : \"\") : \"\";\n\t\t\t\t\t\tif (targetObj) {\n\t\t\t\t\t\t\tscroll2Top(findPos(targetObj).top - uiPanelContentsSelectHeight, 10000);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\troot.location.hash = hashString;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (!hasClass(chaptersSelect, isBindedClass)) {\n\t\t\t\t\taddListener(chaptersSelect, \"change\", handleСhaptersSelect);\n\t\t\t\t\taddClass(chaptersSelect, isBindedClass);\n\t\t\t\t}\n\t\t\t\tvar rerenderOption = function (option) {\n\t\t\t\t\tif (option) {\n\t\t\t\t\t\tvar optionText = option.textContent;\n\t\t\t\t\t\toption.title = optionText;\n\t\t\t\t\t\tvar optionTextTruncated = truncString(\"\" + optionText, 28);\n\t\t\t\t\t\tremoveChildren(option);\n\t\t\t\t\t\tappendFragment(document.createTextNode(optionTextTruncated), option);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tvar chaptersSelectOptions = chaptersSelect ? chaptersSelect.getElementsByTagName(\"option\") || \"\" : \"\";\n\t\t\t\tvar i,\n\t\t\t\tl;\n\t\t\t\tfor (i = 0, l = chaptersSelectOptions.length; i < l; i += 1) {\n\t\t\t\t\trerenderOption(chaptersSelectOptions[i]);\n\t\t\t\t}\n\t\t\t\ti = l = null;\n\t\t\t}; */\n\t\t\tvar rerenderChaptersList = function () {\n\t\t\t\tvar handleChaptersListItem = function (listObj, hashString) {\n\t\t\t\t\tvar uiPanelContentsSelectHeight = uiPanelContentsSelect ? (hasClass(uiPanelContentsSelect, isFixedClass) ? uiPanelContentsSelect.offsetHeight : uiPanelContentsSelect.offsetHeight * 2) : 0;\n\t\t\t\t\tif (hashString) {\n\t\t\t\t\t\tvar targetObj = hashString ? (isValidId(hashString, true) ? document.getElementById(hashString.replace(/^#/,\"\")) || \"\" : \"\") : \"\";\n\t\t\t\t\t\tif (targetObj) {\n\t\t\t\t\t\t\tscroll2Top(findPos(targetObj).top - uiPanelContentsSelectHeight, 10000);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\troot.location.hash = hashString;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tremoveClass(listObj, isActiveClass);\n\t\t\t\t};\n\t\t\t\tvar chaptersList = document.createElement(\"ul\");\n\t\t\t\tvar chaptersListItems = chaptersSelect ? chaptersSelect.getElementsByTagName(\"option\") || \"\" : \"\";\n\t\t\t\tvar chaptersListBtnDefaultText = \"\";\n\t\t\t\tvar df = document.createDocumentFragment();\n\t\t\t\tvar generateChaptersListItems = function (_this, i) {\n\t\t\t\t\tif (0 === i) {\n\t\t\t\t\t\tchaptersListBtnDefaultText = _this.firstChild.textContent;\n\t\t\t\t\t}\n\t\t\t\t\tvar chaptersListItem = document.createElement(\"li\");\n\t\t\t\t\tvar chaptersListItemText = _this.firstChild.textContent || \"\";\n\t\t\t\t\tvar chaptersListItemValue = _this.value;\n\t\t\t\t\tvar chaptersListItemTextTruncated = truncString(\"\" + chaptersListItemText, 28);\n\t\t\t\t\tchaptersListItem.appendChild(document.createTextNode(chaptersListItemTextTruncated));\n\t\t\t\t\tchaptersListItem.title = chaptersListItemText;\n\t\t\t\t\taddListener(chaptersListItem, \"click\", handleChaptersListItem.bind(null, chaptersList, chaptersListItemValue));\n\t\t\t\t\tdf.appendChild(chaptersListItem);\n\t\t\t\t\tdf.appendChild(document.createTextNode(\"\\n\"));\n\t\t\t\t};\n\t\t\t\tvar i,\n\t\t\t\tl;\n\t\t\t\tfor (i = 0, l = chaptersListItems.length; i < l; i += 1) {\n\t\t\t\t\tgenerateChaptersListItems(chaptersListItems[i], i);\n\t\t\t\t}\n\t\t\t\ti = l = null;\n\t\t\t\tappendFragment(df, chaptersList);\n\t\t\t\taddClass(chaptersList, chaptersListClass);\n\t\t\t\taddClass(chaptersList, isDropdownClass);\n\t\t\t\tholderChaptersSelect.replaceChild(chaptersList, chaptersSelect.parentNode.parentNode);\n\t\t\t\tvar chaptersListBtn = document.createElement(\"a\");\n\t\t\t\tchaptersListBtn.appendChild(document.createTextNode(chaptersListBtnDefaultText));\n\t\t\t\tchaptersList.parentNode.insertBefore(chaptersListBtn, chaptersList);\n\t\t\t\t/* jshint -W107 */\n\t\t\t\tchaptersListBtn.href = \"javascript:void(0);\";\n\t\t\t\t/* jshint +W107 */\n\t\t\t\tvar insertChevronDownSmallSvg = function (targetObj) {\n\t\t\t\t\tvar svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n\t\t\t\t\tvar use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n\t\t\t\t\tsvg.setAttribute(\"class\", \"ui-icon\");\n\t\t\t\t\tuse.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"xlink:href\", \"#ui-icon-ChevronDownSmall\");\n\t\t\t\t\tsvg.appendChild(use);\n\t\t\t\t\ttargetObj.appendChild(svg);\n\t\t\t\t};\n\t\t\t\tinsertChevronDownSmallSvg(chaptersListBtn);\n\t\t\t\tvar handleChaptersListBtn = function (ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\ttoggleClass(chaptersList, isActiveClass);\n\t\t\t\t\thandleOtherDropdownLists(chaptersList);\n\t\t\t\t};\n\t\t\t\taddListener(chaptersListBtn, \"click\", handleChaptersListBtn);\n\t\t\t};\n\t\t\tif (holderChaptersSelect && chaptersSelect) {\n\t\t\t\t/* rerenderChaptersSelect(); */\n\t\t\t\trerenderChaptersList();\n\t\t\t}\n\t\t};\n\n\t\troot.masonryInstance = null;\n\t\troot.packeryInstance = null;\n\t\tvar initMasonry = function () {\n\t\t\tvar gridItemSelector = \".masonry-grid-item\";\n\t\t\tvar gridSizerSelector = \".masonry-grid-sizer\";\n\t\t\tvar grid = getByClass(document, \"masonry-grid\")[0] || \"\";\n\t\t\tvar gridItem = getByClass(document, \"masonry-grid-item\")[0] || \"\";\n\t\t\tvar initScript = function () {\n\t\t\t\tif (root.Masonry) {\n\t\t\t\t\tif (root.masonryInstance) {\n\t\t\t\t\t\troot.masonryInstance.destroy();\n\t\t\t\t\t}\n\t\t\t\t\troot.masonryInstance = new Masonry(grid, {\n\t\t\t\t\t\t\titemSelector: gridItemSelector,\n\t\t\t\t\t\t\tcolumnWidth: gridSizerSelector,\n\t\t\t\t\t\t\tgutter: 0,\n\t\t\t\t\t\t\tpercentPosition: true\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (root.Packery) {\n\t\t\t\t\t\tif (root.packeryInstance) {\n\t\t\t\t\t\t\troot.packeryInstance.destroy();\n\t\t\t\t\t\t}\n\t\t\t\t\t\troot.packeryInstance = new Packery(grid, {\n\t\t\t\t\t\t\t\titemSelector: gridItemSelector,\n\t\t\t\t\t\t\t\tcolumnWidth: gridSizerSelector,\n\t\t\t\t\t\t\t\tgutter: 0,\n\t\t\t\t\t\t\t\tpercentPosition: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = null;\n\t\t\t\t\tif (root.masonryInstance) {\n\t\t\t\t\t\troot.masonryInstance.layout();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (root.packeryInstance) {\n\t\t\t\t\t\t\troot.packeryInstance.layout();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t};\n\t\t\tif (grid && gridItem) {\n\t\t\t\t/* var jsUrl = \"./cdn/masonry/4.1.1/js/masonry.pkgd.fixed.min.js\"; */\n\t\t\t\t/* var jsUrl = \"./cdn/packery/2.1.1/js/packery.pkgd.fixed.js\"; */\n\t\t\t\tinitScript();\n\t\t\t}\n\t\t};\n\n\t\tvar manageDisqusBtn = function () {\n\t\t\tvar btn = getByClass(document, \"btn-show-disqus\")[0] || \"\";\n\t\t\tvar disqusThread = document.getElementById(\"disqus_thread\") || \"\";\n\t\t\tvar locHref = root.location.href || \"\";\n\t\t\tvar shortname = disqusThread ? (disqusThread.dataset.shortname || \"\") : \"\";\n\t\t\tvar hideDisqusButton = function () {\n\t\t\t\taddClass(disqusThread, isActiveClass);\n\t\t\t\tsetDisplayNone(btn);\n\t\t\t};\n\t\t\tvar hide = function () {\n\t\t\t\tremoveChildren(disqusThread);\n\t\t\t\tvar replacementText = document.createElement(\"p\");\n\t\t\t\treplacementText.appendChild(document.createTextNode(\"Комментарии доступны только в веб версии этой страницы.\"));\n\t\t\t\tappendFragment(replacementText, disqusThread);\n\t\t\t\tdisqusThread.removeAttribute(\"id\");\n\t\t\t\thideDisqusButton();\n\t\t\t};\n\t\t\tvar handleBtn = function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tvar logic = function () {\n\t\t\t\t\tvar initScript = function () {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tDISQUS.reset({\n\t\t\t\t\t\t\t\treload: true,\n\t\t\t\t\t\t\t\tconfig: function () {\n\t\t\t\t\t\t\t\t\tthis.page.identifier = shortname;\n\t\t\t\t\t\t\t\t\tthis.page.url = locHref;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tremoveListener(btn, \"click\", handleBtn);\n\t\t\t\t\t\t\thideDisqusButton();\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tthrow new Error(\"cannot DISQUS.reset \" + err);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tvar jsUrl = forcedHTTP + \"://\" + shortname + \".disqus.com/embed.js\";\n\t\t\t\t\tif (!root.DISQUS) {\n\t\t\t\t\t\tvar load;\n\t\t\t\t\t\tload = new loadJsCss([jsUrl], initScript);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinitScript();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tdebounce(logic, 200).call(root);\n\t\t\t};\n\t\t\tif (disqusThread && btn && shortname && locHref) {\n\t\t\t\tif (root.getHTTP && root.getHTTP()) {\n\t\t\t\t\taddListener(btn, \"click\", handleBtn);\n\t\t\t\t} else {\n\t\t\t\t\thide();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar initNotibarMsg = function () {\n\t\t\tvar uiPanelContentsSelect = getByClass(document, \"ui-panel-contents-select\")[0] || \"\";\n\t\t\tvar cookieKey = \"_notibar_dismiss_\";\n\t\t\tvar cookieDatum = \"Выбрать статью можно щелкнув по самофиксирующейся планке с заголовком текущей страницы.\";\n\t\t\tvar locOrigin = parseLink(root.location.href).origin;\n\t\t\tvar arrange = function () {\n\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = null;\n\t\t\t\t\tvar msgObj = document.createElement(\"a\");\n\t\t\t\t\t/* jshint -W107 */\n\t\t\t\t\tmsgObj.href = \"javascript:void(0);\";\n\t\t\t\t\t/* jshint +W107 */\n\t\t\t\t\tvar handleMsgObj = function (ev) {\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tremoveListener(msgObj, \"click\", handleMsgObj);\n\t\t\t\t\t\tvar uiPanelContentsSelectPos = uiPanelContentsSelect ? findPos(uiPanelContentsSelect).top : 0;\n\t\t\t\t\t\tvar uiPanelContentsSelectHeight = uiPanelContentsSelect ? (hasClass(uiPanelContentsSelect, isFixedClass) ? uiPanelContentsSelect.offsetHeight : uiPanelContentsSelect.offsetHeight) : 0;\n\t\t\t\t\t\tscroll2Top(uiPanelContentsSelectPos - uiPanelContentsSelectHeight, 2000);\n\t\t\t\t\t};\n\t\t\t\t\taddListener(msgObj, \"click\", handleMsgObj);\n\t\t\t\t\tmsgObj.appendChild(document.createTextNode(cookieDatum));\n\t\t\t\t\tnotiBar({\n\t\t\t\t\t\t\"message\": msgObj,\n\t\t\t\t\t\t\"timeout\": 5000,\n\t\t\t\t\t\t\"key\": cookieKey,\n\t\t\t\t\t\t\"datum\": cookieDatum,\n\t\t\t\t\t\t\"days\": 0\n\t\t\t\t\t});\n\t\t\t\t}, 3000);\n\t\t\t};\n\t\t\tif (locOrigin && uiPanelContentsSelect) {\n\t\t\t\tif (root.getHTTP && root.getHTTP()) {\n\t\t\t\t\tarrange();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tinitNotibarMsg();\n\n\t\troot.kamilInstance = null;\n\t\tvar manageKamil = function (jsonObj) {\n\t\t\tvar searchForm = getByClass(document, \"search-form\")[0] || \"\";\n\t\t\tvar textInputSelector = \"#text\";\n\t\t\tvar textInput = document.getElementById(\"text\") || \"\";\n\t\t\tvar container = document.getElementById(\"container\") || \"\";\n\t\t\tvar typoAutcompleteListSelector = \"kamil-typo-autocomplete\";\n\t\t\tvar typoAutcompleteListClass = \"kamil-autocomplete\";\n\t\t\tvar initScript = function () {\n\t\t\t\tvar ac;\n\t\t\t\ttry {\n\t\t\t\t\tif (!jsonObj[0].hasOwnProperty(\"title\")) {\n\t\t\t\t\t\tthrow new Error(\"incomplete JSON data: no title\");\n\t\t\t\t\t}\n\t\t\t\t\tac = new Kamil(textInputSelector, {\n\t\t\t\t\t\t\tsource: jsonObj,\n\t\t\t\t\t\t\tproperty: \"title\",\n\t\t\t\t\t\t\tminChars: 2\n\t\t\t\t\t\t});\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log(\"cannot init Kamil\", err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t/*!\n\t\t\t\t * create typo suggestion list\n\t\t\t\t */\n\t\t\t\tvar typoAutcompleteList = document.createElement(\"ul\");\n\t\t\t\tvar typoListItem = document.createElement(\"li\");\n\t\t\t\tvar handleTypoSuggestion = function () {\n\t\t\t\t\tsetDisplayNone(typoAutcompleteList);\n\t\t\t\t\tsetDisplayNone(typoListItem);\n\t\t\t\t};\n\t\t\t\tvar showTypoSuggestion = function () {\n\t\t\t\t\tsetDisplayBlock(typoAutcompleteList);\n\t\t\t\t\tsetDisplayBlock(typoListItem);\n\t\t\t\t};\n\t\t\t\taddClass(typoAutcompleteList, typoAutcompleteListClass);\n\t\t\t\ttypoAutcompleteList.id = typoAutcompleteListSelector;\n\t\t\t\thandleTypoSuggestion();\n\t\t\t\ttypoAutcompleteList.appendChild(typoListItem);\n\t\t\t\ttextInput.parentNode.insertBefore(typoAutcompleteList, textInput.nextElementSibling);\n\t\t\t\t/*!\n\t\t\t\t * this is an optional setup of every li\n\t\t\t\t * uset to set a description title attribute\n\t\t\t\t * comment out the title attribute setup below\n\t\t\t\t */\n\t\t\t\tac.renderItem = function (ul, item) {\n\t\t\t\t\tvar li = document.createElement(\"li\");\n\t\t\t\t\t/* li.innerHTML = item.title; */\n\t\t\t\t\tappendFragment(document.createTextNode(\"\" + item.title), li);\n\t\t\t\t\tli.title = item.text;\n\t\t\t\t\tul.appendChild(li);\n\t\t\t\t\treturn li;\n\t\t\t\t};\n\t\t\t\t/*!\n\t\t\t\t * show suggestions\n\t\t\t\t */\n\t\t\t\tac.renderMenu = function (ul, stance) {\n\t\t\t\t\tvar items = stance || \"\";\n\t\t\t\t\tvar itemsLength = items.length;\n\t\t\t\t\tvar _this = this;\n\t\t\t\t\t/*!\n\t\t\t\t\t * limit output\n\t\t\t\t\t */\n\t\t\t\t\tvar limitKamilOutput = function (e, i) {\n\t\t\t\t\t\tif (i < 10) {\n\t\t\t\t\t\t\t_this._renderItemData(ul, e, i);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (items) {\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tfor (i = 0; i < itemsLength; i += 1) {\n\t\t\t\t\t\t\tlimitKamilOutput(items[i], i);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti = null;\n\t\t\t\t\t}\n\t\t\t\t\t/*!\n\t\t\t\t\t * fix typo - non latin characters found\n\t\t\t\t\t */\n\t\t\t\t\tvar logic = function () {\n\t\t\t\t\t\twhile (itemsLength < 1) {\n\t\t\t\t\t\t\tvar textInputValue = textInput.value || \"\";\n\t\t\t\t\t\t\tif (/[^\\u0000-\\u007f]/.test(textInputValue)) {\n\t\t\t\t\t\t\t\ttextInputValue = fixEnRuTypo(textInputValue, \"ru\", \"en\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttextInputValue = fixEnRuTypo(textInputValue, \"en\", \"ru\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshowTypoSuggestion();\n\t\t\t\t\t\t\tremoveChildren(typoListItem);\n\t\t\t\t\t\t\tappendFragment(document.createTextNode(\"\" + textInputValue), typoListItem);\n\t\t\t\t\t\t\tif (textInputValue.match(/^\\s*$/)) {\n\t\t\t\t\t\t\t\thandleTypoSuggestion();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/*!\n\t\t\t\t\t\t\t * hide typo suggestion\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tif (textInput.value.length < 3 || textInput.value.match(/^\\s*$/)) {\n\t\t\t\t\t\t\t\thandleTypoSuggestion();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titemsLength += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tdebounce(logic, 200).call(root);\n\t\t\t\t\t/*!\n\t\t\t\t\t * truncate text\n\t\t\t\t\t */\n\t\t\t\t\tvar lis = ul ? ul.getElementsByTagName(\"li\") || \"\" : \"\";\n\t\t\t\t\tvar truncateKamilText = function (e) {\n\t\t\t\t\t\tvar truncText = e.firstChild.textContent || \"\";\n\t\t\t\t\t\tvar truncTextObj = document.createTextNode(truncString(truncText, 24));\n\t\t\t\t\t\te.replaceChild(truncTextObj, e.firstChild);\n\t\t\t\t\t\t/* e.title = \"\" + truncText; */\n\t\t\t\t\t};\n\t\t\t\t\tif (lis) {\n\t\t\t\t\t\tvar j,\n\t\t\t\t\t\tm;\n\t\t\t\t\t\tfor (j = 0, m = lis.length; j < m; j += 1) {\n\t\t\t\t\t\t\ttruncateKamilText(lis[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tj = m = null;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t/*!\n\t\t\t\t * set text input value from typo suggestion\n\t\t\t\t */\n\t\t\t\tvar handleTypoListItem = function (ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t/*!\n\t\t\t\t\t * set focus first, then set text\n\t\t\t\t\t */\n\t\t\t\t\ttextInput.focus();\n\t\t\t\t\ttextInput.value = typoListItem.textContent || \"\";\n\t\t\t\t\thandleTypoSuggestion();\n\t\t\t\t};\n\t\t\t\taddListener(typoListItem, \"click\", handleTypoListItem);\n\t\t\t\t/*!\n\t\t\t\t * hide suggestions on outside click\n\t\t\t\t */\n\t\t\t\tif (container) {\n\t\t\t\t\taddListener(container, \"click\", handleTypoSuggestion);\n\t\t\t\t}\n\t\t\t\t/*!\n\t\t\t\t * unless you specify property option in new Kamil\n\t\t\t\t * use kamil built-in word label as search key in JSON file\n\t\t\t\t * [{\"link\":\"/\",\"label\":\"some text to match\"},\n\t\t\t\t * {\"link\":\"/pages/contents.html\",\"label\":\"some text to match\"}]\n\t\t\t\t */\n\t\t\t\tac.on(\"kamilselect\", function (e) {\n\t\t\t\t\tvar kamilItemLink = e.item.href || \"\";\n\t\t\t\t\tvar handleKamilItem = function () {\n\t\t\t\t\t\te.inputElement.value = \"\";\n\t\t\t\t\t\thandleTypoSuggestion();\n\t\t\t\t\t\troot.location.href = kamilItemLink;\n\t\t\t\t\t};\n\t\t\t\t\tif (kamilItemLink) {\n\t\t\t\t\t\t/*!\n\t\t\t\t\t\t * nwjs wont like setImmediate here\n\t\t\t\t\t\t */\n\t\t\t\t\t\t/* setImmediate(handleKamilItem); */\n\t\t\t\t\t\thandleKamilItem();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\tif (root.Kamil && searchForm && textInput) {\n\t\t\t\tinitScript();\n\t\t\t}\n\t\t};\n\n\t\tvar renderNavigation = function () {\n\t\t\tvar navbar = document.getElementById(\"navbar\") || \"\";\n\t\t\tvar navbarParent = navbar.parentNode || \"\";\n\t\t\tvar popularTemplateId = \"template_navbar_popular\";\n\t\t\tvar popularTemplate = document.getElementById(popularTemplateId) || \"\";\n\t\t\tvar popularRenderId = \"render_navbar_popular\";\n\t\t\tvar popularRender = document.getElementById(popularRenderId) || \"\";\n\t\t\tvar moreTemplateId = \"template_navbar_more\";\n\t\t\tvar moreTemplate = document.getElementById(moreTemplateId) || \"\";\n\t\t\tvar moreRenderId = \"render_navbar_more\";\n\t\t\tvar moreRender = document.getElementById(moreRenderId) || \"\";\n\t\t\tvar carouselTemplateId = \"template_b_carousel\";\n\t\t\tvar carouselTemplate = document.getElementById(carouselTemplateId) || \"\";\n\t\t\tvar carouselRenderId = \"render_b_carousel\";\n\t\t\tvar carouselRender = document.getElementById(carouselRenderId) || \"\";\n\t\t\tvar carouselRenderParent = carouselRender.parentNode || \"\";\n\t\t\tvar showRenderNavbarPopularId = \"show_render_navbar_popular\";\n\t\t\tvar showRenderNavbarPopular = document.getElementById(showRenderNavbarPopularId) || \"\";\n\t\t\tvar renderNavbarPopularId = \"render_navbar_popular\";\n\t\t\tvar renderNavbarPopular = document.getElementById(renderNavbarPopularId) || \"\";\n\t\t\tvar showRenderNavbarMoreId = \"show_render_navbar_more\";\n\t\t\tvar showRenderNavbarMore = document.getElementById(showRenderNavbarMoreId) || \"\";\n\t\t\tvar renderNavbarMoreId = \"render_navbar_more\";\n\t\t\tvar renderNavbarMore = document.getElementById(renderNavbarMoreId) || \"\";\n\t\t\tvar navigationJsonUrl = \"./libs/pwa-englishextra/json/navigation.json\";\n\t\t\tvar processNavigationJsonResponse = function (navigationJsonResponse) {\n\t\t\t\ttry {\n\t\t\t\t\tvar navigationJsonObj = JSON.parse(navigationJsonResponse);\n\t\t\t\t\tif (!navigationJsonObj.navbar_popular) {\n\t\t\t\t\t\tthrow new Error(\"incomplete JSON data: no navbar_popular\");\n\t\t\t\t\t} else if (!navigationJsonObj.navbar_more) {\n\t\t\t\t\t\tthrow new Error(\"incomplete JSON data: no navbar_more\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!navigationJsonObj.b_carousel) {\n\t\t\t\t\t\t\tthrow new Error(\"incomplete JSON data: no b_carousel\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnavigationJsonObj = null;\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log(\"cannot init processNavigationJsonResponse\", err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar handleListItemAll = function (e) {\n\t\t\t\t\tvar items = e ? e.getElementsByTagName(\"li\") || \"\" : \"\";\n\t\t\t\t\tvar arrange = function (e) {\n\t\t\t\t\t\taddListener(e, \"click\", handleOtherDropdownLists);\n\t\t\t\t\t};\n\t\t\t\t\tif (items) {\n\t\t\t\t\t\tvar i,\n\t\t\t\t\t\tl;\n\t\t\t\t\t\tfor (i = 0, l = items.length; i < l; i += 1) {\n\t\t\t\t\t\t\tarrange(items[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti = l = null;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tvar handleShowRenderNavbarPopular = function (ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\ttoggleClass(renderNavbarPopular, isActiveClass);\n\t\t\t\t\thandleOtherDropdownLists(renderNavbarPopular);\n\t\t\t\t};\n\t\t\t\tvar handleShowRenderNavbarMore = function (ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\ttoggleClass(renderNavbarMore, isActiveClass);\n\t\t\t\t\thandleOtherDropdownLists(renderNavbarMore);\n\t\t\t\t};\n\t\t\t\tvar alignNavbarListAll = function () {\n\t\t\t\t\talignToMasterBottomLeft(showRenderNavbarPopularId, renderNavbarPopularId);\n\t\t\t\t\talignToMasterBottomLeft(showRenderNavbarMoreId, renderNavbarMoreId);\n\t\t\t\t};\n\t\t\t\tvar handleShowNavbarListsWindow = function () {\n\t\t\t\t\tthrottle(alignNavbarListAll, 100).call(root);\n\t\t\t\t};\n\t\t\t\tif (popularTemplate && popularRender) {\n\t\t\t\t\tinsertFromTemplate(navigationJsonResponse, popularTemplateId, popularRenderId, function () {\n\t\t\t\t\t\tif (moreTemplate && moreRender) {\n\t\t\t\t\t\t\tinsertFromTemplate(navigationJsonResponse, moreTemplateId, moreRenderId, function () {\n\t\t\t\t\t\t\t\talignNavbarListAll();\n\t\t\t\t\t\t\t\thandleListItemAll(renderNavbarPopular);\n\t\t\t\t\t\t\t\thandleListItemAll(renderNavbarMore);\n\t\t\t\t\t\t\t\taddListener(showRenderNavbarPopular, \"click\", handleShowRenderNavbarPopular);\n\t\t\t\t\t\t\t\taddListener(showRenderNavbarMore, \"click\", handleShowRenderNavbarMore);\n\t\t\t\t\t\t\t\taddListener(root, \"resize\", handleShowNavbarListsWindow);\n\t\t\t\t\t\t\t\tif (navbarParent) {\n\t\t\t\t\t\t\t\t\tmanageExternalLinkAll(navbarParent);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, true);\n\t\t\t\t}\n\t\t\t\tif (carouselTemplate && carouselRender) {\n\t\t\t\t\tinsertFromTemplate(navigationJsonResponse, carouselTemplateId, carouselRenderId, function () {\n\t\t\t\t\t\tvar carousel;\n\t\t\t\t\t\tcarousel = new Carousel({\n\t\t\t\t\t\t\t\t\"main\": \"js-carousel\",\n\t\t\t\t\t\t\t\t\"wrap\": \"js-carousel__wrap\",\n\t\t\t\t\t\t\t\t\"prev\": \"js-carousel__prev\",\n\t\t\t\t\t\t\t\t\"next\": \"js-carousel__next\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tif (carouselRenderParent) {\n\t\t\t\t\t\t\tmanageExternalLinkAll(carouselRenderParent);\n\t\t\t\t\t\t\t/* var timer = setTimeout(function () {\n\t\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\t\ttimer = null;\n\t\t\t\t\t\t\t\tmanageDataSrcImgAll();\n\t\t\t\t\t\t\t}, 500); */\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (navbar) {\n\t\t\t\tloadJsonResponse(navigationJsonUrl, processNavigationJsonResponse);\n\t\t\t}\n\t\t};\n\t\trenderNavigation();\n\n\t\tvar fixUiPanelContentsSelect = function () {\n\t\t\tvar uiPanelNavigation = getByClass(document, \"ui-panel-navigation\")[0] || \"\";\n\t\t\tvar holderHero = getByClass(document, \"holder-hero\")[0] || \"\";\n\t\t\tvar uiPanelContentsSelect = getByClass(document, \"ui-panel-contents-select\")[0] || \"\";\n\t\t\tvar criticalHeight = (uiPanelNavigation ? uiPanelNavigation.offsetHeight : 0) + (holderHero ? holderHero.offsetHeight : 0);\n\t\t\tvar handleUiPanelContentsSelect = function () {\n\t\t\t\tvar logic = function () {\n\t\t\t\t\tif ((docBody.scrollTop || docElem.scrollTop || 0) > criticalHeight) {\n\t\t\t\t\t\taddClass(uiPanelContentsSelect, isFixedClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tremoveClass(uiPanelContentsSelect, isFixedClass);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthrottle(logic, 100).call(root);\n\t\t\t};\n\t\t\tif (uiPanelContentsSelect) {\n\t\t\t\taddListener(root, \"scroll\", handleUiPanelContentsSelect, {passive: true});\n\t\t\t}\n\t\t};\n\t\tfixUiPanelContentsSelect();\n\n\t\tvar handleOtherSocialBtnAll = function (_self) {\n\t\t\tvar _this = _self || this;\n\t\t\tvar btn = getByClass(document, isCollapsableClass) || \"\";\n\t\t\tvar arrange = function (e) {\n\t\t\t\tif (_this !== e) {\n\t\t\t\t\tremoveClass(e, isActiveClass);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (btn) {\n\t\t\t\tvar i,\n\t\t\t\tl;\n\t\t\t\tfor (i = 0, l = btn.length; i < l; i += 1) {\n\t\t\t\t\tarrange(btn[i]);\n\t\t\t\t}\n\t\t\t\ti = l = null;\n\t\t\t}\n\t\t};\n\t\tvar manageOtherSocialBtnAll = function () {\n\t\t\tvar container = document.getElementById(\"container\") || \"\";\n\t\t\tif (container) {\n\t\t\t\taddListener(container, \"click\", handleOtherSocialBtnAll);\n\t\t\t}\n\t\t};\n\t\tmanageOtherSocialBtnAll();\n\t\taddListener(root, \"hashchange\", handleOtherSocialBtnAll);\n\n\t\tvar manageLocationQrcode = function () {\n\t\t\tvar btn = getByClass(document, \"btn-toggle-holder-location-qrcode\")[0] || \"\";\n\t\t\tvar holder = getByClass(document, \"holder-location-qrcode\")[0] || \"\";\n\t\t\tvar locHref = root.location.href || \"\";\n\t\t\tvar handleBtn = function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tvar logic = function () {\n\t\t\t\t\ttoggleClass(holder, isActiveClass);\n\t\t\t\t\taddClass(holder, isCollapsableClass);\n\t\t\t\t\thandleOtherSocialBtnAll(holder);\n\t\t\t\t\tvar locHref = root.location.href || \"\";\n\t\t\t\t\tvar newImg = document.createElement(\"img\");\n\t\t\t\t\tvar newTitle = document.title ? (\"Ссылка на страницу «\" + document.title.replace(/\\[[^\\]]*?\\]/g, \"\").trim() + \"»\") : \"\";\n\t\t\t\t\tvar newSrc = forcedHTTP + \"://chart.googleapis.com/chart?cht=qr&chld=M%7C4&choe=UTF-8&chs=512x512&chl=\" + encodeURIComponent(locHref);\n\t\t\t\t\tnewImg.alt = newTitle;\n\t\t\t\t\tif (\"undefined\" !== typeof earlySvgSupport && \"svg\" === earlySvgSupport) {\n\t\t\t\t\t\tnewSrc = QRCode.generateSVG(locHref, {\n\t\t\t\t\t\t\t\tecclevel: \"M\",\n\t\t\t\t\t\t\t\tfillcolor: \"#FFFFFF\",\n\t\t\t\t\t\t\t\ttextcolor: \"#191919\",\n\t\t\t\t\t\t\t\tmargin: 4,\n\t\t\t\t\t\t\t\tmodulesize: 8\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tvar XMLS = new XMLSerializer();\n\t\t\t\t\t\tnewSrc = XMLS.serializeToString(newSrc);\n\t\t\t\t\t\tnewSrc = \"data:image/svg+xml;base64,\" + root.btoa(unescape(encodeURIComponent(newSrc)));\n\t\t\t\t\t\tnewImg.src = newSrc;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewSrc = QRCode.generatePNG(locHref, {\n\t\t\t\t\t\t\t\tecclevel: \"M\",\n\t\t\t\t\t\t\t\tformat: \"html\",\n\t\t\t\t\t\t\t\tfillcolor: \"#FFFFFF\",\n\t\t\t\t\t\t\t\ttextcolor: \"#191919\",\n\t\t\t\t\t\t\t\tmargin: 4,\n\t\t\t\t\t\t\t\tmodulesize: 8\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tnewImg.src = newSrc;\n\t\t\t\t\t}\n\t\t\t\t\taddClass(newImg, \"qr-code-img\");\n\t\t\t\t\tnewImg.title = newTitle;\n\t\t\t\t\tremoveChildren(holder);\n\t\t\t\t\tappendFragment(newImg, holder);\n\t\t\t\t};\n\t\t\t\tdebounce(logic, 200).call(root);\n\t\t\t};\n\t\t\tif (root.QRCode &&\n\t\t\t\tbtn &&\n\t\t\t\tholder &&\n\t\t\t\tlocHref &&\n\t\t\t\troot.getHTTP && root.getHTTP()) {\n\n\t\t\t\taddListener(btn, \"click\", handleBtn);\n\t\t\t}\n\t\t};\n\t\tmanageLocationQrcode();\n\n\t\troot.yaShare2Instance = null;\n\t\tvar manageYaShare2Btn = function () {\n\t\t\tvar btn = getByClass(document, \"btn-toggle-holder-share-buttons\")[0] || \"\";\n\t\t\tvar yaShare2Id = \"ya-share2\";\n\t\t\tvar yaShare2 = document.getElementById(yaShare2Id) || \"\";\n\t\t\tvar holder = getByClass(document, \"holder-share-buttons\")[0] || \"\";\n\t\t\tvar handleBtn = function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tvar logic = function () {\n\t\t\t\t\ttoggleClass(holder, isActiveClass);\n\t\t\t\t\taddClass(holder, isCollapsableClass);\n\t\t\t\t\thandleOtherSocialBtnAll(holder);\n\t\t\t\t\tvar initScript = function () {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (root.yaShare2Instance) {\n\t\t\t\t\t\t\t\troot.yaShare2Instance.updateContent({\n\t\t\t\t\t\t\t\t\ttitle: document.title || \"\",\n\t\t\t\t\t\t\t\t\tdescription: document.title || \"\",\n\t\t\t\t\t\t\t\t\turl: root.location.href || \"\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\troot.yaShare2Instance = Ya.share2(yaShare2Id, {\n\t\t\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\t\t\ttitle: document.title || \"\",\n\t\t\t\t\t\t\t\t\t\tdescription: document.title || \"\",\n\t\t\t\t\t\t\t\t\t\turl: root.location.href || \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tthrow new Error(\"cannot root.yaShare2Instance.updateContent or Ya.share2 \" + err);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (!(root.Ya && Ya.share2)) {\n\t\t\t\t\t\tvar jsUrl = forcedHTTP + \"://yastatic.net/share2/share.js\";\n\t\t\t\t\t\tvar load;\n\t\t\t\t\t\tload = new loadJsCss([jsUrl], initScript);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinitScript();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tdebounce(logic, 200).call(root);\n\t\t\t};\n\t\t\tif (btn && holder && yaShare2) {\n\t\t\t\tif (root.getHTTP && root.getHTTP()) {\n\t\t\t\t\taddListener(btn, \"click\", handleBtn);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tmanageYaShare2Btn();\n\n\t\troot.vkLikeInstance = null;\n\t\tvar manageVkLikeBtn = function () {\n\t\t\tvar btn = getByClass(document, \"btn-toggle-holder-vk-like\")[0] || \"\";\n\t\t\tvar holder = getByClass(document, \"holder-vk-like\")[0] || \"\";\n\t\t\tvar vkLikeId = \"vk-like\";\n\t\t\tvar vkLike = document.getElementById(vkLikeId) || \"\";\n\t\t\tvar handleBtn = function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tvar logic = function () {\n\t\t\t\t\ttoggleClass(holder, isActiveClass);\n\t\t\t\t\taddClass(holder, isCollapsableClass);\n\t\t\t\t\thandleOtherSocialBtnAll(holder);\n\t\t\t\t\tvar initScript = function () {\n\t\t\t\t\t\tif (!root.vkLikeInstance) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tVK.init({\n\t\t\t\t\t\t\t\t\tapiId: (vkLike.dataset.apiid || \"\"),\n\t\t\t\t\t\t\t\t\tnameTransportPath: \"/xd_receiver.htm\",\n\t\t\t\t\t\t\t\t\tonlyWidgets: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tVK.Widgets.Like(vkLikeId, {\n\t\t\t\t\t\t\t\t\ttype: \"button\",\n\t\t\t\t\t\t\t\t\theight: 24\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\troot.vkLikeInstance = true;\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\tthrow new Error(\"cannot VK.init \" + err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (!(root.VK && VK.init && VK.Widgets && VK.Widgets.Like)) {\n\t\t\t\t\t\tvar jsUrl = forcedHTTP + \"://vk.com/js/api/openapi.js?154\";\n\t\t\t\t\t\tvar load;\n\t\t\t\t\t\tload = new loadJsCss([jsUrl], initScript);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinitScript();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tdebounce(logic, 200).call(root);\n\t\t\t};\n\t\t\tif (btn && holder && vkLike) {\n\t\t\t\tif (root.getHTTP && root.getHTTP()) {\n\t\t\t\t\taddListener(btn, \"click\", handleBtn);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tmanageVkLikeBtn();\n\n\t\tvar manageDebugGridBtn = function () {\n\t\t\tvar container = document.getElementById(\"container\") || \"\";\n\t\t\tvar page = document.getElementById(\"page\") || \"\";\n\t\t\tvar btn = getByClass(document, \"btn-toggle-col-debug\")[0] || \"\";\n\t\t\tvar debugClass = \"debug\";\n\t\t\tvar cookieKey = \"_manageDebugGridButton_\";\n\t\t\tvar cookieDatum = \"ok\";\n\t\t\tvar handleBtn = function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\ttoggleClass(container, debugClass);\n\t\t\t\tvar showMsg = function () {\n\t\t\t\t\tvar col = getByClass(document, \"col\")[0] || \"\";\n\t\t\t\t\tvar elements = [docBody, page, container, col];\n\t\t\t\t\tvar debugMessage = [];\n\t\t\t\t\tvar renderElementsInfo = function (e) {\n\t\t\t\t\t\tif (e) {\n\t\t\t\t\t\t\tdebugMessage.push((e.className ? \".\" + e.className : e.id ? \"#\" + e.id : e.tagName), \" \", root.getComputedStyle(e).getPropertyValue(\"font-size\"), \" \", root.getComputedStyle(e).getPropertyValue(\"line-height\"), \" \", e.offsetWidth, \"x\", e.offsetHeight, \" \\u003e \");\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tvar i,\n\t\t\t\t\tl;\n\t\t\t\t\tfor (i = 0, l = elements.length; i < l; i += 1) {\n\t\t\t\t\t\trenderElementsInfo(elements[i]);\n\t\t\t\t\t}\n\t\t\t\t\ti = l = null;\n\t\t\t\t\tdebugMessage = debugMessage.join(\"\");\n\t\t\t\t\tdebugMessage = debugMessage.slice(0, debugMessage.lastIndexOf(\" \\u003e \"));\n\t\t\t\t\tnotiBar({\n\t\t\t\t\t\t\"message\": debugMessage,\n\t\t\t\t\t\t\"timeout\": 5000,\n\t\t\t\t\t\t\"key\": cookieKey,\n\t\t\t\t\t\t\"datum\": cookieDatum,\n\t\t\t\t\t\t\"days\": 0\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tvar handleContainer = function () {\n\t\t\t\t\tif (container) {\n\t\t\t\t\t\tremoveClass(container, debugClass);\n\t\t\t\t\t\tremoveListener(container, \"click\", handleContainer);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (hasClass(container, debugClass)) {\n\t\t\t\t\taddListener(container, \"click\", handleContainer);\n\t\t\t\t\tshowMsg();\n\t\t\t\t} else {\n\t\t\t\t\tremoveListener(container, \"click\", handleContainer);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (page && container && btn) {\n\t\t\t\tvar locHref = root.location.href || \"\";\n\t\t\t\tif (locHref && parseLink(locHref).hasHTTP && (/^(localhost|127.0.0.1)/).test(parseLink(locHref).hostname)) {\n\t\t\t\t\taddListener(btn, \"click\", handleBtn);\n\t\t\t\t} else {\n\t\t\t\t\tsetDisplayNone(btn);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tmanageDebugGridBtn();\n\n\t\tvar initRouting = function () {\n\t\t\tvar appContentId = \"app-content\";\n\t\t\tvar appContent = document.getElementById(appContentId) || \"\";\n\t\t\tvar appContentParent;\n\t\t\tif (appContent) {\n\t\t\t\tappContentParent = appContent.parentNode || \"\";\n\t\t\t}\n\t\t\t/* var contentsSelectTemplate = document.getElementById(\"template_contents_select\") || \"\";\n\t\t\tvar contentsSelectRender = document.getElementById(\"render_contents_select\") || \"\"; */\n\t\t\tvar contentsSelect = getByClass(document, \"contents-select\")[0] || \"\";\n\t\t\tvar holderContentsSelect = getByClass(document, \"holder-contents-select\")[0] || \"\";\n\t\t\tvar contentsListClass = \"contents-list\";\n\t\t\tvar searchTextInput = document.getElementById(\"text\") || \"\";\n\t\t\tvar asideTemplateId = \"template_aside\";\n\t\t\tvar asideRenderId = \"render_aside\";\n\t\t\tvar commentsTemplateId = \"template_comments\";\n\t\t\tvar commentsRenderId = \"render_comments\";\n\t\t\tvar nextHrefTemplateId = \"template_bottom_navigation\";\n\t\t\tvar nextHrefRenderId = \"render_bottom_navigation\";\n\t\t\tvar contentsGridTemplateId = \"template_contents_grid\";\n\t\t\tvar contentsGridRenderId = \"render_contents_grid\";\n\t\t\tvar masonryGridClass = \"masonry-grid\";\n\t\t\tvar routesJsonUrl = \"./libs/pwa-englishextra/json/routes.json\";\n\t\t\tvar contentsListButtonDefaultText = contentsSelect ? (contentsSelect.options[0].firstChild.textContent || \"\") : \"\";\n\t\t\tvar jsonHashRouterIsBindedClass = \"json-hash-router--is-binded\";\n\t\t\tvar processRoutesJsonResponse = function (routesJsonResponse) {\n\t\t\t\tvar routesJsonObj;\n\t\t\t\ttry {\n\t\t\t\t\troutesJsonObj = JSON.parse(routesJsonResponse);\n\t\t\t\t\tif (!routesJsonObj.hashes) {\n\t\t\t\t\t\tthrow new Error(\"incomplete JSON data: no hashes\");\n\t\t\t\t\t} else if (!routesJsonObj.home) {\n\t\t\t\t\t\tthrow new Error(\"incomplete JSON data: no home\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!routesJsonObj.notfound) {\n\t\t\t\t\t\t\tthrow new Error(\"incomplete JSON data: no notfound\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log(\"cannot init processRoutesJsonResponse\", err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar renderMasonry;\n\t\t\t\tvar renderComments;\n\t\t\t\tvar triggerOnContentInserted = function (titleString, nextHrefString, asideObj, routesObj) {\n\t\t\t\t\t/* var h1 = contentsSelect || document.getElementById(\"h1\") || \"\";\n\t\t\t\t\tvar h1Pos = findPos(h1).top || 0;\n\t\t\t\t\tif (h1) {\n\t\t\t\t\t\tscroll2Top(h1Pos, 20000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tscroll2Top(0, 20000);\n\t\t\t\t\t} */\n\t\t\t\t\t/* scroll2Top(0, 20000); */\n\t\t\t\t\t/* if (titleString) { */\n\t\t\t\t\tdocument.title = (titleString ? titleString + \" - \" : \"\") + (initialDocTitle ? initialDocTitle + (userBrowser ? userBrowser : \"\") : \"\");\n\t\t\t\t\t/* } */\n\t\t\t\t\tvar locationHash = root.location.hash || \"\";\n\t\t\t\t\tif (contentsSelect) {\n\t\t\t\t\t\tvar optionMatched = false;\n\t\t\t\t\t\tvar i,\n\t\t\t\t\t\tl;\n\t\t\t\t\t\tfor (i = 0, l = contentsSelect.options.length; i < l; i += 1) {\n\t\t\t\t\t\t\tif (locationHash === contentsSelect.options[i].value) {\n\t\t\t\t\t\t\t\toptionMatched = true;\n\t\t\t\t\t\t\t\tcontentsSelect.selectedIndex = i;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti = l = null;\n\t\t\t\t\t\t/* var key;\n\t\t\t\t\t\tfor (key in contentsSelect.options) {\n\t\t\t\t\t\t\tif (contentsSelect.options.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tif (locationHash === contentsSelect.options[key].value) {\n\t\t\t\t\t\t\t\t\toptionMatched = true;\n\t\t\t\t\t\t\t\t\tcontentsSelect.selectedIndex = key;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tkey = null; */\n\t\t\t\t\t\tif (!optionMatched) {\n\t\t\t\t\t\t\tcontentsSelect.selectedIndex = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar contentsList = getByClass(document, contentsListClass)[0] || \"\";\n\t\t\t\t\tif (contentsList) {\n\t\t\t\t\t\tvar contentsListButton = holderContentsSelect ? holderContentsSelect.getElementsByTagName(\"a\")[0] || \"\" : \"\";\n\t\t\t\t\t\tif (contentsListButton) {\n\t\t\t\t\t\t\tvar itemMatched = false;\n\t\t\t\t\t\t\tvar contentsListItems = contentsList ? contentsList.getElementsByTagName(\"li\") || \"\" : \"\";\n\t\t\t\t\t\t\tvar j,\n\t\t\t\t\t\t\tm;\n\t\t\t\t\t\t\tfor (j = 0, m = contentsListItems.length; j < m; j += 1) {\n\t\t\t\t\t\t\t\tif (locationHash === contentsListItems[j].dataset.href) {\n\t\t\t\t\t\t\t\t\titemMatched = true;\n\t\t\t\t\t\t\t\t\tcontentsListButton.replaceChild(document.createTextNode(contentsListItems[j].firstChild.textContent), contentsListButton.firstChild);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tj = m = null;\n\t\t\t\t\t\t\t/* var key2;\n\t\t\t\t\t\t\tfor (key2 in contentsListItems) {\n\t\t\t\t\t\t\t\tif (contentsListItems.hasOwnProperty(key2)) {\n\t\t\t\t\t\t\t\t\tif (locationHash === contentsListItems[key2].dataset.href) {\n\t\t\t\t\t\t\t\t\t\titemMatched = true;\n\t\t\t\t\t\t\t\t\t\tcontentsListButton.replaceChild(document.createTextNode(contentsListItems[key2].firstChild.textContent), contentsListButton.firstChild);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tkey2 = null; */\n\t\t\t\t\t\t\tif (!itemMatched) {\n\t\t\t\t\t\t\t\tcontentsListButton.replaceChild(document.createTextNode(contentsListButtonDefaultText), contentsListButton.firstChild);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (asideObj) {\n\t\t\t\t\t\tvar asideTemplate = document.getElementById(asideTemplateId) || \"\";\n\t\t\t\t\t\tvar asideRender = document.getElementById(asideRenderId) || \"\";\n\t\t\t\t\t\tvar asideRenderParent = asideRender.parentNode || \"\";\n\t\t\t\t\t\tif (asideTemplate && asideRender) {\n\t\t\t\t\t\t\tinsertFromTemplate(asideObj, asideTemplateId, asideRenderId, function () {\n\t\t\t\t\t\t\t\tif (asideRenderParent) {\n\t\t\t\t\t\t\t\t\tmanageExternalLinkAll(asideRenderParent);\n\t\t\t\t\t\t\t\t\t/* var timer = setTimeout(function () {\n\t\t\t\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\t\t\t\ttimer = null;\n\t\t\t\t\t\t\t\t\t\tmanageDataSrcImgAll();\n\t\t\t\t\t\t\t\t\t}, 500); */\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (nextHrefString) {\n\t\t\t\t\t\tvar nextHrefTemplate = document.getElementById(nextHrefTemplateId) || \"\";\n\t\t\t\t\t\tvar nextHrefRender = document.getElementById(nextHrefRenderId) || \"\";\n\t\t\t\t\t\tif (nextHrefTemplate && nextHrefRender) {\n\t\t\t\t\t\t\tinsertFromTemplate({\n\t\t\t\t\t\t\t\t\"next_href\": nextHrefString\n\t\t\t\t\t\t\t}, nextHrefTemplateId, nextHrefRenderId);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar commentsTemplate = document.getElementById(commentsTemplateId) || \"\";\n\t\t\t\t\tvar commentsRender = document.getElementById(commentsRenderId) || \"\";\n\t\t\t\t\tvar commentsRenderParent = commentsRender.parentNode || \"\";\n\t\t\t\t\tif (commentsTemplate && commentsRender) {\n\t\t\t\t\t\tif (!renderComments) {\n\t\t\t\t\t\t\trenderComments = renderTemplate({}, commentsTemplateId, commentsRenderId);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinsertTextAsFragment(renderComments, commentsRender, function () {\n\t\t\t\t\t\t\tif (commentsRenderParent) {\n\t\t\t\t\t\t\t\tmanageDisqusBtn();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tvar masonryGrid = getByClass(document, masonryGridClass)[0] || \"\";\n\t\t\t\t\tvar masonryGridParent = masonryGrid.parentNode || \"\";\n\t\t\t\t\tif (masonryGrid && masonryGridParent) {\n\t\t\t\t\t\tvar contentsGridTemplate = document.getElementById(contentsGridTemplateId) || \"\";\n\t\t\t\t\t\tvar contentsGridRender = document.getElementById(contentsGridRenderId) || \"\";\n\t\t\t\t\t\tvar contentsGridRenderParent = contentsGridRender.parentNode || \"\";\n\t\t\t\t\t\tif (contentsGridTemplate && contentsGridRender) {\n\t\t\t\t\t\t\tif (!renderMasonry) {\n\t\t\t\t\t\t\t\tif (routesObj) {\n\t\t\t\t\t\t\t\t\trenderMasonry = renderTemplate(routesObj, contentsGridTemplateId, contentsGridRenderId);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinsertTextAsFragment(renderMasonry, contentsGridRender, function () {\n\t\t\t\t\t\t\t\tif (contentsGridRenderParent) {\n\t\t\t\t\t\t\t\t\tinitMasonry(contentsGridRenderParent);\n\t\t\t\t\t\t\t\t\tmanageExternalLinkAll(contentsGridRenderParent);\n\t\t\t\t\t\t\t\t\t/* var timer = setTimeout(function () {\n\t\t\t\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\t\t\t\ttimer = null;\n\t\t\t\t\t\t\t\t\t\tmanageDataSrcImgAll();\n\t\t\t\t\t\t\t\t\t}, 500); */\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinitMasonry(masonryGridParent);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t/*!\n\t\t\t\t\t * cache parent node beforehand\n\t\t\t\t\t * put when templates rendered\n\t\t\t\t\t */\n\t\t\t\t\tif (appContentParent) {\n\t\t\t\t\t\tmanageExternalLinkAll();\n\t\t\t\t\t\tmanageImgLightbox();\n\t\t\t\t\t\tmanageIframeLightbox();\n\t\t\t\t\t\tmanageChaptersSelect();\n\t\t\t\t\t\tmanageExpandingLayerAll();\n\t\t\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\t\ttimer = null;\n\t\t\t\t\t\t\t\tmanageDataSrcIframeAll();\n\t\t\t\t\t\t\t\tmanageDataSrcImgAll();\n\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t}\n\t\t\t\t\tLoadingSpinner.hide(scroll2Top.bind(null, 0, 20000));\n\t\t\t\t};\n\t\t\t\tmanageKamil(routesJsonObj.hashes);\n\t\t\t\tvar handleRoutesWindow = function () {\n\t\t\t\t\tif (searchTextInput) {\n\t\t\t\t\t\tsearchTextInput.blur();\n\t\t\t\t\t}\n\t\t\t\t\tvar locationHash = root.location.hash || \"\";\n\t\t\t\t\tif (locationHash) {\n\t\t\t\t\t\tvar isFound = false;\n\t\t\t\t\t\tvar i,\n\t\t\t\t\t\tl;\n\t\t\t\t\t\tfor (i = 0, l = routesJsonObj.hashes.length; i < l; i += 1) {\n\t\t\t\t\t\t\tif (locationHash === routesJsonObj.hashes[i].href) {\n\t\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t\t\tLoadingSpinner.show();\n\t\t\t\t\t\t\t\tinsertExternalHTML(appContentId, routesJsonObj.hashes[i].url, triggerOnContentInserted.bind(null, routesJsonObj.hashes[i].title, routesJsonObj.hashes[i].next_href, routesJsonObj.hashes[i].aside, routesJsonObj));\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti = l = null;\n\t\t\t\t\t\t/* var key;\n\t\t\t\t\t\tfor (key in routesJsonObj.hashes) {\n\t\t\t\t\t\t\tif (routesJsonObj.hashes.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tif (locationHash === routesJsonObj.hashes[key].href) {\n\t\t\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t\t\t\tLoadingSpinner.show();\n\t\t\t\t\t\t\t\t\tinsertExternalHTML(appContentId, routesJsonObj.hashes[key].url, triggerOnContentInserted.bind(null, routesJsonObj.hashes[key].title, routesJsonObj.hashes[key].next_href, routesJsonObj.hashes[key].aside, routesJsonObj));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tkey = null; */\n\t\t\t\t\t\tif (false === isFound) {\n\t\t\t\t\t\t\tif (document.getElementById(locationHash.substring(1))) {\n\t\t\t\t\t\t\t\troot.location.hash = locationHash;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar notfoundUrl = routesJsonObj.notfound.url;\n\t\t\t\t\t\t\t\tvar notfoundTitle = routesJsonObj.notfound.title;\n\t\t\t\t\t\t\t\tif (notfoundUrl /* && notfoundTitle */) {\n\t\t\t\t\t\t\t\t\tLoadingSpinner.show();\n\t\t\t\t\t\t\t\t\tinsertExternalHTML(appContentId, notfoundUrl, triggerOnContentInserted.bind(null, notfoundTitle, null, null, routesJsonObj));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar homeUrl = routesJsonObj.home.url;\n\t\t\t\t\t\tvar homeTitle = routesJsonObj.home.title;\n\t\t\t\t\t\tif (homeUrl /* && homeTitle */) {\n\t\t\t\t\t\t\tLoadingSpinner.show();\n\t\t\t\t\t\t\tinsertExternalHTML(appContentId, homeUrl, triggerOnContentInserted.bind(null, homeTitle, null, null, routesJsonObj));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\thandleRoutesWindow();\n\t\t\t\tif (!hasClass(docElem, jsonHashRouterIsBindedClass)) {\n\t\t\t\t\taddClass(docElem, jsonHashRouterIsBindedClass);\n\t\t\t\t\taddListener(root, \"hashchange\", handleRoutesWindow);\n\t\t\t\t}\n\t\t\t\t/*!\n\t\t\t\t * insertFromTemplate used in renderTemplate\n\t\t\t\t * will remove event listener from select (parent) element,\n\t\t\t\t * because it uses fragment method and not inner html\n\t\t\t\t * (UPD now you can set last arg as true, and the event listener will work),\n\t\t\t\t * so you will have to use inner html method\n\t\t\t\t * alternative way to generate select options\n\t\t\t\t * with document fragment\n\t\t\t\t */\n\t\t\t\t/* if (contentsSelectTemplate && contentsSelectRender) {\n\t\t\t\t\tvar contentsSelectHtml = contentsSelectTemplate.innerHTML || \"\";\n\t\t\t\t\tvar renderContentsSelectTemplate = new t(contentsSelectHtml);\n\t\t\t\t\tvar contentsSelectRendered = renderContentsSelectTemplate.render(routesJsonObj);\n\t\t\t\t\tcontentsSelectRender.innerHTML = contentsSelectRendered;\n\t\t\t\t} */\n\t\t\t\t/* var rerenderContentsSelect = function () {\n\t\t\t\t\tvar handleContentsSelect = function () {\n\t\t\t\t\t\tvar _this = this;\n\t\t\t\t\t\tvar hashString = _this.options[_this.selectedIndex].value || \"\";\n\t\t\t\t\t\tif (hashString) {\n\t\t\t\t\t\t\tvar targetObj = isValidId(hashString, true) ? document.getElementById(hashString.replace(/^#/, \"\")) || \"\" : \"\";\n\t\t\t\t\t\t\tif (targetObj) {\n\t\t\t\t\t\t\t\tscroll2Top(findPos(targetObj).top, 10000);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (hashString.startsWith(\"#\", 0)) {\n\t\t\t\t\t\t\t\t\troot.location.hash = hashString;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\troot.location.href = hashString;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tvar df = document.createDocumentFragment();\n\t\t\t\t\tvar generateContentsSelectOptions = function (e) {\n\t\t\t\t\t\tif (e.title) {\n\t\t\t\t\t\t\tvar contentsOption = document.createElement(\"option\");\n\t\t\t\t\t\t\tcontentsOption.value = e.href;\n\t\t\t\t\t\t\tvar contentsOptionText = e.title;\n\t\t\t\t\t\t\tcontentsOption.title = contentsOptionText;\n\t\t\t\t\t\t\tvar contentsOptionTextTruncated = truncString(\"\" + contentsOptionText, 44);\n\t\t\t\t\t\t\tcontentsOption.appendChild(document.createTextNode(contentsOptionTextTruncated));\n\t\t\t\t\t\t\tdf.appendChild(contentsOption);\n\t\t\t\t\t\t\tdf.appendChild(document.createTextNode(\"\\n\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tvar i,\n\t\t\t\t\tl;\n\t\t\t\t\tfor (i = 0, l = routesJsonObj.hashes.length; i < l; i += 1) {\n\t\t\t\t\t\tgenerateContentsSelectOptions(routesJsonObj.hashes[i]);\n\t\t\t\t\t}\n\t\t\t\t\ti = l = null;\n\t\t\t\t\tappendFragment(df, contentsSelectRender);\n\t\t\t\t\taddListener(contentsSelect, \"change\", handleContentsSelect);\n\t\t\t\t}; */\n\t\t\t\tvar rerenderContentsList = function () {\n\t\t\t\t\tvar handleContentsListItem = function (listObj, hashString) {\n\t\t\t\t\t\tif (hashString) {\n\t\t\t\t\t\t\tvar targetObj = isValidId(hashString, true) ? document.getElementById(hashString.replace(/^#/, \"\")) || \"\" : \"\";\n\t\t\t\t\t\t\tif (targetObj) {\n\t\t\t\t\t\t\t\tscroll2Top(findPos(targetObj).top, 10000);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (hashString.startsWith(\"#\", 0)) {\n\t\t\t\t\t\t\t\t\troot.location.hash = hashString;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\troot.location.href = hashString;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveClass(listObj, isActiveClass);\n\t\t\t\t\t};\n\t\t\t\t\tvar contentsList = document.createElement(\"ul\");\n\t\t\t\t\tvar contentsListButtonText = contentsSelect.options[0].textContent || \"\";\n\t\t\t\t\tvar df = document.createDocumentFragment();\n\t\t\t\t\tvar generateContentsListItems = function (e) {\n\t\t\t\t\t\tif (e.title) {\n\t\t\t\t\t\t\tvar contentsListItem = document.createElement(\"li\");\n\t\t\t\t\t\t\tvar contentsListItemHref = e.href;\n\t\t\t\t\t\t\tvar contentsListItemText = e.title;\n\t\t\t\t\t\t\tcontentsListItem.title = contentsListItemText;\n\t\t\t\t\t\t\tcontentsListItem.dataset.href = contentsListItemHref;\n\t\t\t\t\t\t\tvar contentsListItemTextTruncated = truncString(\"\" + contentsListItemText, 44);\n\t\t\t\t\t\t\tcontentsListItem.appendChild(document.createTextNode(contentsListItemTextTruncated));\n\t\t\t\t\t\t\taddListener(contentsListItem, \"click\", handleContentsListItem.bind(null, contentsList, contentsListItemHref));\n\t\t\t\t\t\t\tdf.appendChild(contentsListItem);\n\t\t\t\t\t\t\tdf.appendChild(document.createTextNode(\"\\n\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tvar j,\n\t\t\t\t\tm;\n\t\t\t\t\tfor (j = 0, m = routesJsonObj.hashes.length; j < m; j += 1) {\n\t\t\t\t\t\tgenerateContentsListItems(routesJsonObj.hashes[j]);\n\t\t\t\t\t}\n\t\t\t\t\tj = m = null;\n\t\t\t\t\tappendFragment(df, contentsList);\n\t\t\t\t\taddClass(contentsList, contentsListClass);\n\t\t\t\t\taddClass(contentsList, isDropdownClass);\n\t\t\t\t\tholderContentsSelect.replaceChild(contentsList, contentsSelect.parentNode.parentNode);\n\t\t\t\t\tvar contentsListButton = document.createElement(\"a\");\n\t\t\t\t\tcontentsListButton.appendChild(document.createTextNode(contentsListButtonText));\n\t\t\t\t\tcontentsList.parentNode.insertBefore(contentsListButton, contentsList);\n\t\t\t\t\t/* jshint -W107 */\n\t\t\t\t\tcontentsListButton.href = \"javascript:void(0);\";\n\t\t\t\t\t/* jshint +W107 */\n\t\t\t\t\tvar insertChevronDownSmallSvg = function (targetObj) {\n\t\t\t\t\t\tvar svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n\t\t\t\t\t\tvar use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n\t\t\t\t\t\tsvg.setAttribute(\"class\", \"ui-icon\");\n\t\t\t\t\t\tuse.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"xlink:href\", \"#ui-icon-ChevronDownSmall\");\n\t\t\t\t\t\tsvg.appendChild(use);\n\t\t\t\t\t\ttargetObj.appendChild(svg);\n\t\t\t\t\t};\n\t\t\t\t\tinsertChevronDownSmallSvg(contentsListButton);\n\t\t\t\t\tvar handleContentsListItemsButton = function (ev) {\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\ttoggleClass(contentsList, isActiveClass);\n\t\t\t\t\t\thandleOtherDropdownLists(contentsList);\n\t\t\t\t\t};\n\t\t\t\t\taddListener(contentsListButton, \"click\", handleContentsListItemsButton);\n\t\t\t\t};\n\t\t\t\tif (contentsSelect) {\n\t\t\t\t\t/* if (contentsSelectRender) {\n\t\t\t\t\t\trerenderContentsSelect();\n\t\t\t\t\t} */\n\t\t\t\t\tif (holderContentsSelect) {\n\t\t\t\t\t\trerenderContentsList();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (appContent) {\n\t\t\t\tloadJsonResponse(routesJsonUrl, processRoutesJsonResponse);\n\t\t\t}\n\t\t};\n\t\tinitRouting();\n\n\t\tvar manageTotopBtn = function () {\n\t\t\tvar btnClass = \"btn-totop\";\n\t\t\tvar btn = getByClass(document, btnClass)[0] || \"\";\n\t\t\tvar insertUpSvg = function (e) {\n\t\t\t\tvar svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n\t\t\t\tvar use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n\t\t\t\tsvg.setAttribute(\"class\", \"ui-icon\");\n\t\t\t\tuse.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"xlink:href\", \"#ui-icon-Up\");\n\t\t\t\tsvg.appendChild(use);\n\t\t\t\te.appendChild(svg);\n\t\t\t};\n\t\t\tif (!btn) {\n\t\t\t\tbtn = document.createElement(\"a\");\n\t\t\t\taddClass(btn, btnClass);\n\t\t\t\t/* jshint -W107 */\n\t\t\t\tbtn.href = \"javascript:void(0);\";\n\t\t\t\t/* jshint +W107 */\n\t\t\t\tbtn.title = \"Наверх\";\n\t\t\t\tinsertUpSvg(btn);\n\t\t\t\tdocBody.appendChild(btn);\n\t\t\t}\n\t\t\tvar handleBtn = function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tscroll2Top(0, 20000);\n\t\t\t};\n\t\t\tvar handleRoot = function (_this) {\n\t\t\t\tvar logic = function () {\n\t\t\t\t\tvar scrollPosition = _this.pageYOffset || docElem.scrollTop || docBody.scrollTop || \"\";\n\t\t\t\t\tvar windowHeight = _this.innerHeight || docElem.clientHeight || docBody.clientHeight || \"\";\n\t\t\t\t\tif (scrollPosition && windowHeight && btn) {\n\t\t\t\t\t\tif (scrollPosition > windowHeight) {\n\t\t\t\t\t\t\taddClass(btn, isActiveClass);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tremoveClass(btn, isActiveClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthrottle(logic, 100).call(root);\n\t\t\t};\n\t\t\tif (docBody) {\n\t\t\t\taddListener(btn, \"click\", handleBtn);\n\t\t\t\taddListener(root, \"scroll\", handleRoot, {passive: true});\n\t\t\t}\n\t\t};\n\t\tmanageTotopBtn();\n\n\t\thideProgressBar();\n\t};\n\n\tvar scripts = [];\n\n\tif (needsPolyfills) {\n\t\tscripts.push(\"./cdn/polyfills/js/polyfills.fixed.min.js\");\n\t}\n\n\tscripts.push(\"./libs/pwa-englishextra/js/vendors.min.js\");\n\n\tvar loadOnFontsReady = function (bodyFontFamily, useCheck) {\n\t\tvar slot;\n\t\tvar init = function () {\n\t\t\tclearInterval(slot);\n\t\t\tslot = null;\n\t\t\tif (!supportsSvgSmilAnimation && \"undefined\" !== typeof progressBar) {\n\t\t\t\tprogressBar.increase(20);\n\t\t\t}\n\t\t\tvar load;\n\t\t\tload = new loadJsCss(scripts, run);\n\t\t};\n\t\tvar check = function () {\n\t\t\tif (doesFontExist(bodyFontFamily)) {\n\t\t\t\tinit();\n\t\t\t}\n\t\t};\n\t\tif (useCheck && supportsCanvas) {\n\t\t\tslot = setInterval(check, 100);\n\t\t} else {\n\t\t\tslot = null;\n\t\t\tinit();\n\t\t}\n\t};\n\n\tvar bodyFontFamily = \"Roboto\";\n\n\tloadDeferred([\"./libs/pwa-englishextra/css/bundle.min.css\"], loadOnFontsReady.bind(null, bodyFontFamily, null));\n})(\"undefined\" !== typeof window ? window : this, document);\n"]}