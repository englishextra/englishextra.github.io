!function(){function t(){u=!0,this.removeEventListener("DOMAttrModified",t,!1)}function e(t){return t.replace(c,function(t,e){return e.toUpperCase()})}function n(){var t={};return r.call(this.attributes,function(n){i=n.name.match(d)||"",i&&(t[e(i[1])]=n.value)}),t}function a(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{get:n}):t.__defineGetter__(e,n)}var i,r=[].forEach,d=/^data-(.+)/,c=/\-([a-z])/gi,o=document.createElement("div"),u=!1;"undefined"===o.dataset&&(o.addEventListener("DOMAttrModified",t,!1),o.setAttribute("foo","bar"),a(Element.prototype,"dataset",u?function(){return this._datasetCache||(this._datasetCache=n.call(this)),this._datasetCache}:n),document.addEventListener("DOMAttrModified",function(t){delete t.target._datasetCache},!1))}();