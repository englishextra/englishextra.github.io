!function(){return"undefined"!=typeof window&&"document"in window?void(window.shower=window.shower||function(e,t,i){function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}var r,s={},o=e.location,l=t.body,d=[],u=[],a=!(!e.history||!e.history.pushState);return n.prototype={getSlideNumber:function(){return this.number},isLast:function(){return s.slideList.length===this.number+1},isFinished:function(){return this.innerComplete>=this.innerLength},process:function(e){return this.timing?(this.initTimer(e),this):(this.next(e),this)},initTimer:function(e){var t=this;return t.timing?(t.stopTimer(),r=t.isFinished()?setInterval(function(){t.stopTimer(),e.next()},t.timing*(t.innerLength||1)):setInterval(function(){t.isFinished()?(t.stopTimer(),e.next()):t.next(e)},t.timing),this):!1},stopTimer:function(){return r&&(clearInterval(r),r=!1),this},prev:function(e){var i,n=this;return!n.hasInnerNavigation||n.isFinished()||0===n.innerComplete?(e.prev(),!1):(i=t.getElementById(n.id).querySelectorAll(".next.active"),!i||i.length<1?!1:(n.innerComplete>0?(n.innerComplete--,i[i.length-1].classList.remove("active")):e.prev(),this))},next:function(e){var i,n=this;return!n.hasInnerNavigation||n.isFinished()?(e.next(),!1):(n.isFinished()||(i=t.getElementById(n.id).querySelectorAll(".next:not(.active)"),i[0].classList.add("active"),n.innerComplete++),this)}},s._getData=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+t)},s.slideList=[],s.init=function(e,i){var r;e=e||".slide",i=i||"div.progress div",d=t.querySelectorAll(e),u=t.querySelector(i);for(var o=0;o<d.length;o++)d[o].id||(d[o].id=o+1,r=s._getData(d[o],"timing"),r&&/^(\d{1,2}:)?\d{1,3}$/.test(r)?-1!==r.indexOf(":")?(r=r.split(":"),r=1e3*(60*parseInt(r[0],10)+parseInt(r[1],10))):(r=1e3*parseInt(r,10),0===r&&(r=!1)):r=!1,s.slideList.push(new n({id:d[o].id,number:o,hasInnerNavigation:null!==d[o].querySelector(".next"),timing:r,innerLength:d[o].querySelectorAll(".next").length,innerComplete:0})));return s},s._getTransform=function(){var t=Math.max(l.clientWidth/e.innerWidth,l.clientHeight/e.innerHeight);return"scale("+1/t+")"},s._applyTransform=function(e){return["WebkitTransform","MozTransform","msTransform","OTransform","transform"].forEach(function(t){l.style[t]=e}),!0},s._isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},s._normalizeSlideNumber=function(e){if(!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return 0>e&&(e=0),e>=s.slideList.length&&(e=s.slideList.length-1),e},s._getSlideIdByEl=function(e){for(;"BODY"!==e.nodeName&&"HTML"!==e.nodeName;){if(e.classList.contains("slide"))return e.id;e=e.parentNode}return""},s._checkInteractiveElement=function(e){return"A"===e.target.nodeName},s.getSlideNumber=function(e){var t,i=s.slideList.length-1;for(""===e&&(t=0);i>=0;--i)if(e===s.slideList[i].id){t=i;break}return t},s.go=function(e,t){var i;if(!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return s.slideList[e]?(o.hash=s.getSlideHash(e),s.updateProgress(e),s.updateActiveAndVisitedSlides(e),s.isSlideMode()&&(s.showPresenterNotes(e),i=s.slideList[e],i.timing&&i.initTimer(s)),"function"==typeof t&&t(),e):!1},s.next=function(e){var t=s.getCurrentSlideNumber(),i=s.slideList[t+1];return i?(s.go(t+1),"function"==typeof e&&e(),this):!1},s._turnNextSlide=function(e){var t=s.getCurrentSlideNumber(),i=s.slideList[t];s.isSlideMode()?(i.stopTimer(),i.next(s)):s.go(t+1),"function"==typeof e&&e()},s.prev=s.previous=function(e){var t=s.getCurrentSlideNumber();return 1>t?!1:(s.go(t-1),"function"==typeof e&&e(),!0)},s._turnPreviousSlide=function(e){var t=s.getCurrentSlideNumber(),i=s.slideList[t];return i.stopTimer(),s.isSlideMode()?i.prev(s):s.go(t-1),"function"==typeof e&&e(),!0},s.first=function(e){var t=s.slideList[s.getCurrentSlideNumber()];t&&t.timing&&t.stopTimer(),s.go(0),"function"==typeof e&&e()},s.last=function(e){var t=s.slideList[s.getCurrentSlideNumber()];t&&t.timing&&t.stopTimer(),s.go(s.slideList.length-1),"function"==typeof e&&e()},s.enterSlideMode=function(e){var t=s.getCurrentSlideNumber();return l.classList.remove("list"),l.classList.add("full"),s.isListMode()&&a&&history.pushState(null,null,o.pathname+"?full"+s.getSlideHash(t)),s._applyTransform(s._getTransform()),"function"==typeof e&&e(),!0},s.enterListMode=function(e){var t;return l.classList.remove("full"),l.classList.add("list"),s.clearPresenterNotes(),s._applyTransform("none"),s.isListMode()?!1:(t=s.getCurrentSlideNumber(),s.slideList[t].stopTimer(),s.isSlideMode()&&a&&history.pushState(null,null,o.pathname+s.getSlideHash(t)),s.scrollToSlide(t),"function"==typeof e&&e(),!0)},s.toggleMode=function(e){return s.isListMode()?s.enterSlideMode():s.enterListMode(),"function"==typeof e&&e(),!0},s.getCurrentSlideNumber=function(){var e=s.slideList.length-1,t=o.hash.substr(1);if(""===t)return-1;for(;e>=0;--e)if(t===s.slideList[e].id)return e;return 0},s.scrollToSlide=function(i){var n,r=!1;if(!s._isNumber(i))throw new Error("Gimme slide number as Number, baby!");if(s.isSlideMode())throw new Error("You can't scroll to because you in slide mode. Please, switch to list mode.");if(-1===i)return r;if(!s.slideList[i])throw new Error("There is no slide with number "+i);return n=t.getElementById(s.slideList[i].id),e.scrollTo(0,n.offsetTop),r=!0},s.isListMode=function(){return a?!/^full.*/.test(o.search.substr(1)):l.classList.contains("list")},s.isSlideMode=function(){return a?/^full.*/.test(o.search.substr(1)):l.classList.contains("full")},s.updateProgress=function(e){if(null===u)return!1;if(!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return u.style.width=(100/(s.slideList.length-1)*s._normalizeSlideNumber(e)).toFixed(2)+"%",!0},s.updateActiveAndVisitedSlides=function(e){var i,n,r=s.slideList.length;if(e=s._normalizeSlideNumber(e),!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");for(i=0;r>i;++i)n=t.getElementById(s.slideList[i].id);return e>i?(n.classList.remove("active"),n.classList.add("visited")):i>e?(n.classList.remove("visited"),n.classList.remove("active")):(n.classList.remove("visited"),n.classList.add("active")),!0},s.clearPresenterNotes=function(){s.isSlideMode()&&e.console&&e.console.clear&&console.clear()},s.showPresenterNotes=function(i){if(s.clearPresenterNotes(),e.console){i=s._normalizeSlideNumber(i);var n=s.slideList[i].id,r=s.slideList[i+1]?s.slideList[i+1].id:null,o=t.getElementById(n).querySelector("footer");if(o&&o.innerHTML&&console.info(o.innerHTML.replace(/\n\s+/g,"\n")),r){var l=t.getElementById(r).querySelector("h2");l&&(l=l.innerHTML.replace(/^\s+|<[^>]+>/g,""),console.info("NEXT: "+l))}}},s.getSlideHash=function(e){if(!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return e=s._normalizeSlideNumber(e),"#"+s.slideList[e].id},s.wheel=function(e){var n,r=t.querySelector("body"),o="locked"===r.getAttribute("data-scroll");o||s.isListMode()||(r.setAttribute("data-scroll","locked"),n=e.deltaY===i?e.wheelDeltaY<0:e.deltaY>0,n?s._turnNextSlide():s._turnPreviousSlide(),setTimeout(function(){r.setAttribute("data-scroll","unlocked")},200))},e.addEventListener("DOMContentLoaded",function(){var e=s.getCurrentSlideNumber(),t=l.classList.contains("full")||s.isSlideMode();-1===e&&t?s.go(0):(0===e||t)&&s.go(e),t&&s.enterSlideMode()},!1),e.addEventListener("popstate",function(){var e=s.getCurrentSlideNumber();-1!==e&&s.go(e),s.isListMode()?s.enterListMode():s.enterSlideMode()},!1),e.addEventListener("resize",function(){s.isSlideMode()&&s._applyTransform(s._getTransform())},!1),t.addEventListener("keydown",function(e){var t,i=s.getCurrentSlideNumber(),n=s.slideList[-1!==i?i:0];switch(e.which){case 80:s.isListMode()&&e.altKey&&e.metaKey&&(e.preventDefault(),t=n.number,s.go(t),s.enterSlideMode(),s.showPresenterNotes(t),n.timing&&n.initTimer(s));break;case 116:e.preventDefault(),s.isListMode()?(t=e.shiftKey?n.number:0,s.go(t),s.enterSlideMode(),s.showPresenterNotes(t),n.timing&&n.initTimer(s)):s.enterListMode();break;case 13:s.isListMode()&&-1!==i&&(e.preventDefault(),s.enterSlideMode(),s.showPresenterNotes(i),n.timing&&n.initTimer(s));break;case 27:s.isSlideMode()&&(e.preventDefault(),s.enterListMode());break;case 33:case 38:case 37:case 72:case 75:if(e.altKey||e.ctrlKey||e.metaKey)return;e.preventDefault(),s._turnPreviousSlide();break;case 34:case 40:case 39:case 76:case 74:if(e.altKey||e.ctrlKey||e.metaKey)return;e.preventDefault(),s._turnNextSlide();break;case 36:e.preventDefault(),s.first();break;case 35:e.preventDefault(),s.last();break;case 9:case 32:e.preventDefault(),s[e.shiftKey?"_turnPreviousSlide":"_turnNextSlide"]()}},!1),s.init(),t.addEventListener("click",function(e){var t,i,n=s._getSlideIdByEl(e.target);n&&s.isListMode()&&(t=s.getSlideNumber(n),s.go(t),s.enterSlideMode(),s.showPresenterNotes(t),i=s.slideList[t],i.timing&&i.initTimer(s))},!1),t.addEventListener("touchstart",function(t){var i,n,r,o=s._getSlideIdByEl(t.target);o&&s.isSlideMode()&&!s._checkInteractiveElement(t)&&(r=t.touches[0].pageX,r>e.innerWidth/2?s._turnNextSlide():(s._turnPreviousSlide(),s.isListMode()&&(i=s.getSlideNumber(o),s.go(i),s.enterSlideMode(),s.showPresenterNotes(i),n=s.slideList[i],n.timing&&n.initTimer(s))))},!1),t.addEventListener("touchmove",function(e){s.isSlideMode()&&e.preventDefault()},!1),t.addEventListener("wheel",s.wheel,!1),t.addEventListener("mousewheel",s.wheel,!1),s}(this,this.document)):(console.log("window is undefined or document is not in window"),!1)}();