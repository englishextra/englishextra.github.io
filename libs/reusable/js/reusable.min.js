!function(){var e=function(){var e=function(){function t(){var e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n]}function n(e,t){if(this.progress=0,this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2},e&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(this.options[n]=e[n]);if(this.options.opacityDuration=3*this.options.duration,this.progressBar=document.createElement("div"),this.progressBar.id=this.options.id,this.progressBar.setCSS=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.style[t]=e[t])},this.progressBar.setCSS({position:t?"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"}),t){var o=document.querySelector(t);o&&(o.hasChildNodes()?o.insertBefore(this.progressBar,o.firstChild):o.appendChild(this.progressBar))}else document.body.appendChild(this.progressBar)}if("undefined"==typeof window||!("document"in window))return console.log("window is undefined or document is not in window"),!1;var o=t();return n.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"},n.prototype.getProgress=function(){return this.progress},n.prototype.setProgress=function(e,t){this.show(),this.progress=e>100?100:0>e?0:e,this.transit(),t&&t()},n.prototype.increase=function(e,t){this.show(),this.setProgress(this.progress+e,t)},n.prototype.decrease=function(e,t){this.show(),this.setProgress(this.progress-e,t)},n.prototype.finish=function(t){var n=this;this.setProgress(100,t),this.hide(),o&&this.progressBar.addEventListener(o,function(t){n.reset(),n.progressBar.removeEventListener(t.type,e)})},n.prototype.reset=function(e){this.progress=0,this.transit(),e&&e()},n.prototype.hide=function(){this.progressBar.style.opacity="0"},n.prototype.show=function(){this.progressBar.style.opacity="1"},n};return e()}();window.ToProgress=e}(),function(){var e=function(){"use strict";if("undefined"==typeof window||!("document"in window))return{};var e=function(e,t,n){t=t||999,n||0===n||(n=9);var o,i=function(e){o=e},r=document.documentElement,a=function(){return"getComputedStyle"in window&&"smooth"===window.getComputedStyle(e?e:document.body)["scroll-behavior"]},s=function(){return e?e.scrollTop:window.scrollY||r.scrollTop},c=function(){return e?Math.min(e.offsetHeight,window.innerHeight):window.innerHeight||r.clientHeight},l=function(t){return e?t.offsetTop:t.getBoundingClientRect().top+s()-r.offsetTop},u=function(){clearTimeout(o),i(0)},d=function(n,o,l){if(u(),a())(e||window).scrollTo(0,n),l&&l();else{var d=s(),f=Math.max(n,0)-d;o=o||Math.min(Math.abs(f),t);var p=(new Date).getTime();!function h(){i(setTimeout(function(){var t=Math.min(((new Date).getTime()-p)/o,1),n=Math.max(Math.floor(d+f*(.5>t?2*t*t:t*(4-2*t)-1)),0);e?e.scrollTop=n:window.scrollTo(0,n),1>t&&c()+n<(e||r).scrollHeight?h():(setTimeout(u,99),l&&l())},9))}()}},f=function(e,t,o){d(l(e)-n,t,o)},p=function(e,t,o){var i=e.getBoundingClientRect().height,r=l(e),a=r+i,u=c(),p=s(),h=p+u;p>r-n||i+n>u?f(e,t,o):a+n>h?d(a-u+n,t,o):o&&o()},h=function(e,t,n,o){d(Math.max(l(e)-c()/2+(n||e.getBoundingClientRect().height/2),0),t,o)},m=function(e,o){e&&(t=e),(0===o||o)&&(n=o)};return{setup:m,to:f,toY:d,intoView:p,center:h,stop:u,moving:function(){return!!o}}},t=e();if("addEventListener"in window&&"smooth"!==document.body.style.scrollBehavior&&!window.noZensmooth){var n=function(e){try{history.replaceState({},"",window.location.href.split("#")[0]+e)}catch(t){}};window.addEventListener("click",function(e){for(var o=e.target;o&&"A"!==o.tagName;)o=o.parentNode;if(!(!o||1!==e.which||e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)){var i=o.getAttribute("href")||"";if(0===i.indexOf("#"))if("#"===i)e.preventDefault(),t.toY(0),n("");else{var r=o.hash.substring(1),a=document.getElementById(r);a&&(e.preventDefault(),t.to(a),n("#"+r))}}},!1)}return{createScroller:e,setup:t.setup,to:t.to,toY:t.toY,intoView:t.intoView,center:t.stop,moving:t.moving}}();window.zenscroll=e}(),function(){var e=function(e,t,n){function o(i,r,a){return a=Object.create(o.fn),i&&a.push.apply(a,i[t]?[i]:""+i===i?/</.test(i)?((r=e.createElement(r||t)).innerHTML=i,r.children):r?(r=o(r)[0])?r[n](i):a:e[n](i):"function"==typeof i?e.readyState[7]?i():e[t]("DOMContentLoaded",i):i),a}return o.fn=[],o.one=function(e,t){return o(e,t)[0]||null},o}(document,"addEventListener","querySelectorAll");window.BALA=e}(),function(e,t){return"undefined"!=typeof window&&"document"in window?void(window.crel=t()):(console.log("window is undefined or document is not in window"),!1)}(window,function(){function e(){var o,d=arguments,f=d[0],m=d[1],g=2,v=d.length,w=e[a];if(f=e[c](f)?f:l.createElement(f),1===v)return f;if((!u(m,n)||e[s](m)||p(m))&&(--g,m=null),v-g===1&&u(d[g],"string")&&void 0!==f[i])f[i]=d[g];else for(;v>g;++g)if(o=d[g],null!==o)if(p(o))for(var y=0;y<o.length;++y)h(f,o[y]);else h(f,o);for(var A in m)if(m.hasOwnProperty(A))if(w[A]){var L=w[A];typeof L===t?L(f,m[A]):f[r](L,m[A])}else f[r](A,m[A]);return f}var t="function",n="object",o="nodeType",i="textContent",r="setAttribute",a="attrMap",s="isNode",c="isElement",l=typeof document===n?document:{},u=function(e,t){return typeof e===t},d=typeof Node===t?function(e){return e instanceof Node}:function(e){return e&&u(e,n)&&o in e&&u(e.ownerDocument,n)},f=function(t){return e[s](t)&&1===t[o]},p=function(e){return e instanceof Array},h=function(t,n){e[s](n)||(n=l.createTextNode(n)),t.appendChild(n)};return e[a]={},e[c]=f,e[s]=d,"undefined"!=typeof Proxy&&(e.proxy=new Proxy(e,{get:function(t,n){return n in e||(e[n]=e.bind(null,n)),e[n]}})),e}),function(){var e=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t}function t(n){function o(t,i,r){var a;if("undefined"!=typeof document){if(arguments.length>1){if(r=e({path:"/"},o.defaults,r),"number"==typeof r.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(c){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var l=document.cookie=[t,"=",i,r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("");return l}t||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var p=u[f].split("="),h=p.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var m=p[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(c){}if(t===m){a=h;break}t||(a[m]=h)}catch(c){}}return a}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,n){o(t,"",e(n,{expires:-1}))},o.withConverter=t,o}return t(function(){})}();window.Cookies=e}(),"undefined"==typeof console&&(console={log:function(){}});var isNodejs="undefined"!=typeof process&&"undefined"!=typeof require||"",isElectron="undefined"!=typeof window&&window.process&&"renderer"===window.process.type||"",isNwjs=function(){if("undefined"!=typeof isNodejs&&isNodejs)try{if("undefined"!=typeof require("nw.gui"))return!0}catch(e){return!1}return!1}(),isOldOpera=!!window.opera||!1,isSystemJS=window.System||"",hideWindowModule=function(){"object"==typeof module&&(window.module=module,module=void 0)},revealWindowModule=function(){window.module&&(module=window.module)},earlyDeviceOrientation="",earlyDeviceSize="";!function(e,t){var n,o=function(e){var n=e.split(" ");if(t)for(var o=0;o<n.length;o++)e=n[o],t.add(e)},i=function(e){var n=e.split(" ");if(t)for(var o=0;o<n.length;o++)e=n[o],t.remove(e)},r={landscape:"all and (orientation:landscape)",portrait:"all and (orientation:portrait)"},a={small:"all and (max-width:768px)",medium:"all and (min-width:768px) and (max-width:991px)",large:"all and (min-width:992px)"},s="matchMedia",c="matches",l=function(e,t){var n=function(e){e[c]?(o(t),earlyDeviceOrientation=t):i(t)};n(e),e.addListener(n)},u=function(e,t){var n=function(e){e[c]?(o(t),earlyDeviceSize=t):i(t)};n(e),e.addListener(n)};for(n in r)r.hasOwnProperty(n)&&l(e[s](r[n]),n);for(n in a)a.hasOwnProperty(n)&&u(e[s](a[n]),n)}(window,document.documentElement.classList||"");var earlyDeviceType="";!function(e,t,n,o){var i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4))?t:n;e&&i&&(e.classList.add(i),earlyDeviceType=i)}(document.documentElement||"","mobile","desktop",navigator.userAgent||navigator.vendor||window.opera);var earlySvgSupport="";!function(e,t){var n=document.implementation.hasFeature("http://www.w3.org/2000/svg","1.1")?t:"no-"+t;earlySvgSupport=n,e&&n&&e.classList.add(n)}(document.documentElement||"","svg");var earlySvgasimgSupport="";!function(e,t){var n=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")?t:"no-"+t;earlySvgasimgSupport=n,e&&n&&e.classList.add(n)}(document.documentElement||"","svgasimg");var earlyHasTouch="";!function(e,t){if(e){var n="ontouchstart"in e?t:"no-"+t;earlyHasTouch=n,e.classList.add(n)}}(document.documentElement||"","touch");var earlyFnGetYyyymmdd=function(){"use strict";var e=new Date,t=e.getDate(),n=e.getFullYear(),o=e.getMonth();return o+=1,10>t&&(t="0"+t),10>o&&(o="0"+o),n+"-"+o+"-"+t}(),htmlentities=function(e){function t(t){var n=e.createElement("div");return n.appendChild(e.createTextNode(t)),t=n.innerHTML,n=null,t}return t.decode=function(t){var n=e.createElement("div");return n.innerHTML=t,t=n.innerText||n.textContent,n=null,t},t.encode=t}(document),escapeHtml=function(e){return e=e.replace(/[<!="'\/>&]/g,function(e){return{"<":"&lt;","!":"&#033;","=":"&#061;",'"':"&quot;","'":"&#39;","/":"&#047;",">":"&gt;","&":"&amp;"}[e]})||""},jsStringEscape=function(e){return(""+e).replace(/["'\\\n\r\u2028\u2029]/g,function(e){switch(e){case'"':case"'":case"\\":return"\\"+e;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})},initialDocumentTitle=document.title||"",userBrowsingDetails=" ["+(earlyFnGetYyyymmdd?earlyFnGetYyyymmdd:"")+(earlyDeviceType?" "+earlyDeviceType:"")+(earlyDeviceSize?" "+earlyDeviceSize:"")+(earlyDeviceOrientation?" "+earlyDeviceOrientation:"")+(earlySvgSupport?" "+earlySvgSupport:"")+(earlySvgasimgSupport?" "+earlySvgasimgSupport:"")+(earlyHasTouch?" "+earlyHasTouch:"")+"]";document.title&&(document.title=document.title+userBrowsingDetails);var forEach=function(e,t){return Array.prototype.forEach?void Array.prototype.forEach.call(e,t):!1};!function(){var e=function(e,t,n){var o=-1,i=e.length>>>0;!function r(a){var s,c=!1===a;do++o;while(!(o in e)&&o!==i);return c||o===i?void(n&&n(!c,e)):(a=t.call({async:function(){return s=!0,r}},e[o],o,e),void(s||r(a)))}()};window.forEach=e}(),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var requestTimeout=function(e,t){function n(){var a=(new Date).getTime(),s=a-i;s>=t?e.call():r.value=o(n)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setTimeout(e,t);var o=function(e){window.setTimeout(e,1e3/60)},i=(new Date).getTime(),r={};return r.value=o(n),r},clearRequestTimeout=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearTimeout(e)},setAutoClearedTimeout=function(e,t){if(t=t||200,e&&"function"==typeof e)var n=requestTimeout(function(){clearRequestTimeout(n),e()},t)};window.requestInterval=function(e,t){function n(){var a=(new Date).getTime(),s=a-i;s>=t&&(e.call(),i=(new Date).getTime()),r.value=o(n)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(e,t);var o=function(e){window.setTimeout(e,1e3/60)},i=(new Date).getTime(),r={};return r.value=o(n),r},window.clearRequestInterval=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearInterval(e)};var Interval=function(e,t){this.baseline=void 0,this.run=function(){void 0===this.baseline&&(this.baseline=(new Date).getTime()),t();var n=(new Date).getTime();this.baseline+=e;var o=e-(n-this.baseline);0>o&&(o=0),function(e){e.timer=setTimeout(function(){e.run(n)},o)}(this)},this.stop=function(){clearTimeout(this.timer)}},fadeIn=function(e){e.style.opacity=0;var t=+new Date,n=function(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(n)||setTimeout(n,160))};n()},fadeOut=function(e){e.style.opacity=1,function t(){(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(t)}()};!function(){var e={easing:{linear:function(e){return e},quadratic:function(e){return Math.pow(e,2)},swing:function(e){return.5-Math.cos(e*Math.PI)/2},circ:function(e){return 1-Math.sin(Math.acos(e))},back:function(e,t){return Math.pow(e,2)*((t+1)*e-t)},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(n,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},animate:function(e){var t=new Date,n=setInterval(function(){var o=(new Date-t)/e.duration;o>1&&(o=1),e.progress=o;var i=e.delta(o);e.step(i),1==o&&(clearInterval(n),"function"==typeof e.complete&&e.complete())},e.delay||10)},fadeOut:function(t,n){this.animate({duration:n.duration,delta:function(t){return t=this.progress,e.easing.swing(t)},complete:n.complete,step:function(e){t.style.opacity=1-e}})},fadeIn:function(t,n){this.animate({duration:n.duration,delta:function(t){return t=this.progress,e.easing.swing(t)},complete:n.complete,step:function(e){t.style.opacity=0+e}})}};window.FX=e}(),function(e,t){"use strict";function n(){if(!r){r=!0;for(var e=0;e<i.length;e++)i[e].fn.call(window,i[e].ctx);i=[]}}function o(){"complete"===document.readyState&&n()}e=e||"docReady",t=t||window;var i=[],r=!1,a=!1;t[e]=function(e,t){return r?void setTimeout(function(){e(t)},1):(i.push({fn:e,ctx:t}),void("complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(n,1):a||(document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):(document.attachEvent("onreadystatechange",o),window.attachEvent("onload",n)),a=!0)))}}("docReady",window),function(){var e=function(){if("undefined"==typeof window||!("document"in window))return console.log("window is undefined or document is not in window"),!1;var e,t,n,o=window,i=o.document,r={};return e=function(){return"function"==typeof i.addEventListener?function(e,t,n){e.addEventListener(t,n,!1),r[e]=r[e]||{},r[e][t]=r[e][t]||[],r[e][t].push(n)}:"function"==typeof i.attachEvent?function(e,t,n){e.attachEvent(t,n),r[e]=r[e]||{},r[e][t]=r[e][t]||[],r[e][t].push(n)}:function(e,t,n){e["on"+t]=n,r[e]=r[e]||{},r[e][t]=r[e][t]||[],r[e][t].push(n)}}(),t=function(){return"function"==typeof i.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:"function"==typeof i.detachEvent?function(e,t,n){e.detachEvent(t,n)}:function(e,t){e["on"+t]=void 0}}(),n=function(e,t){r[e]=r[e]||{},r[e][t]=r[e][t]||[];for(var n=0,o=r[e][t].length;o>n;n+=1)r[e][t][n]()},{add:e,remove:t,trigger:n,_handlers:r}}();window.evento=e}(),function(){"use strict";function e(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,o),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,t+=1}var t=0,n={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var o in n)t.push(n[o]);for(var i=0,r=t.length;r>i;i++)t[i][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=i.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,o[e.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,o={},i=window.Waypoint,r=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete o[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,i.requestAnimationFrame(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){(!t.didScroll||i.isTouch)&&(t.didScroll=!0,i.requestAnimationFrame(e))})},t.prototype.handleResize=function(){i.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in t){var o=t[n],i=o.newScroll>o.oldScroll,r=i?o.forward:o.backward;for(var a in this.waypoints[n]){var s=this.waypoints[n][a],c=o.oldScroll<s.triggerPoint,l=o.newScroll>=s.triggerPoint,u=c&&l,d=!c&&!l;(u||d)&&(s.queueTrigger(r),e[s.group.id]=s.group)}}for(var f in e)e[f].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var n in this.waypoints[t])e.push(this.waypoints[t][n]);for(var o=0,i=e.length;i>o;o++)e[o].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,n=t?void 0:this.adapter.offset(),o={};this.handleScroll(),e={horizontal:{contextOffset:t?0:n.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:n.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in e){var a=e[r];for(var s in this.waypoints[r]){var c,l,u,d,f,p=this.waypoints[r][s],h=p.options.offset,m=p.triggerPoint,g=0,v=null==m;p.element!==p.element.window&&(g=p.adapter.offset()[a.offsetProp]),"function"==typeof h?h=h.apply(p):"string"==typeof h&&(h=parseFloat(h),p.options.offset.indexOf("%")>-1&&(h=Math.ceil(a.contextDimension*h/100))),c=a.contextScroll-a.contextOffset,p.triggerPoint=g+c-h,l=m<a.oldScroll,u=p.triggerPoint>=a.oldScroll,d=l&&u,f=!l&&!u,!v&&d?(p.queueTrigger(a.backward),o[p.group.id]=p.group):!v&&f?(p.queueTrigger(a.forward),o[p.group.id]=p.group):v&&a.oldScroll>=p.triggerPoint&&(p.queueTrigger(a.forward),o[p.group.id]=p.group)}}return i.requestAnimationFrame(function(){for(var e in o)o[e].flushTriggers()}),this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in o)o[e].refresh()},t.findByElement=function(e){return o[e.waypointContextKey]},window.onload=function(){r&&r(),t.refreshAll()},i.requestAnimationFrame=function(t){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e;n.call(window,t)},i.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function n(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},i=window.Waypoint;n.prototype.add=function(e){this.waypoints.push(e)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var o=this.triggerQueues[n],i="up"===n||"left"===n;o.sort(i?t:e);for(var r=0,a=o.length;a>r;r+=1){var s=o[r];(s.options.continuous||r===o.length-1)&&s.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(t){this.waypoints.sort(e);var n=i.Adapter.inArray(t,this.waypoints),o=n===this.waypoints.length-1;return o?null:this.waypoints[n+1]},n.prototype.previous=function(t){this.waypoints.sort(e);var n=i.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},n.prototype.remove=function(e){var t=i.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(e){return o[e.axis][e.name]||new n(e)},i.Group=n}(),function(){"use strict";function e(e){return e===e.window}function t(t){return e(t)?t:t.defaultView}function n(e){this.element=e,this.handlers={}}var o=window.Waypoint;n.prototype.innerHeight=function(){var t=e(this.element);return t?this.element.innerHeight:this.element.clientHeight},n.prototype.innerWidth=function(){var t=e(this.element);return t?this.element.innerWidth:this.element.clientWidth},n.prototype.off=function(e,t){function n(e,t,n){for(var o=0,i=t.length-1;i>o;o++){var r=t[o];n&&n!==r||e.removeEventListener(r)}}var o=e.split("."),i=o[0],r=o[1],a=this.element;if(r&&this.handlers[r]&&i)n(a,this.handlers[r][i],t),this.handlers[r][i]=[];else if(i)for(var s in this.handlers)n(a,this.handlers[s][i]||[],t),this.handlers[s][i]=[];else if(r&&this.handlers[r]){for(var c in this.handlers[r])n(a,this.handlers[r][c],t);this.handlers[r]={}}},n.prototype.offset=function(){if(!this.element.ownerDocument)return null;var e=this.element.ownerDocument.documentElement,n=t(this.element.ownerDocument),o={top:0,left:0};return this.element.getBoundingClientRect&&(o=this.element.getBoundingClientRect()),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}},n.prototype.on=function(e,t){var n=e.split("."),o=n[0],i=n[1]||"__default",r=this.handlers[i]=this.handlers[i]||{},a=r[o]=r[o]||[];a.push(t),this.element.addEventListener(o,t)},n.prototype.outerHeight=function(t){var n,o=this.innerHeight();return t&&!e(this.element)&&(n=window.getComputedStyle(this.element),o+=parseInt(n.marginTop,10),o+=parseInt(n.marginBottom,10)),o},n.prototype.outerWidth=function(t){var n,o=this.innerWidth();return t&&!e(this.element)&&(n=window.getComputedStyle(this.element),o+=parseInt(n.marginLeft,10),o+=parseInt(n.marginRight,10)),o},n.prototype.scrollLeft=function(){var e=t(this.element);return e?e.pageXOffset:this.element.scrollLeft},n.prototype.scrollTop=function(){var e=t(this.element);return e?e.pageYOffset:this.element.scrollTop},n.extend=function(){function e(e,t){if("object"==typeof e&&"object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}for(var t=Array.prototype.slice.call(arguments),n=1,o=t.length;o>n;n++)e(t[0],t[n]);return t[0]},n.inArray=function(e,t,n){return null==t?-1:t.indexOf(e,n)},n.isEmptyObject=function(e){for(var t in e)return!1;return!0},o.adapters.push({name:"noframework",Adapter:n}),o.Adapter=n}();var isInViewport=function(e,t){var n=function(n){return(n=n?n.getBoundingClientRect()||"":"")?0<=n.top&&0<=n.left&&n.bottom<=(e.innerHeight||t.clientHeight)&&n.right<=(e.innerWidth||t.clientWidth):!0};return n}(window,document.documentElement||"");!function(){var e=function(e,t,n,o){"use strict";function i(e){return s.body?e():void setTimeout(function(){i(e)})}function r(){c.addEventListener&&c.removeEventListener("load",r),c.media=n||"all"}var a,s=document,c=s.createElement("link");if(o)a=o;else{var l=(s.body||s.getElementsByTagName("head")[0]).childNodes;a=l[l.length-1]}var u=s.styleSheets;c.rel="stylesheet",c.href=e,c.media="only x",t&&"function"==typeof t&&(c.onload=t),i(function(){a.parentNode.insertBefore(c,o?a:a.nextSibling)});var d=function(e){for(var t=c.href,n=u.length;n--;)if(u[n].href===t)return e();setTimeout(function(){d(e)})};return c.addEventListener&&c.addEventListener("load",r),c.onloadcssdefined=d,d(r),c};("undefined"!=typeof window?window:this).loadCSS=e}(),function(){var e=function(e,t){"use strict";var n=document.getElementsByTagName("script")[0],o=document.createElement("script");return o.src=e,o.async=!0,n.parentNode.insertBefore(o,n),t&&"function"==typeof t&&(o.onload=t),o};("undefined"!=typeof window?window:this).loadJS=e}();var removeJsCssFile=function(e,t){for(var n="js"==t?"src":"css"==t?"href":"none",o=document.getElementsByTagName("js"==t?"script":"css"==t?"link":"none"),i=o.length;i>=0;i--)o[i]&&null!=o[i].getAttribute(n)&&-1!=o[i].getAttribute(n).indexOf(e)&&o[i].parentNode.removeChild(o[i])},createJsCssFile=function(e,t){if("js"==t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e)}else"css"==t&&(n=document.createElement("link"),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e));return n},replaceJsCssFile=function(e,t,n){for(var o="js"==n?"src":"css"==n?"href":"none",i=document.getElementsByTagName("js"==n?"script":"css"==n?"link":"none"),r=i.length;r>=0;r--)if(i[r]&&null!=i[r].getAttribute(o)&&-1!=i[r].getAttribute(o).indexOf(e)){var a=createJsCssFile(t,n);i[r].parentNode.replaceChild(a,i[r])}},imagesPreloaded=!1;!function(e){e="[object Array]"===Object.prototype.toString.apply(e)?e:[e];for(var t=function(){imagesPreloaded=!0},n=function(){imagesPreloaded=!1},o=[],i=0,r=e.length;r>i;i++)o[i]=new Image,o[i].onabort=n,o[i].onerror=n,o[i].onload=t,o[i].src=e[i]}(["sprite.png"]);var styleIsLoaded=function(e){var t=document.styleSheets||"";if(t)for(var n=0,o=t.length;o>n;n++)if(t[n].href==e)return!0;return!1},scriptIsLoaded=function(e){for(var t=document.getElementsByTagName("script")||"",n=0;n<t.length;n++)if(t[n].getAttribute("src")==e)return!0;return!1},ajaxLoadTriggerJS=function(e,t,n){var o=window,i=o.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");
i.overrideMimeType("application/javascript;charset=utf-8"),i.open("GET",e,!0),i.onreadystatechange=function(){if("404"==i.status)return n&&"function"==typeof n&&n(),console.log("Error XMLHttpRequest-ing file",i.status),!1;if(4==i.readyState&&200==i.status&&i.responseText){try{var e=Function;new e(""+i.responseText).call("undefined"==typeof window?"undefined"==typeof self?"undefined"==typeof global?this:global:self:window)}catch(o){throw new Error("Error evaluating file. "+o)}t&&"function"==typeof t&&t(i.responseText)}},i.send(null)},ajaxLoadHTML=function(e,t,n){var o=window,i=o.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.overrideMimeType("text/html;charset=utf-8"),i.open("GET",e,!0),i.onreadystatechange=function(){return"404"==i.status?(n&&"function"==typeof n&&n(),console.log("Error XMLHttpRequest-ing file",i.status),!1):void(4==i.readyState&&200==i.status&&i.responseText&&t&&"function"==typeof t&&t(i.responseText))},i.send(null)},ajaxLoadUnparsedJSON=function(e,t,n){var o=window,i=o.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.overrideMimeType("application/json;charset=utf-8"),i.open("GET",e,!0),i.onreadystatechange=function(){return"404"==i.status?(n&&"function"==typeof n&&n(),console.log("Error XMLHttpRequest-ing file",i.status),!1):void(4==i.readyState&&200==i.status&&i.responseText&&t&&"function"==typeof t&&t(i.responseText))},i.send(null)},safelyParseJSON=function(e){var t=window;try{return t.json_parse?json_parse(e):JSON.parse(e)}catch(n){console.log(n)}},getKeyValuesFromJSON=function(e,t){var n=[];for(var o in e)e.hasOwnProperty(o)&&("object"==typeof e[o]?n=n.concat(getKeyValuesFromJSON(e[o],t)):o==t&&n.push(e[o]));return n},truncString=function(e,t,n){return n=n||"…","string"==typeof e&&e.length>t?e.substring(0,t)+n:e},removeElement=function(e){var t="remove",n="parentNode";return e?"undefined"!=typeof e[t]?e[t]():e[n]&&e[n].removeChild(e):void 0},removeChildren=function(e){return function(){if(e&&e.firstChild)for(;e.firstChild;)e.removeChild(e.firstChild)}()},createFragment=function(e){"string"==typeof e&&(e=document.createTextNode(e));var t=document.createDocumentFragment();return t.appendChild(e),t},insertTextAsFragment=function(e,t,n){"use strict";var o=document,i=o.getElementsByTagName("body")[0]||"",r="cloneNode",a="appendChild",s="parentNode",c="innerHTML",l="replaceChild",u="createRange",d="createContextualFragment",f="createDocumentFragment",p=function(){return n&&"function"==typeof n&&n()};try{var h=t[r](!1);if(o[u]){var m=o[u]();m.selectNode(i);var g=m[d](e);return h[a](g),t[s]?t[s][l](h,t):t[c]=e,p()}return h[c]=e,t[s]?t[s][l](o[f][a](h),t):t[c]=e,p()}catch(v){console.log(v)}return!1},appendFragment=function(e,t){"use strict";var n=document;return t=t||n.getElementsByTagNames("body")[0]||"",function(){if(e){var n=document,o=n.createDocumentFragment()||"",i="appendChild";"string"==typeof e&&(e=n.createTextNode(e)),o[i](e),t[i](o)}}()},prependFragmentBefore=function(e,t){"string"==typeof e&&(e=document.createTextNode(e));var n=t.parentNode||"",o=document.createDocumentFragment();return function(){n&&(o.appendChild(e),n.insertBefore(o,t))}()},appendFragmentAfter=function(e,t){"string"==typeof e&&(e=document.createTextNode(e));var n=t.parentNode||"",o=t.nextSibling||"",i=document.createDocumentFragment();return function(){n&&o&&(i.appendChild(e),n.insertBefore(i,o))}()},prependBefore=function(e,t){var n=t.parentNode||"";return n&&n.insertBefore(e,t),!1},appendAfter=function(e,t){var n=t.parentNode||"",o=t.nextSibling||"";return function(){n&&o&&n.insertBefore(e,o)}()},setStyleDisplayBlock=function(e){return function(){e&&(e.style.display="block")}()},setStyleDisplayNone=function(e){return function(){e&&(e.style.display="none")}()},toggleStyleDisplay=function(e,t,n){e&&(e.style.display=n==e.style.display||""==e.style.display?t:n)},setStyleOpacity=function(e,t){return t=t||1,function(){e&&(e.style.opacity=t)}()},setStyleVisibilityVisible=function(e){return function(){e&&(e.style.visibility="visible")}()},setStyleVisibilityHidden=function(e){return function(){e&&(e.style.visibility="hidden")}()},isValidId=function(e,t){return t?/^\#[A-Za-z][-A-Za-z0-9_:.]*$/.test(e)?!0:!1:/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e)?!0:!1},findPos=function(e){e=e.getBoundingClientRect();var t=document.body,n=document.documentElement;return{top:Math.round(e.top+(window.pageYOffset||n.scrollTop||t.scrollTop)-(n.clientTop||t.clientTop||0)),left:Math.round(e.left+(window.pageXOffset||n.scrollLeft||t.scrollLeft)-(n.clientLeft||t.clientLeft||0))}},scrollToTop=function(){var e=window;return e.zenscroll?zenscroll.toY(0):e.scrollTo(0,0)},changeHash=function(e){return function(){e&&(window.location.hash="#"+("#"===e[0]?e.substr(1):e))}()},changeLocation=function(e){return function(){e&&(document.location.href=e)}()},parseLink=function(e,t){return t=t||!1,function(){var n=function(e){return e.replace(/^(#|\?)/,"").replace(/\:$/,"")},o=location||"",i=function(e){switch(e){case"http:":return t?":80":80;case"https:":return t?":443":443;default:return t?":"+o.port:o.port}},r=0===e.indexOf("//")||!!~e.indexOf("://"),a=window.location||"",s=function(){var e=a.protocol+"//"+a.hostname+(a.port?":"+a.port:"");return e||""},c=function(){var t=document.createElement("a");t.href=e;var n=t.protocol+"//"+t.hostname+(t.port?":"+t.port:"");return n!==s()},l=document.createElement("a");return l.href=e,{href:l.href,origin:s(),host:l.host||o.host,port:"0"===l.port||""===l.port?i(l.protocol):t?l.port:n(l.port),hash:t?l.hash:n(l.hash),hostname:l.hostname||o.hostname,pathname:"/"!=l.pathname.charAt(0)?t?"/"+l.pathname:l.pathname:t?l.pathname:l.pathname.slice(1),protocol:l.protocol&&":"!=l.protocol?t?l.protocol:n(l.protocol):t?o.protocol:n(o.protocol),search:t?l.search:n(l.search),query:t?l.search:n(l.search),isAbsolute:r,isRelative:!r,isCrossDomain:c(),hasHTTP:/^(http|https):\/\//i.test(e)?!0:!1}}()},getHTTP=function(e){return function(t){return"http:"===e?"http":"https:"===e?"https":t?"http":""}}(window.location.protocol||""),progressBar=new ToProgress({id:"top-progress-bar",color:"#FE5F55",height:"3px",duration:.2});progressBar.init=function(e){return e=e||20,this.increase(e)},progressBar.complete=function(){return this.finish(),this.hide()},progressBar.init();var openDeviceBrowser=function(e){"use strict";var t=window,n=function(){var t="undefined"!=typeof isElectron&&isElectron?require("electron").shell:"";return t?t.openExternal(e):""},o=function(){var t="undefined"!=typeof isNwjs&&isNwjs?require("nw.gui").Shell:"";return t?t.openExternal(e):""},i=function(){return!0},r=function(){return t.open(e,"_system","scrollbars=1,location=no")};"undefined"!=typeof isElectron&&isElectron?n():"undefined"!=typeof isNwjs&&isNwjs?o():"undefined"!=typeof getHTTP&&getHTTP()?i():r()},manageExternalLinks=function(e){"use strict";e=e||"";var t=window,n="a",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i=function(e){var t=e.getAttribute("href")||"",n=function(e){e.stopPropagation(),e.preventDefault(),openDeviceBrowser(t)};t&&parseLink(t).isCrossDomain&&parseLink(t).hasHTTP&&(e.title=""+(parseLink(t).hostname||"")+" откроется в новой вкладке","undefined"!=typeof getHTTP&&getHTTP()?e.target="_blank":e.onclick=n)};if(o){o=e?BALA(n,e)||"":BALA(n)||"";var r=function(e){i(e)};if(t._)_.each(o,r);else if(t.forEach)forEach(o,r,!1);else for(var a=0,s=o.length;s>a;a+=1)i(o[a])}};evento.add(window,"load",manageExternalLinks.bind(null,""));var manageLocalLinks=function(e){"use strict";e=e||"";var t=window,n="a",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i=function(e){var t=e.getAttribute("href")||"";t&&parseLink(t).isRelative&&!e.getAttribute("title")&&(e.title="Откроется здесь же")};if(o){o=e?BALA(n,e)||"":BALA(n)||"";var r=function(e){i(e)};if(t._)_.each(o,r);else if(t.forEach)forEach(o,r,!1);else for(var a=0,s=o.length;s>a;a+=1)i(o[a])}};evento.add(window,"load",manageLocalLinks.bind(null,""));var manageDataPathLinks=function(e){"use strict";e=e||"";var t=window,n="[data-path]",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i=function(e){var t=e.dataset.path||"";t&&parseLink(t).isRelative&&(e.onclick=changeLocation.bind(null,t))};if(o){o=e?BALA(n,e)||"":BALA(n)||"";var r=function(e){i(e)};if(t._)_.each(o,r);else if(t.forEach)forEach(o,r,!1);else for(var a=0,s=o.length;s>a;a+=1)i(o[a])}};evento.add(window,"load",manageDataPathLinks.bind(null,""));var manageDataUrlLinks=function(e){"use strict";e=e||"";var t=window,n="[data-url]",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i=function(e){var n=e.dataset.url||"",o=function(e){e.stopPropagation(),e.preventDefault(),openDeviceBrowser(n)},i=function(){var e=t.open(n,"_blank");e.focus()};n&&parseLink(n).isCrossDomain&&parseLink(n).hasHTTP&&(e.title=""+(parseLink(n).hostname||"")+" откроется в новой вкладке",e.onclick="undefined"!=typeof getHTTP&&getHTTP()?i:o)};if(o){o=e?BALA(n,e)||"":BALA(n)||"";var r=function(e){i(e)};if(t._)_.each(o,r);else if(t.forEach)forEach(o,r,!1);else for(var a=0,s=o.length;s>a;a+=1)i(o[a])}};evento.add(window,"load",manageDataUrlLinks.bind(null,""));var initFastClick=function(){"use strict";var e=window,t=BALA.one("body")||"";e.FastClick&&FastClick.attach(t)},loadInitFastClick=function(){"use strict";"undefined"!=typeof getHTTP&&getHTTP()&&"undefined"!=typeof earlyHasTouch&&"touch"===earlyHasTouch&&ajaxLoadTriggerJS("/cdn/fastclick/1.0.6/js/fastclick.fixed.min.js",initFastClick)};docReady(loadInitFastClick);var LoadingSpinner=function(){"use strict";var e=BALA.one("html")||"",t="loading-spinner",n=BALA.one("."+t)||"",o="classList";return n||(n=crel("div"),n[o].add(t),appendFragment(n,e)),{show:function(){return e[o].contains(t)||e[o].add(t)},hide:function(n,i){i=i||500;var r=function(){e[o].remove(t),n&&"function"==typeof n&&n()};return setAutoClearedTimeout(r,i)}}}(),Notifier42=function(e,t,n){"use strict";e=e||"No message passed as argument",t=t||0,n=n||"";var o=document,i=BALA.one("body")||"",r="notifier42",a=BALA.one("."+r)||"",s="classList",c="animated",l="fadeInUp",u="fadeOutDown";a||(a=crel("div"),appendFragment(a,i)),a[s].add(r,c,l),n&&a[s].add(n),"string"==typeof e&&(e=o.createTextNode(e)),appendFragment(e,a);var d=function(e){a[s].remove(l),a[s].add(u);var t=function(){a[s].remove(c),a[s].remove(u),n&&a[s].remove(n),removeChildren(a),e&&"function"==typeof e&&e()};setAutoClearedTimeout(t,400)},f=function(){evento.remove(i,"click",f),d()},p=function(){evento.remove(a,"click",p),d()};return evento.add(i,"click",f),evento.add(a,"click",p),0!==t&&setAutoClearedTimeout(d,t),{destroy:function(){return d(removeElement.bind(null,a))}}},initNotifier42WriteComment=function(){"use strict";if("undefined"!=typeof getHTTP&&getHTTP()){var e=window,t="notifier42-write-comment",n="Напишите, что понравилось, а что нет. Регистрироваться не нужно.",o=parseLink(e.location.href).origin,i=function(){new Notifier42(crel("a",{href:"#disqus_thread"},n),8e3),Cookies.set(t,encodeURIComponent(n))};!Cookies.get(t)&&o&&setAutoClearedTimeout(i,16e3)}};docReady(initNotifier42WriteComment);var initYandexMap=function(e){"use strict";var t,n=BALA.one(e)||"",o="is-active",i="dataset",r="classList",a=n?n[i].center||"":"",s=n?n[i].zoom||"":"",c=n?BALA.one(n[i].btnShow)||"":"",l=n?BALA.one(n[i].btnDestroy)||"":"",u=getHTTP(!0)+"://api-maps.yandex.ru/2.1/?lang=ru_RU",d=function(){try{t=new ymaps.Map(n.id,{center:JSON.parse(a),zoom:s}),LoadingSpinner.hide()}catch(e){setStyleDisplayBlock(c)}},f=function(){ymaps.ready(d),n[r].add(o),setStyleDisplayNone(c)},p=function(){try{f()}catch(e){setStyleDisplayBlock(c)}},h=function(){loadJS(u,p)},m=function(){removeChildren(n),appendFragment(crel("p","Карты доступны только в веб версии этой страницы."),n),n.removeAttribute("id"),setStyleDisplayNone(c.parentNode)},g=function(){evento.remove(l,"click",g),t.destroy()};n&&a&&s&&c&&("undefined"!=typeof getHTTP&&getHTTP()?(l&&evento.add(l,"click",g),LoadingSpinner.show(),scriptIsLoaded(u)?p():h()):m())},manageYandexMapButton=function(e){"use strict";var t=BALA.one(e)||"",n="dataset",o=t?BALA.one(t[n].btnShow)||"":"",i=function(){return evento.remove(o,"click",i),initYandexMap(e),!1};t&&o&&evento.add(o,"click",i)};evento.add(window,"load",manageYandexMapButton.bind(null,"#ymap"));var manageDataLightboxImgLinks=function(e){"use strict";e=e||"";var t=window,n=BALA.one("body")||"",o="[data-lightbox]",i=e?BALA.one(o,e)||"":BALA.one(o)||"",r="img-lightbox-container",a=BALA.one("."+r)||"",s=BALA.one("img",a)||"",c="classList",l="animated",u="fadeIn",d="fadeInUp",f="fadeOut",p="fadeOutDown";a||(a=crel("div"),s=crel("img"),a[c].add(r),s.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",s.alt="",crel(a,s),appendFragment(a,n));var h=function(e){LoadingSpinner.show(),a[c].add(l,u),s[c].add(l,d);var n=e.getAttribute("href")||"",o=function(){s[c].remove(d),s[c].add(p);var e=function(){a[c].remove(l,f),s[c].remove(l,p),setStyleDisplayNone(a)},t=function(){a[c].remove(u),a[c].add(f),setAutoClearedTimeout(e,400)};setAutoClearedTimeout(t,400)},i=function(e){27===(e.which||e.keyCode)&&o()},r=function(){var e=function(){a.onclick=null,o()},n=function(e){t.onkeyup=null,i(e)};a.onclick=e,t.onkeyup=n,setStyleDisplayBlock(a),LoadingSpinner.hide()},h=function(e){return new Promise(function(t,n){var o=new Image;o.onload=function(){t(e)},o.onerror=function(){n(e)},o.src=e})};h(n).then(function(e){s.src=e,r()}).catch(function(e){o(),console.log("Error loading image",e)})},m=function(e){var t=e.dataset.lightbox||"",n=e.getAttribute("href")||"",o=function(e,t){t.stopPropagation(),t.preventDefault(),h(e)};"img"===t&&n&&(parseLink(n).isAbsolute&&!parseLink(n).hasHTTP&&e.setAttribute("href",n.replace(/^/,getHTTP(!0)+":")),e.onclick=o.bind(null,e))};if(i){i=e?BALA(o,e)||"":BALA(o)||"";var g=function(e){m(e)};if(t._)_.each(i,g);else if(t.forEach)forEach(i,g,!1);else for(var v=0,w=i.length;w>v;v+=1)m(i[v])}};evento.add(window,"load",manageDataLightboxImgLinks.bind(null,""));var hideUiBtnsInFullScreen=function(){"use strict";var e=window,t=BALA.one(".cd-prev")||"",n=BALA.one(".cd-next")||"",o=BALA.one(".btn-nav-menu")||"",i=BALA.one(".btn-menu-more")||"",r=BALA.one(".btn-show-vk-like")||"",a=getHTTP(!0)+"://vk.com/js/api/openapi.js?122",s=(BALA.one(".vk-like")||"",BALA.one(".share-buttons")||""),c=BALA.one("#ui-totop")||"",l=BALA.one(".holder-search-form")||"",u=!1;if(!u){u=!0;var d=[t,n,o,i,s,c,l];if(e.navigator.standalone||screen.height===e.outerHeight||e.fullScreen||e.innerWidth==screen.width&&e.innerHeight==screen.height){for(var f=0,p=d.length;p>f;f+=1)setStyleDisplayNone(d[f]);setStyleDisplayNone(r)}else{for(var h=0,m=d.length;m>h;h+=1)setStyleDisplayBlock(d[h]);scriptIsLoaded(a)||setStyleDisplayBlock(r)}}},resizeHideUiBtnsInFullScreen=function(){("undefined"==typeof earlyDeviceSize||"medium"!==earlyDeviceSize)&&hideUiBtnsInFullScreen()};evento.add(window,"resize",resizeHideUiBtnsInFullScreen);var initAllMasonry=function(){"use strict";var e=window,t=".masonry-grid",n=".masonry-grid-item",o=".masonry-grid-sizer",i=BALA.one(t)||"",r=BALA.one(n)||"",a=function(t){var i=function(t){if(e.Masonry){new Masonry(t,{itemSelector:n,columnWidth:o,gutter:0})}},r=function(e){i(e)};if(e._)_.each(t,r);else if(e.forEach)forEach(t,r,!1);else for(var a=0,s=t.length;s>a;a+=1)i(t[a])},s=function(e){a(e)};if(i&&r){var c=BALA(t);c&&s(c)}},loadInitAllMasonry=function(){ajaxLoadTriggerJS("../../cdn/masonry/4.1.1/js/masonry.pkgd.fixed.min.js",initAllMasonry)};evento.add(window,"load",loadInitAllMasonry);var initAllPackery=function(){"use strict";var e=window,t=".masonry-grid",n=".masonry-grid-item",o=".masonry-grid-sizer",i=BALA.one(t)||"",r=BALA.one(n)||"",a=function(t,i){if(e.Packery){var r,a=function(e){r=new Packery(e,{itemSelector:n,columnWidth:o,gutter:0})},s=function(e){a(e)};if(e._)_.each(t,s);else if(e.forEach)forEach(t,s,!1);else for(var c=0,l=t.length;l>c;c+=1)a(t[c]);if(e.Draggabilly){var u,d=function(e){var t=e;u=new Draggabilly(t,{}),f.push(u)},f=[],p=function(e){d(e)};if(e._)_.each(i,p);else if(e.forEach)forEach(i,p,!1);else for(var h=0,m=i.length;m>h;h+=1)d(i[h]);r&&r.bindDraggabillyEvents(u)}}},s=function(e,t){a(e,t)};if(i&&r){var c=BALA(t),l=BALA(n)||"";l&&s(c,l)}},loadInitAllPackery=function(){ajaxLoadTriggerJS("../../cdn/packery/2.1.1/js/packery.draggabilly.pkgd.fixed.min.js",initAllPackery)};evento.add(window,"load",loadInitAllPackery);var initPhotoswipe=function(){"use strict";var e=window,t=".masonry-grid",n=BALA.one(t)||"",o=".masonry-grid-item",i=(BALA.one(o)||"",function(e){var t=function(e){for(var t,n,o,i=e.childNodes,r=i.length,a=[],s=0;r>s;s++)e=i[s],1===e.nodeType&&(t=e.children,n=e.getAttribute("data-size").split("x"),o={src:e.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10),author:e.getAttribute("data-author")},o.el=e,0<t.length&&(o.msrc=t[0].getAttribute("src"),1<t.length&&(o.title=t[1].innerHTML)),e.getAttribute("data-med")&&(n=e.getAttribute("data-med-size").split("x")),o.m={src:e.getAttribute("data-med"),w:parseInt(n[0],10),h:parseInt(n[1],10)},o.o={src:o.src,w:o.w,h:o.h},a.push(o));return a},n=function s(e,t){return e&&(t(e)?e:s(e.parentNode,t))},o=function(e){if(e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1,e=n(e.target||e.srcElement,function(e){return"A"===e.tagName})){for(var t,o=e.parentNode,r=e.parentNode.childNodes,a=r.length,s=0,c=0;a>c;c++)if(1===r[c].nodeType){if(r[c]===e){t=s;break}s++}return t>=0&&i(t,o),!1}},i=function(e,n,o){o=document.querySelectorAll(".pswp")[0];var i,r;r=t(n),e={index:e,galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=window.pageYOffset||document.documentElement.scrollTop;return e=r[e].el.children[0].getBoundingClientRect(),{x:e.left,y:e.top+t,w:e.width}},addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title+"<br/><small>Photo: "+e.author+"</small>",!0):(t.children[0].innerText="",!1)}},i=new PhotoSwipe(o,PhotoSwipeUI_Default,r,e);var a,s=!1,c=!0;i.listen("beforeResize",function(){var e=window.devicePixelRatio?window.devicePixelRatio:1;e=Math.min(e,2.5);var t=i.viewportSize.x*e;t>=1200||!i.likelyTouchDevice&&t>800||1200<screen.width?s||(a=s=!0):s&&(s=!1,a=!0),a&&!c&&i.invalidateCurrItems(),c&&(c=!1),a=!1}),i.listen("gettingData",function(e,t){s?(t.src=t.o.src,t.w=t.o.w,t.h=t.o.h):(t.src=t.m.src,t.w=t.m.w,t.h=t.m.h)}),i.init()};e=document.querySelectorAll(e);for(var r=0,a=e.length;a>r;r++)e[r].setAttribute("data-pswp-uid",r+1),e[r].onclick=o;o=function(){var e=window.location.hash.substring(1),t={};if(5>e.length)return t;for(var n=n.split("&"),o=0;o<n.length;o++)if(n[o]){var i=n[o].split("=");2<i.length&&(t[i[0]]=i[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t.hasOwnProperty("pid")?(t.pid=parseInt(t.pid,10),t):t}(),0<o.pid&&0<o.gid&&i(o.pid-1,e[o.gid-1],!0)}),r=function(e){var t=e.dataset.med||"";t&&parseLink(t).isCrossDomain&&!parseLink(t).hasHTTP&&(e.dataset.med=t.replace(/^/,getHTTP(!0)+":"));var n=e.getAttribute("href");n&&parseLink(n).isCrossDomain&&!parseLink(n).hasHTTP&&(e.href=n.replace(/^/,getHTTP(!0)+":"))},a=function(t){var n=function(e){r(e)};if(e._)_.each(t,n);else if(e.forEach)forEach(t,n,!1);else for(var o=0,i=t.length;i>o;o+=1)r(t[o])},s=function(e){setStyleDisplayBlock(e);var t=BALA("a",e)||"";t&&a(t)},c=function(){var n=BALA(t),o=function(e){s(e)};if(e._)_.each(n,o);else if(e.forEach)forEach(n,o,!1);else for(var i=0,r=n.length;r>i;i+=1)s(n[i])},l=function(){c(),i(t)};n&&l()},loadInitPhotoswipe=function(){ajaxLoadTriggerJS("../cdn/photoswipe/4.1.0/js/photoswipe.photoswipe-ui-default.fixed.min.js",initPhotoswipe)};docReady(loadInitPhotoswipe);var initTablesort=function(e){"use strict";e=e||"";var t=window,n="table.sort",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i=function(e){var n=e.id||"";if(n&&t.Tablesort){var o=BALA.one("#"+n),i=BALA.one("#"+n+" caption")||"";i||(prependFragmentBefore(crel("caption"),o.firstChild),i=o.firstChild),appendFragment("Сортируемая таблица",i);{new Tablesort(o)}}},r=function(){o=e?BALA(n,e)||"":BALA(n)||"";var r=function(e){i(e)};if(t._)_.each(o,r);else if(t.forEach)forEach(o,r,!1);else for(var a=0,s=o.length;s>a;a+=1)i(o[a])};o&&r()},loadInitTablesort=function(){var e=BALA.one("table.sort")||"";e&&("undefined"==typeof earlyDeviceSize||"small"!==earlyDeviceSize)&&ajaxLoadTriggerJS("../../cdn/tablesort/4.0.1/js/tablesort.fixed.min.js",initTablesort.bind(null,""))};docReady(loadInitTablesort);var loadInitPrettyPrint=function(){"use strict";var e=window,t=BALA.one('[class^="prettyprint"]')||"",n=function(){e.prettyPrint&&prettyPrint()};t&&ajaxLoadTriggerJS("../../cdn/google-code-prettify/0.1/js/prettify.lang-css.fixed.min.js",n)};docReady(loadInitPrettyPrint);var initDownloadAppBtn=function(e){"use strict";e=e||2e3;var t,n,o=BALA.one("body")||"",i=navigator.userAgent||"",r="btn-download-app",a="classList",s="animated",c="bounceInRight",l="bounceOutRight";/Windows/i.test(i)&&/(WOW64|Win64)/i.test(i)?(t="url(../../libs/products/img/download_windows_app_144x52.png)",n="https://englishextraapp.codeplex.com/downloads/get/1539373"):/(x86_64|x86-64|x64;|amd64|AMD64|x64_64)/i.test(i)&&/(Linux|X11)/i.test(i)?(t="url(../../libs/products/img/download_linux_app_144x52.png)",n="https://englishextraapp.codeplex.com/downloads/get/1540156"):/IEMobile/i.test(i)?(t="url(../../libs/products/img/download_wp_app_144x52.png)",n="https://englishextraapp.codeplex.com/downloads/get/1536102"):/Android/i.test(i)?(t="url(../../libs/products/img/download_android_app_144x52.png)",n="https://englishextraapp.codeplex.com/downloads/get/1528911"):(t="",n="");var u=function(){var i=function(e){e.stopPropagation(),e.preventDefault(),openDeviceBrowser(n)},u=crel("a");u.style.backgroundImage=t,u[a].add(r,s,c),u.href=n,"undefined"!=typeof getHTTP&&getHTTP()?u.target="_blank":evento.add(u,"click",i),appendFragment(u,o);var d=function(){evento.remove(u,"click",i),removeElement(u)},f=function(){u[a].remove(c),u[a].add(l),setAutoClearedTimeout(d,750)};setAutoClearedTimeout(f,e)};o&&i&&n&&u()},loadInitDownloadAppBtn=function(){var e=function(){initDownloadAppBtn(8e3)};setAutoClearedTimeout(e,3e3)};evento.add(window,"load",loadInitDownloadAppBtn);var manageDataSrcImg=function(e){"use strict";e=e||"";var t=window,n="img[data-src]",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i="dataset",r="parentNode",a=function(e){var n=e[i].src||"";n&&(parseLink(n).isAbsolute&&!parseLink(n).hasHTTP&&(e[i].src=n.replace(/^/,getHTTP(!0)+":")),t.lzld?lzld(e):e.src=e[i].src,setStyleVisibilityVisible(e[r]),setStyleOpacity(e[r],1))};if(o){o=e?BALA(n,e)||"":BALA(n)||"";var s=function(e){a(e)};if(t._)_.each(o,s);else if(t.forEach)forEach(o,s,!1);else for(var c=0,l=o.length;l>c;c+=1)a(o[c])}},manageDataSrcIframe=function(e){"use strict";e=e||"";var t=window,n="iframe[data-src]",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i="dataset",r="parentNode",a=function(e){var n=e[i].src||"";n&&(parseLink(n).isAbsolute&&!parseLink(n).hasHTTP&&(e[i].src=n.replace(/^/,getHTTP(!0)+":")),t.lzld?lzld(e):e.src=e[i].src,setStyleVisibilityVisible(e[r]),setStyleOpacity(e[r],1),crel(e,{scrolling:"no",frameborder:"no",style:"border:none;",webkitallowfullscreen:"true",mozallowfullscreen:"true",allowfullscreen:"true"}))};if(o){o=e?BALA(n,e)||"":BALA(n)||"";var s=function(e){a(e)};if(t._)_.each(o,s);else if(t.forEach)forEach(o,s,!1);else for(var c=0,l=o.length;l>c;c+=1)a(o[c])}},loadManageDataSrcImgIframe=function(){var e=BALA.one("img[data-src]")||"",t=BALA.one("iframe[data-src]")||"",n=function(){e&&manageDataSrcImg(),t&&manageDataSrcIframe()};(e||t)&&ajaxLoadTriggerJS("../../cdn/lazyload/3.2.2/js/lazyload.fixed.min.js",n)};evento.add(window,"load",loadManageDataSrcImgIframe);var manageSearchInput=function(){"use strict";var e=BALA.one("#text")||"",t=function(e){e.value=e.value.replace(/\\/g,"").replace(/ +(?= )/g," ").replace(/\/+(?=\/)/g,"/")||""},n=function(e){e.focus(),evento.add(e,"input",t.bind(null,e))};e&&n(e)};docReady(manageSearchInput);var manageExpandingLayers=function(e){"use strict";e=e||"";var t=window,n=(BALA.one("html")||"",".btn-expand-hidden-layer"),o=e?BALA.one(n,e)||"":BALA.one(n)||"",i="classList",r="parentNode",a="is-active",s=function(e){var t=e[r]?e[r].nextElementSibling:"";return t&&(e[i].toggle(a),t[i].toggle(a)),!1},c=function(e){e.onclick=s.bind(null,e)},l=function(){o=e?BALA(n,e)||"":BALA(n)||"";var i=function(e){c(e)};if(t._)_.each(o,i);else if(t.forEach)forEach(o,i,!1);else for(var r=0,a=o.length;a>r;r+=1)c(o[r])};o&&l()};evento.add(window,"load",manageExpandingLayers.bind(null,""));var manageSourceCodeLayers=function(e){"use strict";e=e||"";var t=window,n=(BALA.one("html")||"",".sg-btn--source"),o=e?BALA.one(n,e)||"":BALA.one(n)||"",i="classList",r="parentNode",a="is-active",s=function(e){var t=e[r]?e[r].nextElementSibling:"";return t&&(e[i].toggle(a),t[i].toggle(a)),!1},c=function(e){e.onclick=s.bind(null,e)},l=function(){o=e?BALA(n,e)||"":BALA(n)||"";var i=function(e){c(e)};if(t._)_.each(o,i);else if(t.forEach)forEach(o,i,!1);else for(var r=0,a=o.length;a>r;r+=1)c(o[r])};o&&l()};evento.add(window,"load",manageSourceCodeLayers.bind(null,""));var showLocationQR=function(){"use strict";var e=window,t=document,n=BALA.one("#location-qr-code")||"",o=e.location.href||"",i="qr-code-img",r="classList",a=function(){removeChildren(n);var e=t.title?"Ссылка на страницу «"+t.title.replace(/\[[^\]]*?\]/g,"").trim()+"»":"",a=getHTTP(!0)+"://chart.googleapis.com/chart?cht=qr&chld=M%7C4&choe=UTF-8&chs=300x300&chl="+encodeURIComponent(o),s=crel("img");s[r].add(i),s.src=a,s.title=e,s.alt=e,appendFragment(s,n)};n&&o&&("undefined"!=typeof getHTTP&&getHTTP()?("undefined"==typeof earlyDeviceSize||"small"!==earlyDeviceSize)&&a():setStyleDisplayNone(n))};evento.add(window,"load",showLocationQR);var initNavMenu=function(){"use strict";var e=window,t=BALA.one("#container")||"",n=BALA.one("#page")||"",o=BALA.one("#btn-nav-menu")||"",i=BALA.one("#panel-nav-menu")||"",r=BALA("a",i)||"",a=BALA.one("#holder-panel-menu-more")||"",s="classList",c="is-active",l=e.location.href||"",u=function(){n[s].remove(c),i[s].remove(c),o[s].remove(c)},d=function(){var e=function(){i[s].contains(c)&&u()};evento.add(t,"click",e)},f=function(){var e=function(e){e.preventDefault(),e.stopPropagation(),a[s].remove(c),n[s].toggle(c),i[s].toggle(c),o[s].toggle(c)};evento.add(o,"click",e)},p=function(){a[s].remove(c),u()},h=function(e){e[s].remove(c)},m=function(e){e[s].add(c)},g=function(t){var n=function(e){h(e)};if(e._)_.each(t,n);else if(e.forEach)forEach(t,n,!1);else for(var o=0,i=t.length;i>o;o+=1)h(t[o])},v=function(e,t){var n=function(){i[s].contains(c)&&p(),g(e),m(t)};evento.add(t,"click",n),t.href==l?m(t):h(t)},w=function(){var t=function(e){v(r,e)};if(e._)_.each(r,t);else if(e.forEach)forEach(r,t,!1);else for(var n=0,o=r.length;o>n;n+=1)v(r,r[n])};t&&n&&o&&i&&r&&(f(),d(),w())};docReady(initNavMenu);var addAppUpdatesLink=function(){"use strict";var e,t=BALA.one("#panel-menu-more")||"",n=BALA("li",t)||"",o=navigator.userAgent||"";e=/Windows/i.test(o)&&/(WOW64|Win64)/i.test(o)?"https://englishextraapp.codeplex.com/downloads/get/1539373":/(x86_64|x86-64|x64;|amd64|AMD64|x64_64)/i.test(o)&&/(Linux|X11)/i.test(o)?"https://englishextraapp.codeplex.com/downloads/get/1540156":/IEMobile/i.test(o)?"https://englishextraapp.codeplex.com/downloads/get/1536102":/Android/i.test(o)?"https://englishextraapp.codeplex.com/downloads/get/1528911":"";var i=function(){var n=crel("li"),o=crel("a"),i="Скачать приложение сайта";o.title=""+(parseLink(e).hostname||"")+" откроется в новой вкладке",o.href=e,"undefined"!=typeof getHTTP&&getHTTP()?o.target="_blank":(o.href="javascript:void(0);",evento.add(o,"click",openDeviceBrowser.bind(null,e))),crel(n,crel(o,""+i)),t.firstChild&&prependFragmentBefore(n,t.firstChild)};t&&n&&e&&i()};docReady(addAppUpdatesLink);var initMenuMore=function(){"use strict";var e=window,t=BALA.one("#container")||"",n=BALA.one("#holder-panel-menu-more")||"",o=BALA.one("#btn-menu-more")||"",i=BALA.one("#panel-menu-more")||"",r=BALA("li",i)||"",a="classList",s="is-active",c=function(){n[a].remove(s)},l=function(e){evento.add(e,"click",c)},u=function(){evento.add(t,"click",c)},d=function(){var e=function(e){e.preventDefault(),e.stopPropagation(),n[a].toggle(s)};evento.add(o,"click",e)},f=function(){var t=function(e){l(e)};if(e._)_.each(r,t);else if(e.forEach)forEach(r,t,!1);else for(var n=0,o=r.length;o>n;n+=1)l(r[n])};t&&n&&o&&i&&r&&(u(),d(),f())};docReady(initMenuMore);var showMenuMore=function(e){"use strict";e=e||2e3;var t=BALA.one("#holder-panel-menu-more")||"",n="is-active",o="classList",i=function(){t[o].add(n)};t&&setAutoClearedTimeout(i,e)};docReady(showMenuMore.bind(null,2e3));var initUiTotop=function(){"use strict";var e=window,t=BALA.one("body")||"",n=BALA.one("html")||"",o="ui-totop",i="ui-totop-hover",r=function(n){var r=function(t){var n=e.pageYOffset,o=0,i=function(n,i){return function(){i-=n*t,e.scrollTo(0,i),o++,(o>150||0>i)&&clearInterval(r)}},r=setInterval(i.bind(null,t,n--),50)},a="Наверх",s=crel("a"),c=crel("span"),l=function(t){t.preventDefault(),t.stopPropagation(),e.zenscroll?zenscroll.toY(0):r(50)};s.id=o,s.href="javascript:void(0);",s.title=a,evento.add(s,"click",l),setStyleOpacity(s,0),c.id=i,appendFragment(crel(s,c,""+a),t),n&&"function"==typeof n&&n()},a=function(e){var i=e.pageYOffset||n.scrollTop||t.scrollTop||"",r=e.innerHeight||n.clientHeight||t.clientHeight||"",a=BALA.one("#"+o)||"";i&&r&&a&&(i>r?(setStyleVisibilityVisible(a),setStyleOpacity(a,1)):(setStyleVisibilityHidden(a),setStyleOpacity(a,0)))},s=function(){evento.add(e,"scroll",a.bind(null,e))};t&&r(s)};docReady(initUiTotop);var initPlusoYaShare=function(){"use strict";var e=BALA.one("#share-buttons")||"",t=BALA.one(".pluso")||"",n=BALA.one(".ya-share2")||"",o=getHTTP(!0)+"://share.pluso.ru/pluso-like.js",i=getHTTP(!0)+"://yastatic.net/share2/share.js",r=function(e,t){setStyleVisibilityVisible(e),setStyleOpacity(e,1),setStyleDisplayNone(t)},a=function(e,t,n){scriptIsLoaded(e)||loadJS(e,r.bind(null,t,n))},s=function(){t?a(o,t,e):n&&a(i,n,e)},c=function(){var t=function(n){evento.remove(e,"click",t),n.preventDefault(),n.stopPropagation(),s()};evento.add(e,"click",t)};(t||n)&&e&&("undefined"!=typeof getHTTP&&getHTTP()?c():setStyleDisplayNone(e))};docReady(initPlusoYaShare);var initMasonryImagesLoaded=function(){"use strict";var e=window,t=".masonry-grid",n=".masonry-grid-item",o=".masonry-grid-sizer",i=BALA.one(t)||"",r=BALA.one(n)||"",a=function(){var r=function(){if(e.Masonry&&e.imagesLoaded){var r=new Masonry(i,{itemSelector:n,columnWidth:o,gutter:0,percentPosition:!0}),a=imagesLoaded(t);a.on("progress",function(){r.layout()}),"undefined"!=typeof imagesPreloaded&&(imagesPreloaded=!0)}};r()};i&&r&&a()},loadInitMasonryImagesLoaded=function(){ajaxLoadTriggerJS("../cdn/masonry/4.1.1/js/masonry.imagesloaded.pkgd.fixed.min.js",initMasonryImagesLoaded)};evento.add(window,"load",loadInitMasonryImagesLoaded);var initSuperBox=function(){"use strict";var e=window,t=document,n="classList",o="superbox-list",i="superbox-show",r="superbox-current-desc",a="superbox-close",s="superbox-desc",c="animated",l="fadeIn",u="fadeOut",d=BALA("."+o)||"",f=crel("div",{"class":i},crel("div",{"class":r})),p=crel("div",{"class":a}),h=function(o){var d=BALA.one("."+s,o)||"",h=d.innerHTML;appendFragmentAfter(f,o);var m=BALA.one("."+i)||"";setStyleDisplayBlock(m);var g=BALA.one("."+r)||"";removeChildren(g),g.insertAdjacentHTML("beforeend",h),crel(g,p),setStyleOpacity(g,0),setStyleDisplayBlock(g);var v=o.offsetTop,w=e.pageYOffset||t.documentElement.scrollTop,y=function(){e.zenscroll?zenscroll.toY(v,200):e.scroll(0,v)};setImmediate(y),g[n].add(c,l);var A=BALA.one("a",g)||"";if(A){var L=BALA("a",g),b=function(e){var n=BALA.one("body")||"",o=encodeURIComponent(t.location.href||""),i=encodeURIComponent(t.title||"").replace("'","&#39;"),r=e.getAttribute("href")||"",a=r?encodeURIComponent(r):"",s=/localhost/.test(self.location.host)?"http://localhost/externalcounters/":"";if(s){var c=crel("div",{style:"position:absolute;left:-9999px;width:1px;height:1px;border:0;background:transparent url("+s+"?dmn="+a+"&rfrr="+o+"&ttl="+i+"&encoding=utf-8) top left no-repeat;"});
appendFragment(c,n)}},T=function(e){var t=e.getAttribute("href")||"",n=function(e,n){n.preventDefault(),n.stopPropagation(),b(e),openDeviceBrowser(t)};"undefined"!=typeof getHTTP&&getHTTP()?(e.target="_blank",evento.add(e,"click",b.bind(null,e))):evento.add(e,"click",n.bind(null,e))},x=function(e){T(e)};if(e._)_.each(L,x);else if(e.forEach)forEach(L,x,!1);else for(var S=0,k=L.length;k>S;S+=1)T(L[S])}var B=BALA.one("."+a,g)||"",D=function(){var t=function(){e.zenscroll?zenscroll.toY(w,200):e.scroll(0,w)};setImmediate(t),g[n].remove(l),g[n].add(u);var o=function(){setStyleDisplayNone(g),setStyleDisplayNone(m),g[n].remove(c,u)};setAutoClearedTimeout(o,200)};if(B){var E=function(e){evento.remove(B,"click",E),e.preventDefault(),e.stopPropagation(),D()};evento.add(B,"click",E)}},m=function(e){var t=function(e,t){t.preventDefault(),t.stopPropagation(),h(e)};e.onclick=t.bind(null,e)};if(d){var g=function(e){m(e)};if(e._)_.each(d,g);else if(e.forEach)forEach(d,g,!1);else for(var v=0,w=d.length;w>v;v+=1)m(d[v])}};docReady(initSuperBox);var initMasonryDisqus=function(){"use strict";var e=window,t=BALA.one("#disqus_thread")||"",n=t?t.dataset.shortname||"":"",o=(getHTTP(!0)+"://"+n+".disqus.com/embed.js",".masonry-grid"),i=".masonry-grid-item",r=".masonry-grid-sizer",a=BALA.one(o)||"",s=BALA.one(i)||"",c="parentNode",l=function(t){var n=function(){e.Masonry&&(d=new Masonry(t,{itemSelector:i,columnWidth:r,gutter:0}))};n()},u=function(t,n){var o=function(){if(e.Packery&&(f=new Packery(t,{itemSelector:i,columnWidth:r,gutter:0}),n&&e.Draggabilly)){var o,a=function(e){var t=e;o=new Draggabilly(t,{}),s.push(o)},s=[],c=function(e){a(e)};if(e._)_.each(n,c);else if(e.forEach)forEach(n,c,!1);else for(var l=0,u=n.length;u>l;l+=1)a(n[l]);f&&o&&f.bindDraggabillyEvents(o)}};o()};if(a&&s){var d,f;l(a);var p=BALA(i)||"";u(a,p),t&&n&&setStyleDisplayNone(t[c][c])}},loadInitMasonryDisqus=function(){ajaxLoadTriggerJS("../cdn/masonry/4.1.1/js/masonry.pkgd.fixed.min.js",initMasonryDisqus)};evento.add(window,"load",loadInitMasonryDisqus);var initParallax=function(){"use strict";var e=window,t=e.matchMedia("(min-width: 768px)"),n=BALA.one("#scene1")||"",o=BALA.one("#parallax")||"",i=BALA.one("#parallax-disabled")||"";t.matches?(setStyleDisplayBlock(o),setStyleDisplayNone(i),n&&e.Parallax&&new Parallax(n)):(setStyleDisplayNone(o),setStyleDisplayBlock(i))},loadInitParallax=function(){ajaxLoadTriggerJS("/cdn/parallax/2.1.3/js/parallax.fixed.min.js",initParallax)};evento.add(window,"load",loadInitParallax);var includeHTMLintoTarget=function(e,t,n){"use strict";var o=window,i=BALA.one(n)||"",r="parentNode",a=i[r]||"",s=function(){var n=function(){setStyleDisplayNone(e[r]?e[r]:e)},s=function(e){var t=function(){n(),a&&(manageExternalLinks(a),manageLocalLinks(a),manageDataSrcImg(a),manageDataLightboxImgLinks(a))};insertTextAsFragment(e,i,t)},c=function(){n(),setStyleDisplayNone(i)};o.Promise&&o.fetch&&!isElectron?fetch(t).then(function(e){if(!e.ok)throw c(),new Error(e.statusText);return e}).then(function(e){return e.text()}).then(function(e){s(e)}).catch(function(e){console.log("Error inserting content",e)}):o.reqwest?reqwest({url:t,type:"html",method:"get",error:function(e){c(),console.log("Error reqwest-ing file",e)},success:function(e){s(e)}}):ajaxLoadHTML(t,function(e){s(e)},function(){c()})};i&&s()},manageDataTargetLinks=function(e){"use strict";e=e||"";var t=window,n="[data-target]",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i=function(e){var t=e.dataset.include||"",n=e.dataset.target||"",o=function(e,o){e.onclick=null,o.preventDefault(),o.stopPropagation(),includeHTMLintoTarget(e,t,n)};t&&n&&(e.title="Появится здесь же",e.onclick=o.bind(null,e))};if(o){o=e?BALA(n,e)||"":BALA(n)||"";var r=function(e){i(e)};if(t._)_.each(o,r);else if(t.forEach)forEach(o,r,!1);else for(var a=0,s=o.length;s>a;a+=1)i(o[a])}};evento.add(window,"load",manageDataTargetLinks.bind(null,""));var loadRefreshDisqus=function(){"use strict";var e=window,t=BALA.one("#disqus_thread")||"",n="is-active",o=BALA.one("#btn-show-disqus")||"",i=t?t.dataset.shortname||"":"",r=e.location.href||"",a=getHTTP(!0)+"://"+i+".disqus.com/embed.js",s="classList",c=function(){setStyleDisplayNone(o),t[s].add(n)},l=function(){try{DISQUS.reset({reload:!0,config:function(){this.page.identifier=i,this.page.url=r}}),c()}catch(e){setStyleDisplayBlock(o)}},u=function(){loadJS(a,c)},d=function(){removeChildren(t),appendFragment(crel("p","Комментарии доступны только в веб версии этой страницы."),t),t.removeAttribute("id"),setStyleDisplayNone(o.parentNode)};t&&o&&i&&r&&("undefined"!=typeof getHTTP&&getHTTP()?scriptIsLoaded(a)?l():u():d())},manageDisqusButton=function(){"use strict";var e=BALA.one("#disqus_thread")||"",t=e?BALA.one("#btn-show-disqus")||"":"",n=function(){return evento.remove(t,"click",n),loadRefreshDisqus(),!1};e&&t&&evento.add(t,"click",n)};evento.add(window,"load",manageDisqusButton);var initDisqusOnScroll=function(){"use strict";var e=BALA.one("#h1")||"";if(e){var t=window,n=(BALA.one("html")||"",BALA.one("#disqus_thread")||""),o="is-active",i=BALA.one("#btn-show-disqus")||"",r=t.location.href||"",a=n?n.dataset.shortname||"":"",s=getHTTP(!0)+"://"+a+".disqus.com/embed.js",c="classList",l="parentNode",u=function(){setStyleDisplayNone(i),n[c].add(o),"undefined"!=typeof h&&h&&h.destroy()},d=function(){scriptIsLoaded(s)||loadJS(s,u)},f=function(){var e=function(t){evento.remove(i,"click",e),t.preventDefault(),t.stopPropagation(),d()};evento.add(i,"click",e)},p=function(){removeChildren(n),appendFragment(crel("p","Комментарии доступны только в веб версии этой страницы."),n),n.removeAttribute("id"),setStyleDisplayNone(i[l])};if(n&&i&&a&&r)if("undefined"!=typeof getHTTP&&getHTTP())if("undefined"!=typeof earlyDeviceSize&&"small"===earlyDeviceSize)f();else if(t.Waypoint){try{var h=new Waypoint({element:n,handler:function(){d()}})}catch(m){console.log(m)}f()}else if(t.isInViewport){var g=function(){isInViewport(n)&&(evento.remove(t,"scroll",g),d())};evento.add(t,"scroll",g)}else f();else p()}};evento.add(window,"load",initDisqusOnScroll);var initDoSlide=function(){"use strict";var e=window,t=document,n=BALA.one(".cd-prev")||"",o=BALA.one(".cd-next")||"",i=function(e,n,o){var i=function(){o=setTimeout(i,n),t.hidden||t.webkitHidden||e.next()};return function(){clearTimeout(o),o=setTimeout(i,n)}},r=function(){if("undefined"!=typeof s){setStyleDisplayBlock(n),setStyleDisplayBlock(o);var e=function(e){e.preventDefault(),e.stopPropagation(),a.prev()};evento.add(n,"click",e);var t=function(e){e.preventDefault(),e.stopPropagation(),a.next()};evento.add(o,"click",t)}};if(e.DoSlide){var a=new DoSlide(".container",{duration:2e3,horizontal:!0,infinite:!0}),s=i(a,5e3);a.onChanged(s).do(s),(o||n)&&r()}},loadInitDoSlide=function(){ajaxLoadTriggerJS("../../cdn/doSlide/1.1.4/js/do-slide.fixed.min.js",initDoSlide)};docReady(loadInitDoSlide);var manageStaticSelect=function(e){"use strict";e=e||"";var t=window,n="#pages_select",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i=function(e){var n=e.options[e.selectedIndex].value||"",o=n&&isValidId(n,!0)?BALA.one(n):"";n&&(t.zenscroll?o?zenscroll.to(o):changeLocation(n):o?t.scroll(0,findPos(o)):changeLocation(n))},r=function(){o.onchange=i.bind(null,o)};o&&r()};evento.add(window,"load",manageStaticSelect.bind(null,""));var manageContentsSelect=function(e){"use strict";e=e||"";var t=window,n=document,o="#contents_select",i=e?BALA.one(o,e)||"":BALA.one(o)||"",r="../libs/contents/json/contents.json",a="appendChild",s=function(e,t){var n=getKeyValuesFromJSON(e,"label")||"",o=getKeyValuesFromJSON(e,"link")||"";n&&o&&t[a](crel("option",{value:o,title:""+n},truncString(""+n,33)))},c=function(e){var n=e.options[e.selectedIndex].value||"",o=n&&isValidId(n,!0)?BALA.one(n):"";n&&(t.zenscroll?o?zenscroll.to(o):changeLocation(n):o?t.scroll(0,findPos(o)):changeLocation(n))},l=function(e){var o=safelyParseJSON(e);if(o){var r=n.createDocumentFragment(),l=function(e){s(e,r)};if(t._)_.each(o,l);else if(t.forEach)forEach(o,l,!1);else for(var u=0,d=o.length;d>u;u+=1)s(o[u],r);i[a](r),i.onchange=c.bind(null,i)}};if(i)if(t.Promise&&t.fetch&&!isElectron)fetch(r).then(function(e){if(!e.ok)throw new Error(e.statusText);return e}).then(function(e){return e.text()}).then(function(e){l(e)}).catch(function(e){console.log("Error parsing file",e)});else{var u=function(e){l(e)};ajaxLoadUnparsedJSON(r,u)}};evento.add(window,"load",manageContentsSelect.bind(null,""));var initContentsKamil=function(){"use strict";var e=window,t=document,n=(BALA.one("body")||"",BALA.one("#search_form")||""),o="text",i=BALA.one("#"+o)||"",r="../libs/contents/json/contents.json",a=function(n){var i=safelyParseJSON(n);if(i){var r=new Kamil("#"+o,{source:i,minChars:2});r.renderMenu=function(n,o){var i=this,r=function(e,t){10>t&&i._renderItemData(n,e,t)};if(e._)_.each(o,r);else if(e.forEach)forEach(o,r,!1);else for(var a=0,s=o.length;s>a;a+=1)10>a&&i._renderItemData(n,o[a],a);var c=function(e){var n=e.firstChild.textContent||"",o=t.createTextNode(truncString(n,24));e.replaceChild(o,e.firstChild),e.title=""+n},l=BALA("li",n),u=function(e){c(e)};if(e._)_.each(l,u);else if(e.forEach)forEach(l,u,!1);else for(var d=0,f=l.length;f>d;d+=1)c(l[d])},r.on("kamilselect",function(e){var t=e.item.link||"";t&&setImmediate(function(){e.inputElement.value="",changeLocation(t)})})}};if(n&&i)if(e.Promise&&e.fetch&&!isElectron)fetch(r).then(function(e){if(!e.ok)throw new Error(e.statusText);return e}).then(function(e){return e.text()}).then(function(e){a(e)}).catch(function(e){console.log("Error parsing file",e)});else{var s=function(e){a(e)};ajaxLoadUnparsedJSON(r,s)}};evento.add(window,"load",function(){initContentsKamil()});var initContentsKamil=function(){"use strict";var e=window,t=document,n=(BALA.one("body")||"",BALA.one("#search_form")||""),o="#text",i=BALA.one(o)||"",r="kamil-typo-autocomplete",a="kamil-autocomplete",s="../libs/contents/json/contents.json",c="classList",l=function(n){var s=safelyParseJSON(n);if(s){var l=new Kamil(o,{source:s,minChars:2}),u=crel("ul"),d=crel("li");u[c].add(a),u.id=r,setStyleDisplayNone(u),setStyleDisplayNone(d),crel(u,d),appendFragmentAfter(u,i),l.renderMenu=function(n,o){var r=o.length,a=this,s=function(e,t){10>t&&a._renderItemData(n,e,t)};if(e._)_.each(o,s);else if(e.forEach)forEach(o,s,!1);else for(var c=0;r>c;c+=1)10>c&&a._renderItemData(n,o[c],c);for(var l=function(e){i.value=e,i.focus(),setStyleDisplayNone(u)},f=function(){(i.value.length<3||i.value.match(/^\s*$/))&&(setStyleDisplayNone(u),setStyleDisplayNone(d))};1>r;){var p=i.value;p=/[^\u0000-\u007f]/.test(p)?fixEnRuTypo(p,"ru","en"):fixEnRuTypo(p,"en","ru"),setStyleDisplayBlock(u),setStyleDisplayBlock(d),removeChildren(d),crel(d,""+p),evento.add(d,"click",l.bind(null,p)),p.match(/^\s*$/)&&(setStyleDisplayNone(u),setStyleDisplayNone(d)),evento.add(i,"input",f),r+=1}var h=function(e){var n=e.firstChild.textContent||"",o=t.createTextNode(truncString(n,24));e.replaceChild(o,e.firstChild),e.title=""+n},m=BALA("li",n),g=function(e){h(e)};if(e._)_.each(m,g);else if(e.forEach)forEach(m,g,!1);else for(var v=0,w=m.length;w>v;v+=1)h(m[v])},l.on("kamilselect",function(e){var t=e.item.link||"",n=function(){e.inputElement.value="",changeLocation(t)};t&&n()})}};if(n&&i)if(e.Promise&&e.fetch&&!isElectron)fetch(s).then(function(e){if(!e.ok)throw new Error(e.statusText);return e}).then(function(e){return e.text()}).catch(function(e){console.log("Error fetch-ing file",e)}).then(function(e){l(e)}).catch(function(e){console.log("Error parsing file",e)});else{var u=function(e){l(e)};ajaxLoadUnparsedJSON(s,u)}},loadInitContentsKamil=function(){ajaxLoadTriggerJS("../cdn/kamil/0.1.1/js/kamil.fixed.min.js",initContentsKamil)};docReady(loadInitContentsKamil);var initPagesKamil=function(){"use strict";var e=window,t=document,n=(BALA.one("body")||"",BALA.one("#search_form")||""),o="text",i=BALA.one("#"+o)||"",r="../../libs/englishextra-ui/json/pages.json",a=function(n){var i=safelyParseJSON(n);if(i){var r=new Kamil("#"+o,{source:i,minChars:2});r.renderMenu=function(n,o){var i=this,r=function(e,t){10>t&&i._renderItemData(n,e,t)};if(e._)_.each(o,r);else if(e.forEach)forEach(o,r,!1);else for(var a=0,s=o.length;s>a;a+=1)10>a&&i._renderItemData(n,o[a],a);var c=function(e){var n=e.firstChild.textContent||"",o=t.createTextNode(truncString(n,24));e.replaceChild(o,e.firstChild),e.title=""+n},l=BALA("li",n),u=function(e){c(e)};if(e._)_.each(l,u);else if(e.forEach)forEach(l,u,!1);else for(var d=0,f=l.length;f>d;d+=1)c(l[d])},r.on("kamilselect",function(e){var t=e.item.link||"";t&&setImmediate(function(){e.inputElement.value="",changeLocation(t)})})}};if(n&&i)if(e.Promise&&e.fetch&&!isElectron)fetch(r).then(function(e){if(!e.ok)throw new Error(e.statusText);return e}).then(function(e){return e.text()}).then(function(e){a(e)}).catch(function(e){console.log("Error parsing file",e)});else{var s=function(e){a(e)};ajaxLoadUnparsedJSON(r,s)}};evento.add(window,"load",function(){initPagesKamil()});var initPagesKamil=function(){"use strict";var e=window,t=document,n=(BALA.one("body")||"",BALA.one("#search_form")||""),o="#text",i=BALA.one(o)||"",r="kamil-typo-autocomplete",a="kamil-autocomplete",s="../../libs/englishextra-ui/json/pages.json",c="classList",l=function(n){var s=safelyParseJSON(n);if(s){var l=new Kamil(o,{source:s,minChars:2}),u=crel("ul"),d=crel("li");u[c].add(a),u.id=r,setStyleDisplayNone(u),setStyleDisplayNone(d),crel(u,d),appendFragmentAfter(u,i),l.renderMenu=function(n,o){var r=o.length,a=this,s=function(e,t){10>t&&a._renderItemData(n,e,t)};if(e._)_.each(o,s);else if(e.forEach)forEach(o,s,!1);else for(var c=0;r>c;c+=1)10>c&&a._renderItemData(n,o[c],c);for(var l=function(e){i.value=e,i.focus(),setStyleDisplayNone(u)},f=function(){(i.value.length<3||i.value.match(/^\s*$/))&&(setStyleDisplayNone(u),setStyleDisplayNone(d))};1>r;){var p=i.value;p=/[^\u0000-\u007f]/.test(p)?fixEnRuTypo(p,"ru","en"):fixEnRuTypo(p,"en","ru"),setStyleDisplayBlock(u),setStyleDisplayBlock(d),removeChildren(d),crel(d,""+p),evento.add(d,"click",l.bind(null,p)),p.match(/^\s*$/)&&(setStyleDisplayNone(u),setStyleDisplayNone(d)),evento.add(i,"input",f),r+=1}var h=function(e){var n=e.firstChild.textContent||"",o=t.createTextNode(truncString(n,24));e.replaceChild(o,e.firstChild),e.title=""+n},m=BALA("li",n),g=function(e){h(e)};if(e._)_.each(m,g);else if(e.forEach)forEach(m,g,!1);else for(var v=0,w=m.length;w>v;v+=1)h(m[v])},l.on("kamilselect",function(e){var t=e.item.link||"",n=function(){e.inputElement.value="",changeLocation(t)};t&&n()})}};if(n&&i)if(e.Promise&&e.fetch&&!isElectron)fetch(s).then(function(e){if(!e.ok)throw new Error(e.statusText);return e}).then(function(e){return e.text()}).catch(function(e){console.log("Error fetch-ing file",e)}).then(function(e){l(e)}).catch(function(e){console.log("Error parsing file",e)});else{var u=function(e){l(e)};ajaxLoadUnparsedJSON(s,u)}},loadInitPagesKamil=function(){ajaxLoadTriggerJS("../../cdn/kamil/0.1.1/js/kamil.fixed.min.js",initPagesKamil)};docReady(loadInitPagesKamil);var initVKLike=function(){"use strict";var e=window,t=BALA.one("#vk-like")||"",n=BALA.one("#btn-show-vk-like")||"",o=getHTTP(!0)+"://vk.com/js/api/openapi.js?122",i=function(){try{e.VK&&(VK.init({apiId:t.dataset.apiid||"",nameTransportPath:"/xd_receiver.htm",onlyWidgets:!0}),VK.Widgets.Like("vk-like",{type:"button",height:24})),setStyleVisibilityVisible(t),setStyleOpacity(t,1),setStyleDisplayNone(n)}catch(o){setStyleVisibilityHidden(t),setStyleOpacity(t,0),setStyleDisplayBlock(n)}},r=function(){scriptIsLoaded(o)||loadJS(o,i)},a=function(){var e=function(t){evento.remove(n,"click",e),t.preventDefault(),t.stopPropagation(),r()};evento.add(n,"click",e)};t&&n&&("undefined"!=typeof getHTTP&&getHTTP()?a():setStyleDisplayNone(n))};docReady(initVKLike),/localhost/.test(self.location.host)||!function(e,t,n,o){if(n&&o){var i=encodeURIComponent(t.referrer||"");e=encodeURIComponent(e.location.href||""),t=encodeURIComponent(("undefined"!=typeof initialDocumentTitle?initialDocumentTitle:t.title||"").replace("'","&#39;").replace("(","&#40;").replace(")","&#41;")),n.setAttribute("style","position:absolute;left:-9999px;width:1px;height:1px;border:0;background:transparent url("+o+"?dmn="+e+"&rfrr="+i+"&ttl="+t+"&encoding=utf-8) top left no-repeat;")}}(window,document,document.getElementById("externalcounters")||"",/localhost/.test(self.location.host)?"http://localhost/externalcounters/":"//shimansky.biz/externalcounters/"),function(t){var n=/localhost/.test(self.location.host)?"http://localhost/externalcounters/":"//shimansky.biz/externalcounters/",o=t.getElementsByTagName("a")||"",i=self.location.protocol+"//"+self.location.host+"/"||"",r=self.location.host+"/"||"",a=encodeURIComponent(t.location.href||""),s=encodeURIComponent((t.title||"").replace("'","&#39;").replace("(","&#40;").replace(")","&#41;"));if(o&&i&&r){var c=function(){var e=this.getAttribute("href"),o=document.body.firstChild,i=t.createElement("div");i.setAttribute("style","position:absolute;left:-9999px;width:1px;height:1px;border:0;background:transparent url("+n+"?dmn="+encodeURIComponent(e)+"&rfrr="+a+"&ttl="+s+"&encoding=utf-8) top left no-repeat;"),o.parentNode.insertBefore(i,o)};for(i=0;i<o.length;i+=1)b=o[i],(e=b.getAttribute("href")||"")&&(e.match(/^\/scripts\//)||/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)|(localhost)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/.test(e))&&!b.getAttribute("rel")&&(o[i].onclick=c)}}(document),function(e){e.addEventListener("blur",function(){!function(e,t){var n=/localhost/.test(self.location.host)?"http://localhost/externalcounters/":"//shimansky.biz/externalcounters/",o=encodeURIComponent(e.referrer||""),i=encodeURIComponent(t.location.href||""),r=encodeURIComponent((e.title||"").replace("'","&#39;").replace("(","&#40;").replace(")","&#41;")+" - Документ не активен"),a=e.createElement("div"),s=document.body.firstChild;a.setAttribute("style","position:absolute;left:-9999px;width:1px;height:1px;border:0;background:transparent url("+n+"?dmn="+i+"&rfrr="+o+"&ttl="+r+"&encoding=utf-8) top left no-repeat;"),s.parentNode.insertBefore(a,s)}(document,window)},!1)}(window);var insertExternalHTML=function(e,t,n){"use strict";var o=window,i=BALA.one(e)||"",r=function(e,t){var n=function(){t&&"function"==typeof t&&t()};insertTextAsFragment(e,i,n)},a=function(){o.Promise&&o.fetch&&!isElectron?fetch(t).then(function(e){if(!e.ok)throw new Error(e.statusText);return e}).then(function(e){return e.text()}).then(function(e){r(e,n)}).catch(function(e){console.log("Error inserting content",e)}):o.reqwest?reqwest({url:t,type:"html",method:"get",error:function(e){console.log("Error reqwest-ing file",e)},success:function(e){r(e,n)}}):ajaxLoadHTML(t,function(e){r(e,n)})};i&&a()},initRoutie=function(e){"use strict";var t=function(e,t,n){e&&t&&(LoadingSpinner.show(),insertExternalHTML(e,t,n))},n=function(e){e=e||"";var t=document;LoadingSpinner.hide(scrollToTop),t.title=initialDocumentTitle+""+e+userBrowsingDetails},o=function(e){var t=BALA.one(e)||"";t&&(LoadingSpinner.show(),removeChildren(t),appendFragment(crel("div",{"class":"content-wrapper"},crel("div",{"class":"grid grid-pad"},crel("div",{"class":"col col-1-1"},crel("div",{"class":"content"},crel("p","Нет такой страницы. ",crel("a",{href:"#/contents"},"Исправить?")))))),t),n(" - Нет такой страницы"))},i=function(e,t){t=t||"",e&&(n(""+t),changeHash(e),history.pushState&&history.replaceState(null,null,"#"+e))},r=BALA.one(e)||"";r&&routie({"":function(){i("/contents")},"/contents":function(){t(e,"./includes/contents.html",function(){n(" - Содержание"),manageYandexMapButton("#ymap")})},"/feedback":function(){t(e,"./includes/feedback.html",function(){n(" - Напишите мне");var t=BALA.one(e)||"";manageDisqusButton(t)})},"/schedule":function(){"undefined"!=typeof getHTTP&&getHTTP()&&("undefined"==typeof isOldOpera||isOldOpera||t(e,"./includes/schedule.html",function(){n(" - Расписание")}))},"/map":function(){"undefined"!=typeof getHTTP&&getHTTP()&&("undefined"==typeof isOldOpera||isOldOpera||t(e,"./includes/map.html",function(){n(" - Смотреть на карте")}))},"/level_test":function(){t(e,"./includes/level_test.html",function(){n(" - Уровневый тест")})},"/common_mistakes":function(){t(e,"./includes/common_mistakes.html",function(){n(" - Распространенные ошибки")})},"/demo_ege":function(){t(e,"./includes/demo_ege.html",function(){n(" - Демо-вариант ЕГЭ-11 АЯ (ПЧ)")})},"/demo_ege_speaking":function(){t(e,"./includes/demo_ege_speaking.html",function(){n(" - Демо-вариант ЕГЭ-11 АЯ (УЧ)")})},"/previous_ege_analysis":function(){t(e,"./includes/previous_ege_analysis.html",function(){n(" - ЕГЭ 2015: разбор ошибок")})},"/*":function(){o(e)}})}("#app-content"),observeMutations=function(e){"use strict";if(e=BALA.one(e)||""){var t=function(t){var o=function(t){console.log("mutations observer: "+t.type),console.log(t.type,"added: "+t.addedNodes.length+" nodes"),console.log(t.type,"removed: "+t.removedNodes.length+" nodes"),("childList"===t.type||"subtree"===t.type)&&(n.disconnect(),manageExternalLinks(e),manageLocalLinks(e),manageDataTargetLinks(e),manageDataSrcImg(e),manageDataLightboxImgLinks(e))};t.forEach(o)},n=new MutationObserver(t);n.observe(e,{childList:!0,subtree:!0,attributes:!1,characterData:!1})}},updateInsertedDom=function(){"use strict";var e=window,t=e.location.hash||"",n="parentNode",o=BALA.one("#app-content")[n]||"";o&&t&&observeMutations(o)};evento.add(window,"load",updateInsertedDom),evento.add(window,"hashchange",updateInsertedDom);var loadManUp=function(){"undefined"!=typeof getHTTP&&getHTTP()&&ajaxLoadTriggerJS("/cdn/ManUp.js/0.7/js/manup.fixed.min.js")};docReady(loadManUp);var showPageFinishProgress=function(){"use strict";var e=BALA.one("body")||"",t=BALA.one("#container")||"",n=BALA.one(".holder-site-logo")||"",o=function(){progressBar.complete()},i=function(){setStyleOpacity(t,1),setImmediate(o)},r=function(){var e=function(){imagesPreloaded&&0!==t&&(t.stop(),t=0,i())},t=new Interval(50,e);t&&t.run()},a=function(){setStyleDisplayNone(n),e&&(e.style.overflowY="auto")},s=function(){n.classList.add("animated","fadeOut"),setAutoClearedTimeout(a,500)};t&&("undefined"!=typeof imagesPreloaded?r():i()),n&&setAutoClearedTimeout(s,2e3)};evento.add(window,"load",showPageFinishProgress);