(function(a){a.console||(a.console={});a=a.console;var c,e=function(){},f=["memory"],d=["assert,clear,count,debug,dir,dirxml,error,exception,group,","groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,","show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn"];for(d.join("").split(",");c=f.pop();)a[c]||(a[c]={});for(;c=d.pop();)a[c]||(a[c]=e);c=c=e=f=d=null})("undefined"!==typeof window?window:this);
(function(a,c,e){var f=function(){var a=function(){function b(a,d){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2,zIndex:"auto"};if(a&&"object"===typeof a)for(var b in a)a.hasOwnProperty(b)&&(this.options[b]=a[b]);this.options.opacityDuration=3*this.options.duration;this.progressBar=c.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(c){for(var a in c)c.hasOwnProperty(a)&&(this.style[a]=c[a])};this.progressBar.setCSS({position:d?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","z-index":this.options.zIndex});if(d){var e;-1!==d.indexOf("#",0)?e=c.getElementById(d)||"":-1!==
d.indexOf(".",0)&&(e=c.getElementsByClassName(d)[0]||"");e&&(e.hasChildNodes()?e.insertBefore(this.progressBar,e.firstChild):e.appendChild(this.progressBar))}else c.body.appendChild(this.progressBar)}var f=function(){var a,d=c.createElement("fakeelement"),b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in b)if(b.hasOwnProperty(a)&&d.style[a]!==e)return b[a]}();b.prototype.transit=function(){this.progressBar.style.width=
this.progress+"%"};b.prototype.getProgress=function(){return this.progress};b.prototype.setProgress=function(a,c){this.show();this.progress=100<a?100:0>a?0:a;this.transit();c&&c()};b.prototype.increase=function(a,c){this.show();this.setProgress(this.progress+a,c)};b.prototype.decrease=function(a,c){this.show();this.setProgress(this.progress-a,c)};b.prototype.finish=function(c){var b=this;this.setProgress(100,c);this.hide();f&&this.progressBar.addEventListener(f,function(c){b.reset();b.progressBar.removeEventListener(c.type,
a)})};b.prototype.reset=function(c){this.progress=0;this.transit();c&&c()};b.prototype.hide=function(){this.progressBar.style.opacity="0"};b.prototype.show=function(){this.progressBar.style.opacity="1"};return b};return a()}();a.ToProgress=f})("undefined"!==typeof window?window:this,document);
(function(a,c){a.doesFontExist=function(a){var f=c.createElement("canvas").getContext("2d");f.font="72px monospace";var d=f.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;f.font="72px '"+a+"', monospace";return f.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width===d?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(a,c){a.loadCSS=function(a,f){var d=c.getElementsByTagName("head")[0]||"",b=c.createElement("link");b.rel="stylesheet";b.href=a;b.media="all";if(d)return d.appendChild(b),f&&"function"===typeof f&&(b.onload=f),b}})("undefined"!==typeof window?window:this,document);
(function(a,c){a.loadJsCss=function(a,f){var d=this;d.files=a;d.js=[];d.head=c.getElementsByTagName("head")[0]||"";d.body=c.body||"";d.ref=c.getElementsByTagName("script")[0]||"";d.callback=f||function(){};d.loadStyle=function(a){var b=c.createElement("link");b.rel="stylesheet";b.type="text/css";b.href=a;d.head.appendChild(b)};d.loadScript=function(a){var b=c.createElement("script");b.type="text/javascript";b.async=!0;b.src=d.js[a];b.onload=function(){++a<d.js.length?d.loadScript(a):d.callback()};
d.head.appendChild(b);d.ref.parentNode?d.ref.parentNode.insertBefore(b,d.ref):(d.body||d.head).appendChild(b)};var b,u;b=0;for(u=d.files.length;b<u;b+=1)/\.js$|\.js\?/.test(d.files[b])&&d.js.push(d.files[b]),/\.css$|\.css\?|\/css\?/.test(d.files[b])&&d.loadStyle(d.files[b]);b=u=null;0<d.js.length?d.loadScript(0):d.callback()}})("undefined"!==typeof window?window:this,document);
(function(a,c){var e=c.documentElement||"",f=c.body||"",d=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2,zIndex:999});d.increase(20);var b="ontouchstart"in e||"",u="onwheel"in c.createElement("div")||void 0!==c.onmousewheel||"",A=function(c){var b=a.location.protocol||"";return"http:"===b?"http":"https:"===b?"https":c?"http":""},B=A(!0),C=function(){var m=c.title||"",M=a.location.href||"",g=navigator.userAgent||"";d.increase(20);e&&e.classList&&(e.classList.remove("no-js"),
e.classList.add("js"));var l=function(){var k=new Date,a=k.getDate(),c=k.getFullYear(),k=k.getMonth(),k=k+1;10>a&&(a="0"+a);10>k&&(k="0"+k);return c+"-"+k+"-"+a}(),r="";g&&a.platform&&(r=platform.description||"",c.title=m+" ["+(l?" "+l:"")+(r?" "+r:"")+(b||u?" with":"")+(b?" touch":"")+(b&&u?",":"")+(u?" mousewheel":"")+"]");var x=c.getElementsByClassName("zoomwall")[0]||"";(function(a){a=a&&a.nodeName?a:"";var c,n=function(a){for(var k=0,n=a.length;k<n;k+=1){var b=a[k];console.log("mutations observer: "+
b.type);console.log(b.type,"target: "+b.target.tagName+("."+b.target.className||"#"+b.target.id||""));console.log(b.type,"added: "+b.addedNodes.length+" nodes");console.log(b.type,"removed: "+b.removedNodes.length+" nodes");if("childList"===b.type||"subtree"===b.type)c.disconnect(),d.finish(),d.hide()}};a&&(c=new MutationObserver(n),c.observe(a,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))})(x);var v=function(k,b){var n=b||"";return function(){var b=function(a){return a.replace(/^(#|\?)/,
"").replace(/\:$/,"")},w=location||"",d=0===k.indexOf("//")||!!~k.indexOf("://"),p=a.location||"",e=function(){return p.protocol+"//"+p.hostname+(p.port?":"+p.port:"")||""},h=c.createElement("a");h.href=k;var f=h.href,g=e(),m=h.host||w.host,l;if("0"===h.port||""===h.port)a:switch(h.protocol){case "http:":l=n?":80":80;break a;case "https:":l=n?":443":443;break a;default:l=n?":"+w.port:w.port}else l=n?h.port:b(h.port);return{href:f,origin:g,host:m,port:l,hash:n?h.hash:b(h.hash),hostname:h.hostname||
w.hostname,pathname:"/"!==h.pathname.charAt(0)?n?"/"+h.pathname:h.pathname:n?h.pathname:h.pathname.slice(1),protocol:h.protocol&&":"!==h.protocol?n?h.protocol:b(h.protocol):n?w.protocol:b(w.protocol),search:n?h.search:b(h.search),query:n?h.search:b(h.search),isAbsolute:d,isRelative:!d,isCrossDomain:function(){var a=c.createElement("a");a.href=k;return a.protocol+"//"+a.hostname+(a.port?":"+a.port:"")!==e()}(),hasHTTP:/^(http|https):\/\//i.test(k)?!0:!1}}()},g="undefined"!==typeof process&&"undefined"!==
typeof require||"",P="undefined"!==typeof a&&a.process&&"renderer"===a.process.type||"",y;a:{if("undefined"!==typeof g&&g)try{if("undefined"!==typeof require("nw.gui")){y=!0;break a}}catch(k){}y=!1}var C=function(k){var c=function(){var a=P?require("electron").shell:"";return a?a.openExternal(k):""},b=function(){var a=y?require("nw.gui").Shell:"";return a?a.openExternal(k):""};P?c():y?b():(c=a.location.protocol||"",(!c||"http:"!==c&&"https:"!==c)&&a.open(k,"_system","scrollbars=1,location=no"))},
F=function(a,c){var b,d,O,e;return function(){O=this;d=[].slice.call(arguments,0);e=new Date;var p=function(){var f=new Date-e;f<c?b=setTimeout(p,c-f):(b=null,a.apply(O,d))};b||(b=setTimeout(p,c))}},z=function(a,c){function b(){p=0;g=+new Date;f=a.apply(d,e);e=d=null}var d,e,f,p,g=0;return function(){d=this;e=arguments;var a=new Date-g;p||(a>=c?b():p=setTimeout(b,c-a));return f}},D=function(c,b,d){function N(){m+=1/60;var c=m/h,b=l[p](c);1>c?(requestAnimationFrame(N),a.scrollTo(0,f+(g-f)*b)):a.scrollTo(0,
g)}var f=a.scrollY||e.scrollTop,g=c||0,p=d||"easeOutSine",m=0,h=Math.max(.1,Math.min(Math.abs(f-g)/(b||2E3),.8)),l={easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};N()},Q=function(a){var b,d,e;b=c.getElementsByTagName("script")||"";d=0;for(e=b.length;d<e;d+=1)if(b[d].getAttribute("src")===a)return!0;return!1},R=c.getElementsByClassName("wrapper")[0]||
"";(function(a){a=(a=a&&a.nodeName?a:"")?a.getElementsByTagName("a")||"":c.getElementsByTagName("a")||"";var b=function(a){var c=function(a,c){c.stopPropagation();c.preventDefault();var b=C.bind(null,a);F(b,200)()};if(!a.classList.contains("is-binded")&&!a.target&&!a.rel){var b=a.getAttribute("href")||"";b&&v(b).isCrossDomain&&v(b).hasHTTP&&(a.title=""+(v(b).hostname||"")+" откроется в новой вкладке","undefined"!==typeof A&&A()?(a.target="_blank",a.rel="noopener"):a.addEventListener("click",c.bind(null,
b)),a.classList.add("is-binded"))}};if(a){var d,e;d=0;for(e=a.length;d<e;d+=1)b(a[d]);d=e=null}})(R);var E=function(a,b,d){b=c.getElementById(b)||"";d=c.getElementById(d)||"";return(a=-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?JSON.parse(a):a)&&b&&d?(new t(b.innerHTML||"")).render(a):{}},X=function(a,b,d){var e=c.body||"",f=function(){return d&&"function"===typeof d&&d()};try{var g=b.cloneNode(!1);if(c.createRange){var m=c.createRange();m.selectNode(e);var l=m.createContextualFragment(a);
g.appendChild(l);return b.parentNode?b.parentNode.replaceChild(g,b):b.innerHTML=a,f()}g.innerHTML=a;return b.parentNode?b.parentNode.replaceChild(c.createDocumentFragment.appendChild(g),b):b.innerHTML=a,f()}catch(h){console.log(h)}},Y=function(a,b,d,e,f){f=f||"";var g=c.getElementById(b)||"",m=c.getElementById(d)||"",l=function(){return e&&"function"===typeof e&&e()};a&&g&&m&&(a=E(a,b,d),f?(m.innerHTML=a,l()):X(a,m,l))},Z=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&++b;return b},aa=function(a){return new Promise(function(b,
c){var d;try{if(d=JSON.parse(a),d.pages[0].src)if(d.pages[0].width){if(!d.pages[0].height)throw Error("incomplete JSON data: no height");if(!d.pages[0].title)throw Error("incomplete JSON data: no title");}else throw Error("incomplete JSON data: no width");else throw Error("incomplete JSON data: no src");}catch(e){console.log("cannot init generateGallery",e);return}var f=Z(d.pages);Y(d,"template_zoomwall","target_zoomwall",function(){R.getElementsByClassName("data-src-img")[f-1]?b():c()},!0)})},G,
ba=function(){clearTimeout(G);G=null;zoomwall.create(x,!0,"src",null,function(){x.style.visibility="visible";x.style.opacity=1})},H,ca=function(){clearTimeout(H);H=null;echo("data-src-img","src")},g=new Headers;fetch("./libs/contents-cards/json/contents.json",{headers:g,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){aa(a).then(function(a){return a}).then(function(){G=setTimeout(ba,200)}).then(function(){H=
setTimeout(ca,200)})["catch"](function(a){console.log("Cannot create zoomwall gallery",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json",a)});var I=function(a){a=a||this;var b=c.getElementsByClassName("is-social")||"";if(b){var d,e;d=0;for(e=b.length;d<e;d+=1)a!==b[d]&&b[d].classList.remove("is-active")}};a.addEventListener("click",I);var J=c.getElementById("ya-share2")||"",l=(g=c.getElementsByClassName("btn-share")[0]||"")?g.getElementsByTagName("a")[0]||
"":"",K,r=function(b){b.preventDefault();b.stopPropagation();F(function(){J.classList.toggle("is-active");I(J);var b=function(){if(a.Ya)try{K?K.updateContent({title:m,description:m,url:M}):K=Ya.share2("ya-share2",{content:{title:m,description:m,url:M}})}catch(b){}},c=B+"://yastatic.net/share2/share.js";Q(c)?b():new loadJsCss([c],b)},200)()};g&&l&&J&&l.addEventListener("click",r);var S=c.getElementsByClassName("vk-like")[0]||"",T=c.getElementsByClassName("holder-vk-like")[0]||"",l=(g=c.getElementsByClassName("btn-like")[0]||
"")?g.getElementsByTagName("a")[0]||"":"",U,r=function(b){b.preventDefault();b.stopPropagation();F(function(){T.classList.toggle("is-active");I(T);var b=function(){if(a.VK&&!U)try{VK.init({apiId:S.dataset.apiid||"",nameTransportPath:"/xd_receiver.htm",onlyWidgets:!0}),VK.Widgets.Like("vk-like",{type:"button",height:24}),U=!0}catch(b){}},c=B+"://vk.com/js/api/openapi.js?147";Q(c)?b():new loadJsCss([c],b)},200)()};g&&l&&S&&l.addEventListener("click",r);var q=c.getElementsByClassName("title-bar")[0]||
"",L=q.offsetHeight||0,V=function(){z(function(){q.classList.remove("is-fixed");(c.body.scrollTop||e.scrollTop||0)>L?q.classList.add("is-hidden"):q.classList.remove("is-hidden")},100)()},W=function(){z(function(){q.classList.remove("is-hidden");(c.body.scrollTop||e.scrollTop||0)>L?q.classList.add("is-fixed"):q.classList.remove("is-fixed")},100)()},g=function(){z(function(){(c.body.scrollTop||e.scrollTop||0)<L&&(q.classList.remove("is-hidden"),q.classList.remove("is-fixed"))},100)()};q&&(a.addEventListener("scroll",
g,{passive:!0}),b?a.tocca&&(a.addEventListener("swipeup",V,{passive:!0}),a.addEventListener("swipedown",W,{passive:!0})):u&&a.WheelIndicator&&new WheelIndicator({elem:a,callback:function(a){"down"===a.direction&&V();"up"===a.direction&&W()},preventMouse:!1}));g=c.getElementsByClassName("btn-totop")[0]||"";l=function(a){a.stopPropagation();a.preventDefault();D(0,2E4)};r=function(a){z(function(){var b=c.getElementsByClassName("btn-totop")[0]||"",d=a.pageYOffset||e.scrollTop||f.scrollTop||"",g=a.innerHeight||
e.clientHeight||f.clientHeight||"";d&&g&&b&&(d>g?b.classList.add("is-active"):b.classList.remove("is-active"))},100)()};g&&(g.addEventListener("click",l),a.addEventListener("scroll",r,{passive:!0}))},v=["./libs/picturewall/css/bundle.min.css"],D=function(){var b=!1;try{var c=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){b=!0}});a.addEventListener("test",function(){},c)}catch(d){}return b}();String.prototype.startsWith&&D&&a.requestAnimationFrame&&a.matchMedia&&("undefined"!==
typeof a.Element||"dataset"in e)&&"classList"in c.createElement("_")&&(!c.createElementNS||"classList"in c.createElementNS("http://www.w3.org/2000/svg","g"))&&(!a.attachEvent||a.addEventListener)&&"onhashchange"in a&&Array.prototype.indexOf&&a.Promise&&a.fetch&&c.querySelectorAll&&c.querySelector&&Function.prototype.bind&&(!(Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent"))||Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get)&&
"undefined"!==typeof a.localStorage&&"undefined"!==typeof a.sessionStorage&&a.WeakMap&&a.MutationObserver||v.push("../../cdn/polyfills/js/polyfills.fixed.min.js");v.push("./libs/picturewall/js/vendors.min.js");var E=function(){var a=c.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}();loadCSS(B+"://fonts.googleapis.com/css?family=Roboto:400,700&subset=cyrillic",function(){var a,b=function(){clearInterval(a);a=null;d.increase(20);new loadJsCss(v,C)},c=function(){doesFontExist("Roboto")&&
b()};E?a=setInterval(c,100):(a=null,b())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
