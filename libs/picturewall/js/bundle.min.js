(function(e){e.console||(e.console={});e=e.console;for(var d,f=function(){},b=["memory"],a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");d=b.pop();)e[d]||(e[d]={});for(;d=a.pop();)e[d]||(e[d]=f);d=d=f=b=a=null})("undefined"!==typeof window?window:this);
(function(e,d,f){var b=function(){var a=function(){function b(a,g){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2};if(a&&"object"===typeof a)for(var c in a)a.hasOwnProperty(c)&&(this.options[c]=a[c]);this.options.opacityDuration=3*this.options.duration;this.progressBar=d.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.style[b]=a[b])};this.progressBar.setCSS({position:g?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"});if(g){var k;-1!==g.indexOf("#",0)?k=d.getElementById(g)||"":-1!==g.indexOf(".",0)&&(k=d.getElementsByClassName(g)[0]||
"");k&&(k.hasChildNodes()?k.insertBefore(this.progressBar,k.firstChild):k.appendChild(this.progressBar))}else d.body.appendChild(this.progressBar)}var k=function(){var a,b=d.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(c.hasOwnProperty(a)&&b.style[a]!==f)return c[a]}();b.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"};b.prototype.getProgress=function(){return this.progress};
b.prototype.setProgress=function(a,b){this.show();this.progress=100<a?100:0>a?0:a;this.transit();b&&b()};b.prototype.increase=function(a,b){this.show();this.setProgress(this.progress+a,b)};b.prototype.decrease=function(a,b){this.show();this.setProgress(this.progress-a,b)};b.prototype.finish=function(b){var g=this;this.setProgress(100,b);this.hide();k&&this.progressBar.addEventListener(k,function(b){g.reset();g.progressBar.removeEventListener(b.type,a)})};b.prototype.reset=function(a){this.progress=
0;this.transit();a&&a()};b.prototype.hide=function(){this.progressBar.style.opacity="0"};b.prototype.show=function(){this.progressBar.style.opacity="1"};return b};return a()}();e.ToProgress=b})("undefined"!==typeof window?window:this,document);
(function(e,d){var f={create:function(b,a,c,k,d){var g=this;g.dataAttributeHighresName=c||"highres";g.dataAttributeLowresName=k||"lowres";f.resize(b.children);b.classList.remove("loading");b.addEventListener("click",function(){g.children&&0<g.children.length&&f.shrink(g.children[0])});for(c=0;c<b.children.length;c++)b.children[c].addEventListener("click",f.animate);a&&f.keys(b);"function"===typeof d&&d(b)},keys:function(b){var a=function(a){if(!a.defaultPrevented){var k=b||d.getElementsByClassName("zoomwall lightbox")[0];
if(k)switch(a.keyCode){case 27:k.children&&0<k.children.length&&f.shrink(k.children[0]);a.preventDefault();break;case 37:f.page(k,!1);a.preventDefault();break;case 39:f.page(k,!0),a.preventDefault()}}};d.addEventListener("keydown",a);return a},resizeRow:function(b,a){if(b&&1<b.length)for(var c in b)b.hasOwnProperty(c)&&(b[c].style.width=parseInt(e.getComputedStyle(b[c]).width,10)/a*100+"%",b[c].style.height="auto")},calcRowWidth:function(b){var a=0,c;for(c in b)b.hasOwnProperty(c)&&(a+=parseInt(e.getComputedStyle(b[c]).width,
10));return a},resize:function(b){for(var a=[],c=-1,d=0;d<b.length;d++){var l=b[d];l&&(-1==c?c=l.offsetTop:l.offsetTop!=c&&(f.resizeRow(a,f.calcRowWidth(a)),a=[],c=l.offsetTop),a.push(l))}f.resizeRow(a,f.calcRowWidth(a))},reset:function(b){b.style.transform="translate(0, 0) scale(1)";b.style.webkitTransform="translate(0, 0) scale(1)";b.classList.remove("active")},shrink:function(b){b.parentNode.classList.remove("lightbox");f.reset(b);for(var a=b.previousElementSibling;a;)f.reset(a),a=a.previousElementSibling;
for(a=b.nextElementSibling;a;)f.reset(a),a=a.nextElementSibling;b.dataset.lowres&&(b.src=b.dataset.lowres)},expand:function(b){b.classList.add("active");b.parentNode.classList.add("lightbox");var a=e.getComputedStyle(b.parentNode),c=parseInt(a.width,10),d=parseInt(a.height,10),l=b.parentNode.getBoundingClientRect().top,a=e.getComputedStyle(b),g=parseInt(a.width,10),f=parseInt(a.height,10),m=e.innerHeight;d<e.innerHeight?m=d:0<l&&(m-=l);b.dataset[this.dataAttributeHighresName]&&(b.src!=b.dataset[this.dataAttributeHighresName]&&
void 0===b.dataset[this.dataAttributeLowresName]&&(b.dataset[this.dataAttributeLowresName]=b.src),b.src=b.dataset[this.dataAttributeHighresName]);var h=[];h.push(b);for(a=b.nextElementSibling;a&&a.offsetTop==b.offsetTop;)h.push(a),a=a.nextElementSibling;for(a=b.previousElementSibling;a&&a.offsetTop==b.offsetTop;)h.unshift(a),a=a.previousElementSibling;a=m/f;g*a>c&&(a=c/g);var r=l-b.parentNode.offsetTop+b.offsetTop;if(d<e.innerHeight||f*a<d)r-=m/2-f*a/2;0<l&&(r-=l);for(d=l=0;d<h.length&&h[d]!=b;d++)l+=
parseInt(e.getComputedStyle(h[d]).width,10)*a;l=c/2-g*a/2-l;d=0;for(m=h.length-1;0<=m&&h[m]!=b;m--)d+=parseInt(e.getComputedStyle(h[m]).width,10)*a;d=c/2-g*a/2-d;for(g=c=b=0;g<h.length;g++){b+=c*a-c;var c=parseInt(e.getComputedStyle(h[g]).width,10),m=(b+l)/c*100,p=-r/parseInt(e.getComputedStyle(h[g]).height,10)*100;h[g].style.transformOrigin="0% 0%";h[g].style.webkitTransformOrigin="0% 0%";h[g].style.transform="translate("+m.toFixed(8)+"%, "+p.toFixed(8)+"%) scale("+a.toFixed(8)+")";h[g].style.webkitTransform=
"translate("+m.toFixed(8)+"%, "+p.toFixed(8)+"%) scale("+a.toFixed(8)+")"}for(var f=f*(a-1)-r,n,c=b=0,g=h[h.length-1].nextElementSibling,m=-1;g;){p=g.offsetTop;p==m?b+=c*a-c:(-1!=m&&(b=0,f+=n*(a-1)),m=p);c=parseInt(e.getComputedStyle(g).width,10);n=parseInt(e.getComputedStyle(g).height,10);var p=(b+l)/c*100,u=f/n*100;g.style.transformOrigin="0% 0%";g.style.webkitTransformOrigin="0% 0%";g.style.transform="translate("+p.toFixed(8)+"%, "+u.toFixed(8)+"%) scale("+a.toFixed(8)+")";g.style.webkitTransform=
"translate("+p.toFixed(8)+"%, "+u.toFixed(8)+"%) scale("+a.toFixed(8)+")";g=g.nextElementSibling}n=-r;c=b=0;h=h[0].previousElementSibling;for(r=-1;h;)l=h.offsetTop,l==r?b-=c*a-c:(b=0,n-=parseInt(e.getComputedStyle(h).height,10)*(a-1),r=l),c=parseInt(e.getComputedStyle(h).width,10),l=(b-d)/c*100,f=n/parseInt(e.getComputedStyle(h).height,10)*100,h.style.transformOrigin="100% 0%",h.style.webkitTransformOrigin="100% 0%",h.style.transform="translate("+l.toFixed(8)+"%, "+f.toFixed(8)+"%) scale("+a.toFixed(8)+
")",h.style.webkitTransform="translate("+l.toFixed(8)+"%, "+f.toFixed(8)+"%) scale("+a.toFixed(8)+")",h=h.previousElementSibling},animate:function(b){if(this.classList.contains("active"))f.shrink(this);else{for(var a=this.parentNode.getElementsByClassName("active"),d=0;d<a.length;d++)a[d].classList.remove("active");f.expand(this)}b.stopPropagation()},page:function(b,a){var d=b.getElementsByClassName("active");if(d&&0<d.length){var d=d[0],e;if(e=a?d.nextElementSibling:d.previousElementSibling)d.classList.remove("active"),
d.dataset.lowres&&(d.src=d.dataset.lowres),f.expand(e)}}};e.zoomwall=f})("undefined"!==typeof window?window:this,document);
(function(e){function d(a,b){for(var d=b.split(".");d.length;){if(!(d[0]in a))return!1;a=a[d.shift()]}return a}function f(c,e){return c.replace(b,function(a,b,c,h,k,p,n,u){h=d(e,h);var w="",v;if(!h)return"!"===c?f(k,e):n?f(u,e):"";if(!c)return f(p,e);if("@"===c){a=e._key;b=e._val;for(v in h)h.hasOwnProperty(v)&&(e._key=v,e._val=h[v],w+=f(k,e));e._key=a;e._val=b;return w}}).replace(a,function(a,b,c){return(a=d(e,c))||0===a?"%"===b?(new Option(a)).text.replace(/"/g,"&quot;"):a:""})}var b=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,
a=/\{\{([=%])(.+?)\}\}/g,c=function(a){this.t=a};c.prototype.render=function(a){return f(this.t,a)};e.t=c})("undefined"!==typeof window?window:this);
(function(e,d){e.echo=function(f,b,a){f=f||"data-src-img";b=b||"src";a=a||100;var c=function(a){this.elem=a;this.render();this.listen()},k=d.documentElement.classList.contains("is-binded-echo")||"",l=[],g=function(){for(var a=0;a<l.length;a++){var g=l[a],c=g.getBoundingClientRect();if((0<=c.top&&0<=c.left&&c.top)<=(e.innerHeight||d.documentElement.clientHeight)){var c=g,f=a;-1!==l.indexOf(g)&&l.splice(f,1);c.src=c.dataset[b]||c.getAttribute("data-"+b)}}},F=function(a,b){function d(){f=0;h=+new Date;
e=a.apply(c,g);g=c=null}var c,g,e,f,h=0;return function(){c=this;g=arguments;var a=new Date-h;f||(a>=b?d():f=setTimeout(d,b-a));return e}}(g,a),m=function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});e.addEventListener("test",function(){},b)}catch(d){}return a}();c.prototype={init:function(){l.push(this.elem)},render:function(){g()},listen:function(){k||(e.addEventListener("scroll",F,m?{passive:!0}:!1),d.documentElement.classList.add("is-binded-echo"))}};
var h=d.getElementsByClassName(f)||"";h&&function(){for(var a=0;a<h.length;a++)(new c(h[a])).init()}()}})("undefined"!==typeof window?window:this,document);(function(e,d){e.doesFontExist=function(e){var b=d.createElement("canvas").getContext("2d");b.font="72px monospace";var a=b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;b.font="72px '"+e+"', monospace";return b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width==a?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(e,d){e.loadJsCss=function(e,b){var a=this;a.files=e;a.js=[];a.head=d.getElementsByTagName("head")[0]||"";a.body=d.body||"";a.ref=d.getElementsByTagName("script")[0]||"";a.callback=b||function(){};a.loadStyle=function(b){var c=d.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;a.head.appendChild(c)};a.loadScript=function(b){var c=d.createElement("script");c.type="text/javascript";c.async=!0;c.src=a.js[b];c.onload=function(){++b<a.js.length?a.loadScript(b):a.callback()};
a.head.appendChild(c);a.ref.parentNode?a.ref.parentNode.insertBefore(c,a.ref):(a.body||a.head).appendChild(c)};var c,k;c=0;for(k=a.files.length;c<k;c+=1)/\.js$|\.js\?/.test(a.files[c])&&a.js.push(a.files[c]),/\.css$|\.css\?|\/css\?/.test(a.files[c])&&a.loadStyle(a.files[c]);c=k=null;0<a.js.length?a.loadScript(0):a.callback()}})("undefined"!==typeof window?window:this,document);
(function(e,d){var f=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2});f.increase(20);var b="ontouchstart"in d.documentElement||"",a="onwheel"in d.createElement("div")||void 0!==d.onmousewheel||"",c=function(){f.increase(20);var a="ontouchstart"in d.documentElement||"",b="onwheel"in d.createElement("div")||void 0!==d.onmousewheel||"",c=d.title||"",h=navigator.userAgent||"",l=function(){var a=new Date,b=a.getDate(),d=a.getFullYear(),a=a.getMonth(),a=a+1;10>b&&(b=
"0"+b);10>a&&(a="0"+a);return d+"-"+a+"-"+b}(),k="";h&&e.platform&&(k=platform.description||"",d.title=c+" ["+(l?" "+l:"")+(k?" "+k:"")+(a||b?" with":"")+(a?" touch":"")+(a&&b?",":"")+(b?" mousewheel":"")+"]");var n=d.getElementsByClassName("zoomwall")[0]||"",u=function(a,b,c){b=d.getElementById(b)||"";c=d.getElementById(c)||"";return(a=-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?JSON.parse(a):a)&&b&&c?(new t(b.innerHTML||"")).render(a):{}},w=function(a,b,c){var e=d.body||
"",g=function(){return c&&"function"===typeof c&&c()};try{var f=b.cloneNode(!1);if(d.createRange){var h=d.createRange();h.selectNode(e);var k=h.createContextualFragment(a);f.appendChild(k);return b.parentNode?b.parentNode.replaceChild(f,b):b.innerHTML=a,g()}f.innerHTML=a;return b.parentNode?b.parentNode.replaceChild(d.createDocumentFragment.appendChild(f),b):b.innerHTML=a,g()}catch(l){console.log(l)}},v=function(a,b,c,e,g){g=g||"";var f=d.getElementById(b)||"",h=d.getElementById(c)||"",k=function(){return e&&
"function"===typeof e&&e()};a&&f&&h&&(a=u(a,b,c),g?(h.innerHTML=a,k()):w(a,h,k))},G=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&++b;return b},H=function(a){return new Promise(function(b,c){var e;try{if(e=JSON.parse(a),e.pages[0].src)if(e.pages[0].width){if(!e.pages[0].height)throw Error("incomplete JSON data: no height");if(!e.pages[0].title)throw Error("incomplete JSON data: no title");}else throw Error("incomplete JSON data: no width");else throw Error("incomplete JSON data: no src");
}catch(g){console.log("cannot init generateGallery",g);return}var f=G(e.pages);v(e,"template_zoomwall","target_zoomwall",function(){f===d.getElementsByClassName("data-src-img").length?b():c()},!0)})},x,I=function(){clearTimeout(x);x=null;zoomwall.create(n,!0,"src",null,function(){n.style.visibility="visible";n.style.opacity=1})},y,J=function(){clearTimeout(y);y=null;echo("data-src-img","src")},c=new Headers;fetch("./libs/contents-cards/json/contents.json",{headers:c,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();
throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){H(a).then(function(a){return a}).then(function(a){x=setTimeout(I,200)}).then(function(a){y=setTimeout(J,200)})["catch"](function(a){console.log("Cannot create zoomwall gallery",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json")});var z=function(a,b){function c(){f=0;h=+new Date;g=a.apply(d,e);e=d=null}var d,e,g,f,h=0;return function(){d=this;e=arguments;var a=
new Date-h;f||(a>=b?c():f=setTimeout(c,b-a));return g}},q=d.getElementsByClassName("title-bar")[0]||"",A=q.offsetHeight||0,c=d.getElementsByClassName("wrapper")[0]||"",B=function(){z(function(){(d.body.scrollTop||d.documentElement.scrollTop||0)>A?q.classList.add("is-hidden"):(q.classList.remove("is-fixed"),q.classList.remove("is-hidden"))},100)()},C=function(){z(function(){q.classList.remove("is-hidden");(d.body.scrollTop||d.documentElement.scrollTop||0)>A?q.classList.add("is-fixed"):q.classList.remove("is-fixed")},
100)()};c&&q&&(a?e.tocca&&(e.addEventListener("swipeup",B,{passive:!0}),e.addEventListener("swipedown",C,{passive:!0})):b&&e.WheelIndicator&&new WheelIndicator({elem:c,callback:function(a){"down"===a.direction&&B();"up"===a.direction&&C()},preventMouse:!1}));var K=function(a,b,c){function g(){l+=1/60;var a=l/m,b=n[k](a);1>a?(requestAnimationFrame(g),e.scrollTo(0,f+(h-f)*b)):e.scrollTo(0,h)}var f=e.scrollY||d.documentElement.scrollTop,h=a||0,k=c||"easeOutSine",l=0,m=Math.max(.1,Math.min(Math.abs(f-
h)/(b||2E3),.8)),n={easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};g()},D=d.documentElement||"",E=d.body||"",a=d.getElementsByClassName("btn-totop")[0]||"",b=function(a){a.stopPropagation();a.preventDefault();K(0,2E4);q&&q.classList.remove("is-hidden")},c=function(a){z(function(){var b=d.getElementsByClassName("btn-totop")[0]||"",c=a.pageYOffset||
D.scrollTop||E.scrollTop||"",e=a.innerHeight||D.clientHeight||E.clientHeight||"";c&&e&&b&&(c>e?b.classList.add("is-active"):b.classList.remove("is-active"))},100)()};a&&(a.addEventListener("click",b),e.addEventListener("scroll",c,{passive:!0}));f.finish();f.hide()},k=["./libs/picturewall/css/bundle.min.css"],l=function(a){var b=e.location.protocol||"";return"http:"===b?"http":"https:"===b?"https":a?"http":""}(!0);"classList"in d.createElement("_")||k.push(l+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");
"undefined"!==typeof e.Element&&"dataset"in d.documentElement||k.push(l+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});e[addEventListener]("test",function(){},b)}catch(c){}return a})()||k.push(l+"://cdn.jsdelivr.net/npm/dom4@1.8.5/build/dom4.max.min.js");e.Promise||k.push(l+"://cdn.jsdelivr.net/es6-promise-polyfill/1.2.0/promise.min.js");e.fetch||k.push(l+
"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");k.push(l+"://cdn.jsdelivr.net/npm/platform@1.3.4/platform.min.js");b?k.push(l+"://cdnjs.cloudflare.com/ajax/libs/Tocca.js/2.0.1/Tocca.min.js"):a&&k.push("./cdn/wheel-indicator/1.1.4/js/wheel-indicator.fixed.min.js");new loadJsCss([l+"://fonts.googleapis.com/css?family=Roboto:400&subset=cyrillic"],function(){var a,b=function(){clearInterval(a);a=null;f.increase(20);new loadJsCss(k,c)},e=function(){doesFontExist("Roboto")&&b()};(function(){var a=d.createElement("canvas");
return!(!a.getContext||!a.getContext("2d"))})()?a=setInterval(e,100):(a=null,b())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
