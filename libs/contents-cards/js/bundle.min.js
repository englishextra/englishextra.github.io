(function(a){a.console||(a.console={});a=a.console;for(var b,g=function(){},f=["memory"],c="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");b=f.pop();)a[b]||(a[b]={});for(;b=c.pop();)a[b]||(a[b]=g);b=b=g=f=c=null})("undefined"!==typeof window?window:this);
(function(a,b,g){var f=function(){var c=function(){function a(e,d){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2};if(e&&"object"===typeof e)for(var c in e)e.hasOwnProperty(c)&&(this.options[c]=e[c]);this.options.opacityDuration=3*this.options.duration;this.progressBar=b.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(b){for(var d in b)b.hasOwnProperty(d)&&(this.style[d]=b[d])};this.progressBar.setCSS({position:d?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"});if(d){var f;-1!==d.indexOf("#",0)?f=b.getElementById(d)||"":-1!==d.indexOf(".",0)&&(f=b.getElementsByClassName(d)[0]||
"");f&&(f.hasChildNodes()?f.insertBefore(this.progressBar,f.firstChild):f.appendChild(this.progressBar))}else b.body.appendChild(this.progressBar)}var f=function(){var a,d=b.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(c.hasOwnProperty(a)&&d.style[a]!==g)return c[a]}();a.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"};a.prototype.getProgress=function(){return this.progress};
a.prototype.setProgress=function(b,d){this.show();this.progress=100<b?100:0>b?0:b;this.transit();d&&d()};a.prototype.increase=function(b,d){this.show();this.setProgress(this.progress+b,d)};a.prototype.decrease=function(b,d){this.show();this.setProgress(this.progress-b,d)};a.prototype.finish=function(b){var d=this;this.setProgress(100,b);this.hide();f&&this.progressBar.addEventListener(f,function(b){d.reset();d.progressBar.removeEventListener(b.type,c)})};a.prototype.reset=function(b){this.progress=
0;this.transit();b&&b()};a.prototype.hide=function(){this.progressBar.style.opacity="0"};a.prototype.show=function(){this.progressBar.style.opacity="1"};return a};return c()}();a.ToProgress=f})("undefined"!==typeof window?window:this,document);
(function(a,b){var g=function(a){var c=a.container instanceof Node?a.container:b.getElementById(a.container)||b.getElementsByClassName(a.container)[0]||"",g=a.item instanceof NodeList?a.item:c.getElementsByClassName(a.item)||"",c={container:c,nodeList:g},h;for(h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);this.props=a};g.prototype.mount=function(){if(!this.props.container||!this.props.nodeList||0===this.props.nodeList.length)return!1;var b="number"===typeof this.props.gutter&&isFinite(this.props.gutter)&&
Math.floor(this.props.gutter)===this.props.gutter?this.props.gutter:0,a=this.props.done,g=this.props.container,h=this.props.nodeList;g.style.width="";var e=Array.prototype.forEach,d=g.getBoundingClientRect().width,r=h[0].getBoundingClientRect().width+b,d=Math.max(Math.floor((d-b)/r),1);g.style.width=r*d+b+"px";g.style.position="relative";for(var l=[],A=[],u=0;u<d;++u)A.push(u*r+b),l.push(b);this.props.rtl&&A.reverse();e.call(h,function(a){var d=l.slice(0).sort(function(b,a){return b-a}).shift(),d=
l.indexOf(d),c=parseInt(A[d]),e=parseInt(l[d]);a.style.position="absolute";a.style.webkitBackfaceVisibility=a.style.backfaceVisibility="hidden";a.style.transformStyle="preserve-3d";a.style.transform="translate3D("+c+"px,"+e+"px, 0)";l[d]+=a.getBoundingClientRect().height+b});g.style.display="";e=l.slice(0).sort(function(b,a){return b-a}).pop();g.style.height=e+"px";"function"===typeof a&&a(h)};a.Minigrid=g})("undefined"!==typeof window?window:this,document);
(function(a){function b(b,a){for(var d=a.split(".");d.length;){if(!(d[0]in b))return!1;b=b[d.shift()]}return b}function g(a,e){return a.replace(f,function(a,c,l,f,h,m,n,z){f=b(e,f);var C="",x;if(!f)return"!"===l?g(h,e):n?g(z,e):"";if(!l)return g(m,e);if("@"===l){a=e._key;c=e._val;for(x in f)f.hasOwnProperty(x)&&(e._key=x,e._val=f[x],C+=g(h,e));e._key=a;e._val=c;return C}}).replace(c,function(a,c,f){return(a=b(e,f))||0===a?"%"===c?(new Option(a)).text.replace(/"/g,"&quot;"):a:""})}var f=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,
c=/\{\{([=%])(.+?)\}\}/g,n=function(b){this.t=b};n.prototype.render=function(b){return g(this.t,b)};a.t=n})("undefined"!==typeof window?window:this);
(function(a,b){a.echo=function(g,f,c){g=g||"data-src-img";var n=f||"src";f=c||100;var h=function(b){this.elem=b;this.render();this.listen()},e=b.documentElement.classList.contains("is-binded-echo")||"",d=[],r=function(){for(var c=0;c<d.length;c++){var f=d[c],e=f.getBoundingClientRect();if((0<=e.top&&0<=e.left&&e.top)<=(a.innerHeight||b.documentElement.clientHeight)){var e=f,g=c;-1!==d.indexOf(f)&&d.splice(g,1);e.src=e.dataset[n]||e.getAttribute("data-"+n)}}},l=function(b,a){function c(){g=0;l=+new Date;
f=b.apply(d,e);e=d=null}var d,e,f,g,l=0;return function(){d=this;e=arguments;var b=new Date-l;g||(b>=a?c():g=setTimeout(c,a-b));return f}}(r,f),A=function(){var b=!1;try{var c=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){b=!0}});a.addEventListener("test",function(){},c)}catch(d){}return b}();h.prototype={init:function(){d.push(this.elem)},render:function(){r()},listen:function(){e||(a.addEventListener("scroll",l,A?{passive:!0}:!1),b.documentElement.classList.add("is-binded-echo"))}};
var u=b.getElementsByClassName(g)||"";u&&function(){for(var b=0;b<u.length;b++)(new h(u[b])).init()}()}})("undefined"!==typeof window?window:this,document);(function(a,b){a.doesFontExist=function(a){var f=b.createElement("canvas").getContext("2d");f.font="72px monospace";var c=f.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;f.font="72px '"+a+"', monospace";return f.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width==c?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(a,b){a.loadJsCss=function(a,f){var c=this;c.files=a;c.js=[];c.head=b.getElementsByTagName("head")[0]||"";c.body=b.body||"";c.ref=b.getElementsByTagName("script")[0]||"";c.callback=f||function(){};c.loadStyle=function(a){var d=b.createElement("link");d.rel="stylesheet";d.type="text/css";d.href=a;c.head.appendChild(d)};c.loadScript=function(a){var d=b.createElement("script");d.type="text/javascript";d.async=!0;d.src=c.js[a];d.onload=function(){++a<c.js.length?c.loadScript(a):c.callback()};
c.head.appendChild(d);c.ref.parentNode?c.ref.parentNode.insertBefore(d,c.ref):(c.body||c.head).appendChild(d)};var n,h;n=0;for(h=c.files.length;n<h;n+=1)/\.js$|\.js\?/.test(c.files[n])&&c.js.push(c.files[n]),/\.css$|\.css\?|\/css\?/.test(c.files[n])&&c.loadStyle(c.files[n]);n=h=null;0<c.js.length?c.loadScript(0):c.callback()}})("undefined"!==typeof window?window:this,document);
(function(a,b){var g=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2});g.increase(20);var f="ontouchstart"in b.documentElement||"",c="onwheel"in b.createElement("div")||void 0!==b.onmousewheel||"",n=function(b){var c=a.location.protocol||"";return"http:"===c?"http":"https:"===c?"https":b?"http":""},h=function(){var e=b.documentElement||"";e&&e.classList&&(e.classList.remove("no-js"),e.classList.add("js"));g.increase(20);var h=b.getElementsByClassName("card-grid")[0]||
"";(function(b){b=b&&b.nodeName?b:"";var a=function(b){for(var a=0,y=b.length;a<y;a+=1){var p=b[a];console.log("mutations observer: "+p.type);console.log(p.type,"target: "+p.target.tagName+("."+p.target.className||"#"+p.target.id||""));console.log(p.type,"added: "+p.addedNodes.length+" nodes");console.log(p.type,"removed: "+p.removedNodes.length+" nodes");if("childList"===p.type||"subtree"===p.type)c.disconnect(),g.finish(),g.hide()}};if(b){var c=new MutationObserver(a);c.observe(b,{childList:!0,
subtree:!0,attributes:!1,characterData:!1})}})(h);var u=function(y,p){var c=p||"";return function(){var p=function(b){return b.replace(/^(#|\?)/,"").replace(/\:$/,"")},d=location||"",e=0===y.indexOf("//")||!!~y.indexOf("://"),f=a.location||"",g=function(){return f.protocol+"//"+f.hostname+(f.port?":"+f.port:"")||""},k=b.createElement("a");k.href=y;var l=k.href,h=g(),n=k.host||d.host,m;if("0"===k.port||""===k.port)a:switch(k.protocol){case "http:":m=c?":80":80;break a;case "https:":m=c?":443":443;
break a;default:m=c?":"+d.port:d.port}else m=c?k.port:p(k.port);return{href:l,origin:h,host:n,port:m,hash:c?k.hash:p(k.hash),hostname:k.hostname||d.hostname,pathname:"/"!==k.pathname.charAt(0)?c?"/"+k.pathname:k.pathname:c?k.pathname:k.pathname.slice(1),protocol:k.protocol&&":"!==k.protocol?c?k.protocol:p(k.protocol):c?d.protocol:p(d.protocol),search:c?k.search:p(k.search),query:c?k.search:p(k.search),isAbsolute:e,isRelative:!e,isCrossDomain:function(){var a=b.createElement("a");a.href=y;return a.protocol+
"//"+a.hostname+(a.port?":"+a.port:"")!==g()}(),hasHTTP:/^(http|https):\/\//i.test(y)?!0:!1}}()},m="undefined"!==typeof process&&"undefined"!==typeof require||"",r="undefined"!==typeof a&&a.process&&"renderer"===a.process.type||"",z;a:{if("undefined"!==typeof m&&m)try{if("undefined"!==typeof require("nw.gui")){z=!0;break a}}catch(y){}z=!1}var C=function(b){var c=function(){var a=r?require("electron").shell:"";return a?a.openExternal(b):""},d=function(){var a=z?require("nw.gui").Shell:"";return a?
a.openExternal(b):""};r?c():z?d():(c=a.location.protocol||"",(!c||"http:"!==c&&"https:"!==c)&&a.open(b,"_system","scrollbars=1,location=no"))},x=function(b,a,c){function d(){var h=Date.now()-l;h<a&&0<=h?e=setTimeout(d,a-h):(e=null,c||(k=b.apply(g,f),g=f=null))}var e,f,g,l,k;if(void 0===a||null===a)a=100;var h=function(){g=this;f=arguments;l=Date.now();var h=c&&!e;e||(e=setTimeout(d,a));h&&(k=b.apply(g,f),g=f=null);return k};h.clear=function(){e&&(clearTimeout(e),e=null)};h.flush=function(){e&&(k=
b.apply(g,f),g=f=null,clearTimeout(e),e=null)};return h},K=b.getElementsByClassName("wrapper")[0]||"";(function(a){a=(a=a&&a.nodeName?a:"")?a.getElementsByTagName("a")||"":b.getElementsByTagName("a")||"";var c=function(a){var b=function(a,b){b.stopPropagation();b.preventDefault();var c=C.bind(null,a);x(c,200)()};if(!a.classList.contains("is-binded")&&!a.target&&!a.rel){var c=a.getAttribute("href")||"";c&&u(c).isCrossDomain&&u(c).hasHTTP&&(a.title=""+(u(c).hostname||"")+" откроется в новой вкладке",
"undefined"!==typeof n&&n()?(a.target="_blank",a.rel="noopener"):a.addEventListener("click",b.bind(null,c)),a.classList.add("is-binded"))}};if(a){var d,e;d=0;for(e=a.length;d<e;d+=1)c(a[d]);d=e=null}})(K);var B=b.title||"",m=navigator.userAgent||"",v=function(){var a=new Date,b=a.getDate(),c=a.getFullYear(),a=a.getMonth(),a=a+1;10>b&&(b="0"+b);10>a&&(a="0"+a);return c+"-"+a+"-"+b}(),w="";m&&a.platform&&(w=platform.description||"",b.title=B+" ["+(v?" "+v:"")+(w?" "+w:"")+(f||c?" with":"")+(f?" touch":
"")+(f&&c?",":"")+(c?" mousewheel":"")+"]");var T=function(a,c,d){c=b.getElementById(c)||"";d=b.getElementById(d)||"";return(a=-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?JSON.parse(a):a)&&c&&d?(new t(c.innerHTML||"")).render(a):{}},U=function(a,c,d){var e=b.body||"",f=function(){return d&&"function"===typeof d&&d()};try{var g=c.cloneNode(!1);if(b.createRange){var h=b.createRange();h.selectNode(e);var l=h.createContextualFragment(a);g.appendChild(l);return c.parentNode?
c.parentNode.replaceChild(g,c):c.innerHTML=a,f()}g.innerHTML=a;return c.parentNode?c.parentNode.replaceChild(b.createDocumentFragment.appendChild(g),c):c.innerHTML=a,f()}catch(k){console.log(k)}},V=function(a,c,d,e,f){f=f||"";var g=b.getElementById(c)||"",h=b.getElementById(d)||"",l=function(){return e&&"function"===typeof e&&e()};a&&g&&h&&(a=T(a,c,d),f?(h.innerHTML=a,l()):U(a,h,l))},W=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&++b;return b},X=function(a){return new Promise(function(b,
c){var d;try{if(d=JSON.parse(a),d.pages[0].href)if(d.pages[0].src)if(d.pages[0].width)if(d.pages[0].height){if(!d.pages[0].title)throw Error("incomplete JSON data: no title");if(!d.pages[0].text)throw Error("incomplete JSON data: no text");}else throw Error("incomplete JSON data: no height");else throw Error("incomplete JSON data: no width");else throw Error("incomplete JSON data: no src");else throw Error("incomplete JSON data: no href");}catch(e){console.log("cannot init generateCardGrid",e);return}var f=
W(d.pages);V(d,"template_card_grid","target_card_grid",function(){K.getElementsByClassName("card-wrap")[f-1]?b():c()},!0)})},E,Y=function(){clearTimeout(E);E=null;var c;c=new Minigrid({container:"card-grid",item:"card-wrap",gutter:20,done:function(){h.style.visibility="visible";h.style.opacity=1}});c.mount();a.addEventListener("resize",function(){c.mount()},{passive:!0});var d=function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},e=b.documentElement.style,f="string"==typeof e.transition?
"transition":"WebkitTransition",g="string"==typeof e.transform?"transform":"WebkitTransform";if(e=b.styleSheets[0]||"")d=d([".card-wrap{",f,": ",g," 0.4s ease-out;}"].join("")),e.insertRule(d,0)},F,Z=function(){clearTimeout(F);F=null;echo("data-src-img","src")},m=new Headers;fetch("./libs/contents-cards/json/contents.json",{headers:m,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){X(a).then(function(a){return a}).then(function(a){E=
setTimeout(Y,200)}).then(function(a){F=setTimeout(Z,200)})["catch"](function(a){console.log("Cannot create card grid",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json")});var L=a.location.href||"",M=function(a){var c,d,e;c=b.getElementsByTagName("script")||"";d=0;for(e=c.length;d<e;d+=1)if(c[d].getAttribute("src")===a)return!0;return!1},G=function(a){a=a||this;var c=b.getElementsByClassName("is-social")||"";if(c){var d,e;d=0;for(e=c.length;d<e;d+=1)a!==
c[d]&&c[d].classList.remove("is-active")}};a.addEventListener("click",G);var H=b.getElementById("ya-share2")||"",v=(m=b.getElementsByClassName("btn-share")[0]||"")?m.getElementsByTagName("a")[0]||"":"",I,w=function(b){b.preventDefault();b.stopPropagation();x(function(){H.classList.toggle("is-active");G(H);var b=function(){if(a.Ya)try{I?I.updateContent({title:B,description:B,url:L}):I=Ya.share2("ya-share2",{content:{title:B,description:B,url:L}})}catch(b){console.log("cannot update or init Ya",b)}},
c=d+"://yastatic.net/share2/share.js";M(c)?b():new loadJsCss([c],b)},200)()};m&&v&&H&&v.addEventListener("click",w);var N=b.getElementsByClassName("vk-like")[0]||"",O=b.getElementsByClassName("holder-vk-like")[0]||"",v=(m=b.getElementsByClassName("btn-like")[0]||"")?m.getElementsByTagName("a")[0]||"":"",P,w=function(b){b.preventDefault();b.stopPropagation();x(function(){O.classList.toggle("is-active");G(O);var b=function(){if(a.VK&&!P)try{VK.init({apiId:N.dataset.apiid||"",nameTransportPath:"/xd_receiver.htm",
onlyWidgets:!0}),VK.Widgets.Like("vk-like",{type:"button",height:24}),P=!0}catch(b){console.log("cannot init VK",b)}},c=d+"://vk.com/js/api/openapi.js?147";M(c)?b():new loadJsCss([c],b)},200)()};m&&v&&N&&v.addEventListener("click",w);var D=function(a,b){function c(){g=0;h=+new Date;f=a.apply(d,e);e=d=null}var d,e,f,g,h=0;return function(){d=this;e=arguments;var a=new Date-h;g||(a>=b?c():g=setTimeout(c,b-a));return f}},q=b.getElementsByClassName("title-bar")[0]||"",J=q.offsetHeight||0,Q=function(){D(function(){q.classList.remove("is-fixed");
(b.body.scrollTop||b.documentElement.scrollTop||0)>J?q.classList.add("is-hidden"):q.classList.remove("is-hidden")},100)()},R=function(){D(function(){q.classList.remove("is-hidden");(b.body.scrollTop||b.documentElement.scrollTop||0)>J?q.classList.add("is-fixed"):q.classList.remove("is-fixed")},100)()},m=function(){D(function(){(b.body.scrollTop||b.documentElement.scrollTop||0)<J&&(q.classList.remove("is-hidden"),q.classList.remove("is-fixed"))},100)()};q&&(a.addEventListener("scroll",m,{passive:!0}),
f?a.tocca&&(a.addEventListener("swipeup",Q,{passive:!0}),a.addEventListener("swipedown",R,{passive:!0})):c&&a.WheelIndicator&&new WheelIndicator({elem:a,callback:function(a){"down"===a.direction&&Q();"up"===a.direction&&R()},preventMouse:!1}));var aa=function(c,d,e){function f(){m+=1/60;var b=m/k,c=n[l](b);1>b?(requestAnimationFrame(f),a.scrollTo(0,g+(h-g)*c)):a.scrollTo(0,h)}var g=a.scrollY||b.documentElement.scrollTop,h=c||0,l=e||"easeOutSine",m=0,k=Math.max(.1,Math.min(Math.abs(g-h)/(d||2E3),.8)),
n={easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};f()},S=b.body||"",m=b.getElementsByClassName("btn-totop")[0]||"",v=function(a){a.stopPropagation();a.preventDefault();aa(0,2E4);q&&q.classList.remove("is-hidden")},w=function(a){D(function(){var c=b.getElementsByClassName("btn-totop")[0]||"",d=a.pageYOffset||e.scrollTop||S.scrollTop||"",f=a.innerHeight||
e.clientHeight||S.clientHeight||"";d&&f&&c&&(d>f?c.classList.add("is-active"):c.classList.remove("is-active"))},100)()};m&&(m.addEventListener("click",v),a.addEventListener("scroll",w,{passive:!0}))},e=["./libs/contents-cards/css/bundle.min.css"],d=n(!0);a.MutationObserver||e.push(d+"://cdn.jsdelivr.net/npm/mutation-observer@1.0.3/index.min.js");"classList"in b.createElement("_")||e.push(d+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");"undefined"!==typeof a.Element&&"dataset"in
b.documentElement||e.push(d+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var b=!1;try{var c=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){b=!0}});a.addEventListener("test",function(){},c)}catch(d){}return b})()||e.push(d+"://cdn.jsdelivr.net/npm/dom4@1.8.5/build/dom4.max.min.js");a.Promise||e.push(d+"://cdn.jsdelivr.net/npm/promise-polyfill@6.0.2/promise.min.js");a.fetch||e.push(d+"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");
e.push(d+"://cdn.jsdelivr.net/npm/platform@1.3.4/platform.min.js");f?e.push(d+"://cdnjs.cloudflare.com/ajax/libs/Tocca.js/2.0.1/Tocca.min.js"):c&&e.push("./cdn/wheel-indicator/1.1.4/js/wheel-indicator.fixed.min.js");var r=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}();new loadJsCss([d+"://fonts.googleapis.com/css?family=Roboto:400,700&subset=cyrillic"],function(){var a,b=function(){clearInterval(a);a=null;g.increase(20);new loadJsCss(e,h)},c=function(){doesFontExist("Roboto")&&
b()};r?a=setInterval(c,100):(a=null,b())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
