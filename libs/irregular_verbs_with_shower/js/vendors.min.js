!function(e){if(void 0===e||!("document"in e))return console.log("root is undefined or document is not in window"),!1;e.shower=e.shower||function(e,t,i){function r(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}var n,s={},o=e.location,l="shower-list",d=t.querySelector("."+l)||"",u=[],a=[],c=!(!e.history||!e.history.pushState);if(d)return r.prototype={getSlideNumber:function(){return this.number},isLast:function(){return s.slideList.length===this.number+1},isFinished:function(){return this.innerComplete>=this.innerLength},process:function(e){return this.timing?(this.initTimer(e),this):(this.next(e),this)},initTimer:function(e){var t=this;return!!t.timing&&(t.stopTimer(),n=t.isFinished()?setInterval(function(){t.stopTimer(),e.next()},t.timing*(t.innerLength||1)):setInterval(function(){t.isFinished()?(t.stopTimer(),e.next()):t.next(e)},t.timing),this)},stopTimer:function(){return n&&(clearInterval(n),n=!1),this},prev:function(e){var i,r=this;return!r.hasInnerNavigation||r.isFinished()||0===r.innerComplete?(e.prev(),!1):!(!(i=t.getElementById(r.id).querySelectorAll(".next.active"))||i.length<1)&&(r.innerComplete>0?(r.innerComplete--,i[i.length-1].classList.remove("active")):e.prev(),this)},next:function(e){var i=this;return!i.hasInnerNavigation||i.isFinished()?(e.next(),!1):(i.isFinished()||(t.getElementById(i.id).querySelectorAll(".next:not(.active)")[0].classList.add("active"),i.innerComplete++),this)}},s._getData=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+t)},s.slideList=[],s.init=function(e,i){var n;e=e||".slide",i=i||"div.progress div",u=t.querySelectorAll(e),a=t.querySelector(i);for(var o=0;o<u.length;o++)u[o].id||(u[o].id=o+1,(n=s._getData(u[o],"timing"))&&/^(\d{1,2}:)?\d{1,3}$/.test(n)?-1!==n.indexOf(":")?(n=n.split(":"),n=1e3*(60*parseInt(n[0],10)+parseInt(n[1],10))):0===(n=1e3*parseInt(n,10))&&(n=!1):n=!1,s.slideList.push(new r({id:u[o].id,number:o,hasInnerNavigation:null!==u[o].querySelector(".next"),timing:n,innerLength:u[o].querySelectorAll(".next").length,innerComplete:0})));return s},s._getTransform=function(){return"scale("+1/Math.max(d.clientWidth/e.innerWidth,d.clientHeight/e.innerHeight)+")"},s._applyTransform=function(e){return["WebkitTransform","MozTransform","msTransform","OTransform","transform"].forEach(function(t){d.style[t]=e}),!0},s._isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},s._normalizeSlideNumber=function(e){if(!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return 0>e&&(e=0),e>=s.slideList.length&&(e=s.slideList.length-1),e},s._getSlideIdByEl=function(e){for(;"BODY"!==e.nodeName&&"HTML"!==e.nodeName;){if(e.classList.contains("slide"))return e.id;e=e.parentNode}return""},s._checkInteractiveElement=function(e){return"A"===e.target.nodeName},s.getSlideNumber=function(e){var t,i=s.slideList.length-1;for(""===e&&(t=0);i>=0;--i)if(e===s.slideList[i].id){t=i;break}return t},s.go=function(e,t){var i;if(!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return!!s.slideList[e]&&(o.hash=s.getSlideHash(e),s.updateProgress(e),s.updateActiveAndVisitedSlides(e),s.isSlideMode()&&(s.showPresenterNotes(e),(i=s.slideList[e]).timing&&i.initTimer(s)),"function"==typeof t&&t(),e)},s.next=function(e){var t=s.getCurrentSlideNumber();return!!s.slideList[t+1]&&(s.go(t+1),"function"==typeof e&&e(),this)},s._turnNextSlide=function(e){var t=s.getCurrentSlideNumber(),i=s.slideList[t];s.isSlideMode()?(i.stopTimer(),i.next(s)):s.go(t+1),"function"==typeof e&&e()},s.prev=s.previous=function(e){var t=s.getCurrentSlideNumber();return!(1>t)&&(s.go(t-1),"function"==typeof e&&e(),!0)},s._turnPreviousSlide=function(e){var t=s.getCurrentSlideNumber(),i=s.slideList[t];return i.stopTimer(),s.isSlideMode()?i.prev(s):s.go(t-1),"function"==typeof e&&e(),!0},s.first=function(e){var t=s.slideList[s.getCurrentSlideNumber()];t&&t.timing&&t.stopTimer(),s.go(0),"function"==typeof e&&e()},s.last=function(e){var t=s.slideList[s.getCurrentSlideNumber()];t&&t.timing&&t.stopTimer(),s.go(s.slideList.length-1),"function"==typeof e&&e()},s.enterSlideMode=function(e){var t=s.getCurrentSlideNumber();return d.classList.remove(l),d.classList.add("full"),s.isListMode()&&c&&history.pushState(null,null,o.pathname+"?full"+s.getSlideHash(t)),s._applyTransform(s._getTransform()),"function"==typeof e&&e(),!0},s.enterListMode=function(e){var t;return d.classList.remove("full"),d.classList.add(l),s.clearPresenterNotes(),s._applyTransform("none"),!s.isListMode()&&(t=s.getCurrentSlideNumber(),s.slideList[t].stopTimer(),s.isSlideMode()&&c&&history.pushState(null,null,o.pathname+s.getSlideHash(t)),s.scrollToSlide(t),"function"==typeof e&&e(),!0)},s.toggleMode=function(e){return s.isListMode()?s.enterSlideMode():s.enterListMode(),"function"==typeof e&&e(),!0},s.getCurrentSlideNumber=function(){var e=s.slideList.length-1,t=o.hash.substr(1);if(""===t)return-1;for(;e>=0;--e)if(t===s.slideList[e].id)return e;return 0},s.scrollToSlide=function(i){var r,n=!1;if(!s._isNumber(i))throw new Error("Gimme slide number as Number, baby!");if(s.isSlideMode())throw new Error("You can't scroll to because you in slide mode. Please, switch to list mode.");if(-1===i)return n;if(!s.slideList[i])throw new Error("There is no slide with number "+i);return r=t.getElementById(s.slideList[i].id),e.scrollTo(0,r.offsetTop),n=!0},s.isListMode=function(){return c?!/^full.*/.test(o.search.substr(1)):d.classList.contains(l)},s.isSlideMode=function(){return c?/^full.*/.test(o.search.substr(1)):d.classList.contains("full")},s.updateProgress=function(e){if(null===a)return!1;if(!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return a.style.width=(100/(s.slideList.length-1)*s._normalizeSlideNumber(e)).toFixed(2)+"%",!0},s.updateActiveAndVisitedSlides=function(e){var i,r,n=s.slideList.length;if(e=s._normalizeSlideNumber(e),!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");for(i=0;n>i;++i)r=t.getElementById(s.slideList[i].id);return e>i?(r.classList.remove("active"),r.classList.add("visited")):i>e?(r.classList.remove("visited"),r.classList.remove("active")):(r.classList.remove("visited"),r.classList.add("active")),!0},s.clearPresenterNotes=function(){s.isSlideMode()&&e.console&&e.console.clear&&console.clear()},s.showPresenterNotes=function(i){if(s.clearPresenterNotes(),e.console){i=s._normalizeSlideNumber(i);var r=s.slideList[i].id,n=s.slideList[i+1]?s.slideList[i+1].id:null,o=t.getElementById(r).querySelector("footer");if(o&&o.innerHTML&&console.info(o.innerHTML.replace(/\n\s+/g,"\n")),n){var l=t.getElementById(n).querySelector("h2");l&&(l=l.innerHTML.replace(/^\s+|<[^>]+>/g,""),console.info("NEXT: "+l))}}},s.getSlideHash=function(e){if(!s._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return e=s._normalizeSlideNumber(e),"#"+s.slideList[e].id},s.wheel=function(e){var i=t.querySelector("body");"locked"===i.getAttribute("data-scroll")||s.isListMode()||(i.setAttribute("data-scroll","locked"),(void 0===e.deltaY?e.wheelDeltaY<0:e.deltaY>0)?s._turnNextSlide():s._turnPreviousSlide(),setTimeout(function(){i.setAttribute("data-scroll","unlocked")},200))},e.addEventListener("DOMContentLoaded",function(){var e=s.getCurrentSlideNumber(),t=d.classList.contains("full")||s.isSlideMode();-1===e&&t?s.go(0):(0===e||t)&&s.go(e),t&&s.enterSlideMode()},!1),e.addEventListener("popstate",function(){var e=s.getCurrentSlideNumber();-1!==e&&s.go(e),s.isListMode()?s.enterListMode():s.enterSlideMode()},!1),e.addEventListener("resize",function(){s.isSlideMode()&&s._applyTransform(s._getTransform())},!1),t.addEventListener("keydown",function(e){var t,i=s.getCurrentSlideNumber(),r=s.slideList[-1!==i?i:0];switch(e.which){case 80:s.isListMode()&&e.altKey&&e.metaKey&&(e.preventDefault(),t=r.number,s.go(t),s.enterSlideMode(),s.showPresenterNotes(t),r.timing&&r.initTimer(s));break;case 116:e.preventDefault(),s.isListMode()?(t=e.shiftKey?r.number:0,s.go(t),s.enterSlideMode(),s.showPresenterNotes(t),r.timing&&r.initTimer(s)):s.enterListMode();break;case 13:s.isListMode()&&-1!==i&&(e.preventDefault(),s.enterSlideMode(),s.showPresenterNotes(i),r.timing&&r.initTimer(s));break;case 27:s.isSlideMode()&&(e.preventDefault(),s.enterListMode());break;case 33:case 38:case 37:case 72:case 75:if(e.altKey||e.ctrlKey||e.metaKey)return;e.preventDefault(),s._turnPreviousSlide();break;case 34:case 40:case 39:case 76:case 74:if(e.altKey||e.ctrlKey||e.metaKey)return;e.preventDefault(),s._turnNextSlide();break;case 36:e.preventDefault(),s.first();break;case 35:e.preventDefault(),s.last();break;case 9:case 32:e.preventDefault(),s[e.shiftKey?"_turnPreviousSlide":"_turnNextSlide"]()}},!1),s.init(),t.addEventListener("click",function(e){var t,i,r=s._getSlideIdByEl(e.target);r&&s.isListMode()&&(t=s.getSlideNumber(r),s.go(t),s.enterSlideMode(),s.showPresenterNotes(t),(i=s.slideList[t]).timing&&i.initTimer(s))},!1),t.addEventListener("touchstart",function(t){var i,r,n=s._getSlideIdByEl(t.target);n&&s.isSlideMode()&&!s._checkInteractiveElement(t)&&(t.touches[0].pageX>e.innerWidth/2?s._turnNextSlide():(s._turnPreviousSlide(),s.isListMode()&&(i=s.getSlideNumber(n),s.go(i),s.enterSlideMode(),s.showPresenterNotes(i),(r=s.slideList[i]).timing&&r.initTimer(s))))},!1),t.addEventListener("touchmove",function(e){s.isSlideMode()&&e.preventDefault()},!1),t.addEventListener("wheel",s.wheel,!1),t.addEventListener("mousewheel",s.wheel,!1),s;console.log(l+" is not found")}(e,e.document)}("undefined"!=typeof window?window:this);