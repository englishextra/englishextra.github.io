var ToProgress=function(){if("undefined"==typeof window||!("document"in window))return console.log("window is undefined or document is not in window"),!1;var e=function(){function t(){var e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n]}function n(e,t){if(this.progress=0,this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2},e&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(this.options[n]=e[n]);if(this.options.opacityDuration=3*this.options.duration,this.progressBar=document.createElement("div"),this.progressBar.id=this.options.id,this.progressBar.setCSS=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.style[t]=e[t])},this.progressBar.setCSS({position:t?"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"}),t){var o=document.querySelector(t);o&&(o.hasChildNodes()?o.insertBefore(this.progressBar,o.firstChild):o.appendChild(this.progressBar))}else document.body.appendChild(this.progressBar)}var o=t();return n.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"},n.prototype.getProgress=function(){return this.progress},n.prototype.setProgress=function(e,t){this.show(),this.progress=e>100?100:0>e?0:e,this.transit(),t&&t()},n.prototype.increase=function(e,t){this.show(),this.setProgress(this.progress+e,t)},n.prototype.decrease=function(e,t){this.show(),this.setProgress(this.progress-e,t)},n.prototype.finish=function(t){var n=this;this.setProgress(100,t),this.hide(),o&&this.progressBar.addEventListener(o,function(t){n.reset(),n.progressBar.removeEventListener(t.type,e)})},n.prototype.reset=function(e){this.progress=0,this.transit(),e&&e()},n.prototype.hide=function(){this.progressBar.style.opacity="0"},n.prototype.show=function(){this.progressBar.style.opacity="1"},n};return e()}(),zenscroll=function(){"use strict";if("undefined"==typeof window||!("document"in window))return{};var e=function(e,t,n){t=t||999,n||0===n||(n=9);var o,i=function(e){o=e},r=document.documentElement,a=function(){return"getComputedStyle"in window&&"smooth"===window.getComputedStyle(e?e:document.body)["scroll-behavior"]},s=function(){return e?e.scrollTop:window.scrollY||r.scrollTop},c=function(){return e?Math.min(e.offsetHeight,window.innerHeight):window.innerHeight||r.clientHeight},l=function(t){return e?t.offsetTop:t.getBoundingClientRect().top+s()-r.offsetTop},u=function(){clearTimeout(o),i(0)},d=function(n,o,l){if(u(),a())(e||window).scrollTo(0,n),l&&l();else{var d=s(),f=Math.max(n,0)-d;o=o||Math.min(Math.abs(f),t);var p=(new Date).getTime();!function g(){i(setTimeout(function(){var t=Math.min(((new Date).getTime()-p)/o,1),n=Math.max(Math.floor(d+f*(.5>t?2*t*t:t*(4-2*t)-1)),0);e?e.scrollTop=n:window.scrollTo(0,n),1>t&&c()+n<(e||r).scrollHeight?g():(setTimeout(u,99),l&&l())},9))}()}},f=function(e,t,o){d(l(e)-n,t,o)},p=function(e,t,o){var i=e.getBoundingClientRect().height,r=l(e),a=r+i,u=c(),p=s(),g=p+u;p>r-n||i+n>u?f(e,t,o):a+n>g?d(a-u+n,t,o):o&&o()},g=function(e,t,n,o){d(Math.max(l(e)-c()/2+(n||e.getBoundingClientRect().height/2),0),t,o)},h=function(e,o){e&&(t=e),(0===o||o)&&(n=o)};return{setup:h,to:f,toY:d,intoView:p,center:g,stop:u,moving:function(){return!!o}}},t=e();if("addEventListener"in window&&"smooth"!==document.body.style.scrollBehavior&&!window.noZensmooth){var n=function(e){try{history.replaceState({},"",window.location.href.split("#")[0]+e)}catch(t){}};window.addEventListener("click",function(e){for(var o=e.target;o&&"A"!==o.tagName;)o=o.parentNode;if(!(!o||1!==e.which||e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)){var i=o.getAttribute("href")||"";if(0===i.indexOf("#"))if("#"===i)e.preventDefault(),t.toY(0),n("");else{var r=o.hash.substring(1),a=document.getElementById(r);a&&(e.preventDefault(),t.to(a),n("#"+r))}}},!1)}return{createScroller:e,setup:t.setup,to:t.to,toY:t.toY,intoView:t.intoView,center:t.stop,moving:t.moving}}(),BALA=function(){if("undefined"==typeof window||!("document"in window))return console.log("window is undefined or document is not in window"),!1;var e=function(e,t,n){function o(i,r,a){return a=Object.create(o.fn),i&&a.push.apply(a,i[t]?[i]:""+i===i?/</.test(i)?((r=e.createElement(r||t)).innerHTML=i,r.children):r?(r=o(r)[0])?r[n](i):a:e[n](i):"function"==typeof i?e.readyState[7]?i():e[t]("DOMContentLoaded",i):i),a}return o.fn=[],o.one=function(e,t){return o(e,t)[0]||null},o}(document,"addEventListener","querySelectorAll");return e}(),crel=function(){function e(){var o,d=arguments,f=d[0],h=d[1],m=2,v=d.length,y=e[a];if(f=e[c](f)?f:l.createElement(f),1===v)return f;if((!u(h,n)||e[s](h)||p(h))&&(--m,h=null),v-m===1&&u(d[m],"string")&&void 0!==f[i])f[i]=d[m];else for(;v>m;++m)if(o=d[m],null!==o)if(p(o))for(var w=0;w<o.length;++w)g(f,o[w]);else g(f,o);for(var T in h)if(h.hasOwnProperty(T))if(y[T]){var L=y[T];typeof L===t?L(f,h[T]):f[r](L,h[T])}else f[r](T,h[T]);return f}if("undefined"==typeof window||!("document"in window))return console.log("window is undefined or document is not in window"),!1;var t="function",n="object",o="nodeType",i="textContent",r="setAttribute",a="attrMap",s="isNode",c="isElement",l=typeof document===n?document:{},u=function(e,t){return typeof e===t},d=typeof Node===t?function(e){return e instanceof Node}:function(e){return e&&u(e,n)&&o in e&&u(e.ownerDocument,n)},f=function(t){return e[s](t)&&1===t[o]},p=function(e){return e instanceof Array},g=function(t,n){e[s](n)||(n=l.createTextNode(n)),t.appendChild(n)};return e[a]={},e[c]=f,e[s]=d,"undefined"!=typeof Proxy&&(e.proxy=new Proxy(e,{get:function(t,n){return n in e||(e[n]=e.bind(null,n)),e[n]}})),e}();"undefined"==typeof console&&(console={},console.log=function(){});var isNodejs="undefined"!=typeof process&&"undefined"!=typeof require||"",isElectron="undefined"!=typeof window&&window.process&&"renderer"===window.process.type||"",isNwjs=function(){if("undefined"!=typeof isNodejs&&isNodejs)try{if("undefined"!=typeof require("nw.gui"))return!0}catch(e){return!1}return!1}(),earlyDeviceOrientation="",earlyDeviceSize="";!function(e,t){var n,o=function(e){var n=e.split(" ");if(t)for(var o=0;o<n.length;o++)e=n[o],t.add(e)},i=function(e){var n=e.split(" ");if(t)for(var o=0;o<n.length;o++)e=n[o],t.remove(e)},r={landscape:"all and (orientation:landscape)",portrait:"all and (orientation:portrait)"},a={small:"all and (max-width:768px)",medium:"all and (min-width:768px) and (max-width:991px)",large:"all and (min-width:992px)"},s="matchMedia",c="matches",l=function(e,t){var n=function(e){e[c]?(o(t),earlyDeviceOrientation=t):i(t)};n(e),e.addListener(n)},u=function(e,t){var n=function(e){e[c]?(o(t),earlyDeviceSize=t):i(t)};n(e),e.addListener(n)};for(n in r)r.hasOwnProperty(n)&&l(e[s](r[n]),n);for(n in a)a.hasOwnProperty(n)&&u(e[s](a[n]),n)}(window,document.documentElement.classList||"");var earlyDeviceType="";!function(e,t,n,o){var i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4))?t:n;e&&i&&(e.classList.add(i),earlyDeviceType=i)}(document.documentElement||"","mobile","desktop",navigator.userAgent||navigator.vendor||window.opera);var earlySvgSupport="";!function(e,t){var n=document.implementation.hasFeature("http://www.w3.org/2000/svg","1.1")?t:"no-"+t;earlySvgSupport=n,e&&n&&e.classList.add(n)}(document.documentElement||"","svg");var earlySvgasimgSupport="";!function(e,t){var n=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")?t:"no-"+t;earlySvgasimgSupport=n,e&&n&&e.classList.add(n)}(document.documentElement||"","svgasimg");var earlyHasTouch="";!function(e,t){if(e){var n="ontouchstart"in e?t:"no-"+t;earlyHasTouch=n,e.classList.add(n)}}(document.documentElement||"","touch");var earlyFnGetYyyymmdd=function(){"use strict";var e=new Date,t=e.getDate(),n=e.getFullYear(),o=e.getMonth();return o+=1,10>t&&(t="0"+t),10>o&&(o="0"+o),n+"-"+o+"-"+t}(),initialDocumentTitle=document.title||"",userBrowsingDetails=" ["+(earlyFnGetYyyymmdd?earlyFnGetYyyymmdd:"")+(earlyDeviceType?" "+earlyDeviceType:"")+(earlyDeviceSize?" "+earlyDeviceSize:"")+(earlyDeviceOrientation?" "+earlyDeviceOrientation:"")+(earlySvgSupport?" "+earlySvgSupport:"")+(earlySvgasimgSupport?" "+earlySvgasimgSupport:"")+(earlyHasTouch?" "+earlyHasTouch:"")+"]";document.title&&(document.title=document.title+userBrowsingDetails);var forEach=function(){return function(e,t,n){var o=-1,i=e.length>>>0;!function r(a){var s,c=!1===a;do++o;while(!(o in e)&&o!==i);return c||o===i?void(n&&n(!c,e)):(a=t.call({async:function(){return s=!0,r}},e[o],o,e),void(s||r(a)))}()}}(),requestInterval=function(e,t){function n(){r.value=o(n);var a=(new Date).getTime(),s=a-i;s>=t&&(e.call(),i=(new Date).getTime())}var o=function(){return window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),i=(new Date).getTime(),r={};return r.value=o(n),r},clearRequestInterval=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.clearInterval(e)},docReady=function(){"use strict";function e(){if(!o){o=!0;for(var e=0;e<n.length;e++)n[e].fn.call(window,n[e].ctx);n=[]}}function t(){"complete"===document.readyState&&e()}if("undefined"==typeof window||!("document"in window))return console.log("window is undefined or document is not in window"),!1;var n=[],o=!1,i=!1;return function(r,a){return o?void setTimeout(function(){r(a)},1):(n.push({fn:r,ctx:a}),void("complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(e,1):i||(document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):(document.attachEvent("onreadystatechange",t),window.attachEvent("onload",e)),i=!0)))}}(),evento=function(){return function(){if("undefined"==typeof window||!("document"in window))return console.log("window is undefined or document is not in window"),!1;var e,t,n,o=window,i=o.document,r={};return e=function(){return"function"==typeof i.addEventListener?function(e,t,n){e.addEventListener(t,n,!1),r[e]=r[e]||{},r[e][t]=r[e][t]||[],r[e][t].push(n)}:"function"==typeof i.attachEvent?function(e,t,n){e.attachEvent(t,n),r[e]=r[e]||{},r[e][t]=r[e][t]||[],r[e][t].push(n)}:function(e,t,n){e["on"+t]=n,r[e]=r[e]||{},r[e][t]=r[e][t]||[],r[e][t].push(n)}}(),t=function(){return"function"==typeof i.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:"function"==typeof i.detachEvent?function(e,t,n){e.detachEvent(t,n)}:function(e,t){e["on"+t]=void 0}}(),n=function(e,t){r[e]=r[e]||{},r[e][t]=r[e][t]||[];for(var n=0,o=r[e][t].length;o>n;n+=1)r[e][t][n]()},{add:e,remove:t,trigger:n,_handlers:r}}()}(),scriptIsLoaded=function(e){for(var t=document.getElementsByTagName("script")||"",n=0;n<t.length;n++)if(t[n].getAttribute("src")==e)return!0;return!1},ajaxLoadTriggerJS=function(e,t,n){var o=window,i=o.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.overrideMimeType("application/javascript;charset=utf-8"),i.open("GET",e,!0),i.onreadystatechange=function(){if("404"==i.status)return n&&"function"==typeof n&&n(),console.log("Error XMLHttpRequest-ing file",i.status),!1;if(4==i.readyState&&200==i.status&&i.responseText){try{var e=Function;new e(""+i.responseText).call("undefined"==typeof window?"undefined"==typeof self?"undefined"==typeof global?this:global:self:window)}catch(o){throw new Error("Error evaluating file. "+o)}t&&"function"==typeof t&&t(i.responseText)}},i.send(null)},ajaxLoadUnparsedJSON=function(e,t,n){var o=window,i=o.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.overrideMimeType("application/json;charset=utf-8"),i.open("GET",e,!0),i.onreadystatechange=function(){return"404"==i.status?(n&&"function"==typeof n&&n(),console.log("Error XMLHttpRequest-ing file",i.status),!1):void(4==i.readyState&&200==i.status&&i.responseText&&t&&"function"==typeof t&&t(i.responseText))},i.send(null)},safelyParseJSON=function(e){var t=window;try{return t.json_parse?json_parse(e):JSON.parse(e)}catch(n){console.log(n)}},getKeyValuesFromJSON=function(e,t){var n=[];for(var o in e)e.hasOwnProperty(o)&&("object"==typeof e[o]?n=n.concat(getKeyValuesFromJSON(e[o],t)):o==t&&n.push(e[o]));return n},truncString=function(e,t,n){return n=n||"…","string"==typeof e&&e.length>t?e.substring(0,t)+n:e},fixEnRuTypo=function(e,t,n){var o="";"ru"==t&&"en"==n?(t='абвгдеёжзийклмнопрстуфхцчшщъьыэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЬЫЭЮЯ"№;:?/.,',n="f,dult`;pbqrkvyjghcnea[wxio]ms'.zF<DULT~:PBQRKVYJGHCNEA{WXIO}MS'>Z@#$^&|/?"):(t="f,dult`;pbqrkvyjghcnea[wxio]ms'.zF<DULT~:PBQRKVYJGHCNEA{WXIO}MS'>Z@#$^&|/?",n='абвгдеёжзийклмнопрстуфхцчшщъьыэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЬЫЭЮЯ"№;:?/.,');for(var i=0;i<e.length;i++){var r=t.indexOf(e.charAt(i));o+=o>r?e.charAt(i):n.charAt(r)}return o},removeChildren=function(e){return function(){if(e&&e.firstChild)for(;e.firstChild;)e.removeChild(e.firstChild)}()},appendFragment=function(e,t){"use strict";var n=document;return t=t||n.getElementsByTagNames("body")[0]||"",function(){if(e){var n=document,o=n.createDocumentFragment()||"",i="appendChild";"string"==typeof e&&(e=n.createTextNode(e)),o[i](e),t[i](o)}}()},appendFragmentAfter=function(e,t){"string"==typeof e&&(e=document.createTextNode(e));var n=t.parentNode||"",o=t.nextSibling||"",i=document.createDocumentFragment();return function(){n&&o&&(i.appendChild(e),n.insertBefore(i,o))}()},prependFragmentBefore=function(e,t){"string"==typeof e&&(e=document.createTextNode(e));var n=t.parentNode||"",o=document.createDocumentFragment();return function(){n&&(o.appendChild(e),n.insertBefore(o,t))}()},setStyleDisplayBlock=function(e){return function(){e&&(e.style.display="block")}()},setStyleDisplayNone=function(e){return function(){e&&(e.style.display="none")}()},setStyleOpacity=function(e,t){return t=t||1,function(){e&&(e.style.opacity=t)}()},setStyleVisibilityVisible=function(e){return function(){e&&(e.style.visibility="visible")}()},setStyleVisibilityHidden=function(e){return function(){e&&(e.style.visibility="hidden")}()},isValidId=function(e,t){return t?/^\#[A-Za-z][-A-Za-z0-9_:.]*$/.test(e)?!0:!1:/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e)?!0:!1},findPos=function(e){e=e.getBoundingClientRect();var t=document.body,n=document.documentElement;return{top:Math.round(e.top+(window.pageYOffset||n.scrollTop||t.scrollTop)-(n.clientTop||t.clientTop||0)),left:Math.round(e.left+(window.pageXOffset||n.scrollLeft||t.scrollLeft)-(n.clientLeft||t.clientLeft||0))}},changeLocation=function(e){return function(){e&&(document.location.href=e)}()},parseLink=function(e,t){return t=t||!1,function(){var n=function(e){return e.replace(/^(#|\?)/,"").replace(/\:$/,"")},o=location||"",i=function(e){switch(e){case"http:":return t?":80":80;case"https:":return t?":443":443;default:return t?":"+o.port:o.port}},r=0===e.indexOf("//")||!!~e.indexOf("://"),a=window.location||"",s=function(){var e=a.protocol+"//"+a.hostname+(a.port?":"+a.port:"");return e||""},c=function(){var t=document.createElement("a");t.href=e;var n=t.protocol+"//"+t.hostname+(t.port?":"+t.port:"");return n!==s()},l=document.createElement("a");return l.href=e,{href:l.href,origin:s(),host:l.host||o.host,port:"0"===l.port||""===l.port?i(l.protocol):t?l.port:n(l.port),hash:t?l.hash:n(l.hash),hostname:l.hostname||o.hostname,pathname:"/"!=l.pathname.charAt(0)?t?"/"+l.pathname:l.pathname:t?l.pathname:l.pathname.slice(1),protocol:l.protocol&&":"!=l.protocol?t?l.protocol:n(l.protocol):t?o.protocol:n(o.protocol),search:t?l.search:n(l.search),query:t?l.search:n(l.search),isAbsolute:r,isRelative:!r,isCrossDomain:c(),hasHTTP:/^(http|https):\/\//i.test(e)?!0:!1}}()},getHTTP=function(e){return function(t){return"http:"===e?"http":"https:"===e?"https":t?"http":""}}(window.location.protocol||""),progressBar=new ToProgress({id:"top-progress-bar",color:"#FE5F55",height:"3px",duration:.2});progressBar.init=function(e){return e=e||20,this.increase(e)},progressBar.complete=function(){return this.finish(),this.hide()},progressBar.init();var openDeviceBrowser=function(e){"use strict";var t=window,n=function(){var t="undefined"!=typeof isElectron&&isElectron?require("electron").shell:"";return t?t.openExternal(e):""},o=function(){var t="undefined"!=typeof isNwjs&&isNwjs?require("nw.gui").Shell:"";return t?t.openExternal(e):""},i=function(){return!0},r=function(){return t.open(e,"_system","scrollbars=1,location=no")};console.log("triggered function: openDeviceBrowser"),"undefined"!=typeof isElectron&&isElectron?n():"undefined"!=typeof isNwjs&&isNwjs?o():"undefined"!=typeof getHTTP&&getHTTP()?i():r()},manageExternalLinks=function(e){"use strict";e=e||"";var t=window,n="a",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i=function(e){var t=e.getAttribute("href")||"",n=function(e){e.stopPropagation(),e.preventDefault(),openDeviceBrowser(t)};t&&parseLink(t).isCrossDomain&&parseLink(t).hasHTTP&&(e.title=""+(parseLink(t).hostname||"")+" откроется в новой вкладке","undefined"!=typeof getHTTP&&getHTTP()?e.target="_blank":e.onclick=n)},r=function(){if(o=e?BALA(n,e)||"":BALA(n)||"",t._)_.each(o,i);else if(t.forEach)forEach(o,i,!1);else for(var r=0,a=o.length;a>r;r+=1)i(o[r])};o&&(console.log("triggered function: manageExternalLinks"),r())};evento.add(window,"load",manageExternalLinks.bind(null,""));var manageLocalLinks=function(e){"use strict";e=e||"";var t=window,n="a",o=e?BALA.one(n,e)||"":BALA.one(n)||"",i=function(e){var t=e.getAttribute("href")||"";t&&parseLink(t).isRelative&&!e.getAttribute("title")&&(e.title="Откроется здесь же")},r=function(){if(o=e?BALA(n,e)||"":BALA(n)||"",t._)_.each(o,i);else if(t.forEach)forEach(o,i,!1);else for(var r=0,a=o.length;a>r;r+=1)i(o[r])};o&&(console.log("triggered function: manageLocalLinks"),r())};evento.add(window,"load",manageLocalLinks.bind(null,""));var initFastClick=function(){"use strict";var e=window,t=BALA.one("body")||"";e.FastClick&&(console.log("triggered function: initFastClick"),FastClick.attach(t))},loadInitFastClick=function(){"use strict";"undefined"!=typeof getHTTP&&getHTTP()&&"undefined"!=typeof earlyHasTouch&&"touch"===earlyHasTouch&&ajaxLoadTriggerJS("/cdn/fastclick/1.0.6/js/fastclick.fixed.min.js",initFastClick)};docReady(loadInitFastClick);var initMasonryDisqus=function(){"use strict";var e=window,t=BALA.one("#disqus_thread")||"",n="is-active",o="dataset",i=t?t[o].shortname||"":"",r=getHTTP(!0)+"://"+i+".disqus.com/embed.js",a=".masonry-grid",c=".masonry-grid-item",l=".masonry-grid-sizer",u=BALA.one(a)||"",d=BALA.one(c)||"",f="classList",p="parentNode",g=function(t){var n=function(){var n=function(){e.Masonry&&(v=new Masonry(t,{itemSelector:c,columnWidth:l,gutter:0}),console.log("function initMasonryDisqus => initialised msnry"))},o=requestInterval(function(){console.log("function initMasonryDisqus => started Interval"),imagesPreloaded&&(clearRequestInterval(o),console.log("function initMasonryDisqus => si="+o+"; imagesPreloaded="+imagesPreloaded),n())},100)},o=function(){setAutoClearedTimeout(s,500)};"undefined"!=typeof imagesPreloaded?n():o()},h=function(t,n){var o=function(){var o=function(){if(e.Packery&&(y=new Packery(t,{itemSelector:c,columnWidth:l,gutter:0}),console.log("function initMasonryDisqus => initialised pckry"),n&&e.Draggabilly)){var o,i=function(e){var t=e;o=new Draggabilly(t,{}),r.push(o),console.log("function initMasonryDisqus => initialised draggie")},r=[];if(e._)_.each(n,i);else if(e.forEach)forEach(n,i,!1);else for(var a=0,s=n.length;s>a;a+=1)i(n[a]);y&&o&&y.bindDraggabillyEvents(o)}},i=requestInterval(function(){console.log("function initMasonryDisqus => started Interval"),imagesPreloaded&&(clearRequestInterval(i),console.log("function initMasonryDisqus => si="+i+"; imagesPreloaded="+imagesPreloaded),o())},100)},i=function(){setAutoClearedTimeout(s,500)};"undefined"!=typeof imagesPreloaded?o():i()},m=function(){var e=function(){var e=requestInterval(function(){console.log("function initMasonryDisqus => started Interval");var n=t.clientHeight||t.offsetHeight||"";n>108&&(clearRequestInterval(e),console.log("function initMasonryDisqus => si="+e+"; disqus_thread_height="+n),"undefined"!=typeof v&&v?(v.layout(),console.log("function initMasonryDisqus => reinitialised msnry")):"undefined"!=typeof y&&y&&(y.layout(),console.log("function initMasonryDisqus => reinitialised msnry")))},100);t[f].add(n)};scriptIsLoaded(r)||loadJS(r,e)};if(u&&d){console.log("triggered function: initMasonryDisqus");var v,y;g(u);var w=BALA(c)||"";h(u,w),t&&i&&("undefined"!=typeof getHTTP&&getHTTP()?m():setStyleDisplayNone(t[p][p]))}},loadInitMasonryDisqus=function(){"use strict";var e="../cdn/masonry/4.1.1/js/masonry.pkgd.fixed.min.js";scriptIsLoaded(e)||loadJS(e,initMasonryDisqus)};evento.add(window,"load",loadInitMasonryDisqus);var manageContentsSelect=function(e){"use strict";e=e||"";var t=window,n=document,o="#contents_select",i=e?BALA.one(o,e)||"":BALA.one(o)||"",r="../libs/contents/json/contents.json",a="appendChild",s=function(e,t){var n=getKeyValuesFromJSON(e,"label")||"",o=getKeyValuesFromJSON(e,"link")||"";n&&o&&t[a](crel("option",{value:o,title:""+n},truncString(""+n,33)))},c=function(e){var n=e.options[e.selectedIndex].value||"",o=n&&isValidId(n,!0)?BALA.one(n):"";n&&(t.zenscroll?o?zenscroll.to(o):changeLocation(n):o?t.scroll(0,findPos(o)):changeLocation(n))},l=function(e){var o=safelyParseJSON(e);if(o){var r=n.createDocumentFragment(),l=function(e){s(e,r)};if(t._)_.each(o,l);else if(t.forEach)forEach(o,l,!1);else for(var u=0,d=o.length;d>u;u+=1)s(o[u],r);i[a](r),i.onchange=c.bind(null,i)}},u=function(){if(t.Promise&&t.fetch&&!isElectron)fetch(r).then(function(e){if(!e.ok)throw new Error(e.statusText);return e}).then(function(e){return e.text()}).then(function(e){l(e)}).catch(function(e){console.log("Error parsing file",e)});else{var e=function(e){l(e)};ajaxLoadUnparsedJSON(r,e)}};i&&(console.log("triggered function: manageContentsSelect"),u())};evento.add(window,"load",manageContentsSelect.bind(null,""));var manageSearchInput=function(){"use strict";var e=BALA.one("#text")||"",t=function(e){e.value=e.value.replace(/\\/g,"").replace(/ +(?= )/g," ").replace(/\/+(?=\/)/g,"/")||""},n=function(e){e.focus(),evento.add(e,"input",t.bind(null,e))};e&&(console.log("triggered function: manageSearchInput"),n(e))};docReady(manageSearchInput);var showLocationQR=function(){"use strict";var e=window,t=document,n=BALA.one("#location-qr-code")||"",o=e.location.href||"",i="qr-code-img",r="classList",a=function(){removeChildren(n);var e=t.title?"Ссылка на страницу «"+t.title.replace(/\[[^\]]*?\]/g,"").trim()+"»":"",a=getHTTP(!0)+"://chart.googleapis.com/chart?cht=qr&chld=M%7C4&choe=UTF-8&chs=300x300&chl="+encodeURIComponent(o),s=crel("img");s[r].add(i),s.src=a,s.title=e,s.alt=e,appendFragment(s,n)};n&&o&&(console.log("triggered function: showLocationQR"),"undefined"!=typeof getHTTP&&getHTTP()?("undefined"==typeof earlyDeviceSize||"small"!==earlyDeviceSize)&&a():setStyleDisplayNone(n))};evento.add(window,"load",showLocationQR);var initNavMenu=function(){"use strict";var e=window,t=BALA.one("#container")||"",n=BALA.one("#page")||"",o=BALA.one("#btn-nav-menu")||"",i=BALA.one("#panel-nav-menu")||"",r=BALA("a",i)||"",a=BALA.one("#holder-panel-menu-more")||"",s="classList",c="is-active",l=e.location.href||"",u=function(){n[s].remove(c),i[s].remove(c),o[s].remove(c)},d=function(){var e=function(){i[s].contains(c)&&u()};evento.add(t,"click",e)},f=function(){var e=function(e){e.preventDefault(),e.stopPropagation(),a[s].remove(c),n[s].toggle(c),i[s].toggle(c),o[s].toggle(c)};evento.add(o,"click",e)},p=function(){a[s].remove(c),u()},g=function(e){e[s].remove(c)},h=function(e){e[s].add(c)},m=function(t){if(e._)_.each(t,g);else if(e.forEach)forEach(t,g,!1);else for(var n=0,o=t.length;o>n;n+=1)g(t[n])},v=function(e){var t=function(){i[s].contains(c)&&p(),m(r),h(e)};evento.add(e,"click",t),e.href==l?h(e):g(e)},y=function(){if(e._)_.each(r,v);else if(e.forEach)forEach(r,v,!1);else for(var t=0,n=r.length;n>t;t+=1)v(r[t])};t&&n&&o&&i&&r&&(console.log("triggered function: initNavMenu"),f(),d(),y())};docReady(initNavMenu);var addAppUpdatesLink=function(){"use strict";var e,t=BALA.one("#panel-menu-more")||"",n=BALA("li",t)||"",o=navigator.userAgent||"";e=/Windows/i.test(o)&&/(WOW64|Win64)/i.test(o)?"https://englishextraapp.codeplex.com/downloads/get/1539373":/(x86_64|x86-64|x64;|amd64|AMD64|x64_64)/i.test(o)&&/(Linux|X11)/i.test(o)?"https://englishextraapp.codeplex.com/downloads/get/1540156":/IEMobile/i.test(o)?"https://englishextraapp.codeplex.com/downloads/get/1536102":/Android/i.test(o)?"https://englishextraapp.codeplex.com/downloads/get/1528911":"";var i=function(){var n=crel("li"),o=crel("a"),i="Скачать приложение сайта";o.title=""+(parseLink(e).hostname||"")+" откроется в новой вкладке",o.href=e,"undefined"!=typeof getHTTP&&getHTTP()?o.target="_blank":(o.href="javascript:void(0);",evento.add(o,"click",openDeviceBrowser.bind(null,e))),crel(n,crel(o,""+i)),t.firstChild&&prependFragmentBefore(n,t.firstChild)};t&&n&&e&&(console.log("triggered function: addAppUpdatesLink"),i())};docReady(addAppUpdatesLink);var initMenuMore=function(){"use strict";var e=window,t=BALA.one("#container")||"",n=BALA.one("#holder-panel-menu-more")||"",o=BALA.one("#btn-menu-more")||"",i=BALA.one("#panel-menu-more")||"",r=BALA("li",i)||"",a="classList",s="is-active",c=function(){n[a].remove(s)},l=function(e){evento.add(e,"click",c)},u=function(){evento.add(t,"click",c)},d=function(){var e=function(e){e.preventDefault(),e.stopPropagation(),n[a].toggle(s)};evento.add(o,"click",e)},f=function(){if(e._)_.each(r,l);else if(e.forEach)forEach(r,l,!1);else for(var t=0,n=r.length;n>t;t+=1)l(r[t])};t&&n&&o&&i&&r&&(console.log("triggered function: initMenuMore"),u(),d(),f())};docReady(initMenuMore);var initUiTotop=function(){"use strict";var e=window,t=BALA.one("body")||"",n=BALA.one("html")||"",o="ui-totop",i="ui-totop-hover",r=function(n){var r=function(t){var n=e.pageYOffset,o=0,i=function(n,i){return function(){i-=n*t,e.scrollTo(0,i),o+=1,(o>150||0>i)&&clearInterval(r)}},r=setInterval(i.bind(null,t,n--),50)},a="Наверх",s=crel("a"),c=crel("span"),l=function(t){t.preventDefault(),t.stopPropagation(),e.zenscroll?zenscroll.toY(0):r(50)};s.id=o,s.href="javascript:void(0);",s.title=a,evento.add(s,"click",l),setStyleOpacity(s,0),c.id=i,appendFragment(crel(s,c,""+a),t),n&&"function"==typeof n&&n()},a=function(e){var i=e.pageYOffset||n.scrollTop||t.scrollTop||"",r=e.innerHeight||n.clientHeight||t.clientHeight||"",a=BALA.one("#"+o)||"";i&&r&&a&&(i>r?(setStyleVisibilityVisible(a),setStyleOpacity(a,1)):(setStyleVisibilityHidden(a),setStyleOpacity(a,0)))},s=function(){evento.add(e,"scroll",a.bind(null,e))};t&&(console.log("triggered function: initUiTotop"),r(s))};docReady(initUiTotop);var initPlusoYaShare=function(){"use strict";var e=BALA.one("#share-buttons")||"",t=BALA.one(".pluso")||"",n=BALA.one(".ya-share2")||"",o=getHTTP(!0)+"://share.pluso.ru/pluso-like.js",i=getHTTP(!0)+"://yastatic.net/share2/share.js",r=function(e,t){setStyleVisibilityVisible(e),setStyleOpacity(e,1),setStyleDisplayNone(t)},a=function(e,t,n){scriptIsLoaded(e)||loadJS(e,r.bind(null,t,n))},s=function(){t?a(o,t,e):n&&a(i,n,e)},c=function(){var t=function(n){evento.remove(e,"click",t),n.preventDefault(),n.stopPropagation(),s()};evento.add(e,"click",t)};(t||n)&&e&&(console.log("triggered function: initPlusoYaShare"),"undefined"!=typeof getHTTP&&getHTTP()?c():setStyleDisplayNone(e))};docReady(initPlusoYaShare);var initVKLike=function(){"use strict";var e=window,t=BALA.one("#vk-like")||"",n=BALA.one("#btn-show-vk-like")||"",o=getHTTP(!0)+"://vk.com/js/api/openapi.js?122",i="dataset",r=function(){try{e.VK&&(VK.init({apiId:t[i].apiid||"",nameTransportPath:"/xd_receiver.htm",onlyWidgets:!0}),VK.Widgets.Like("vk-like",{type:"button",height:24})),setStyleVisibilityVisible(t),setStyleOpacity(t,1),setStyleDisplayNone(n)}catch(o){setStyleVisibilityHidden(t),setStyleOpacity(t,0),setStyleDisplayBlock(n)}},a=function(){scriptIsLoaded(o)||loadJS(o,r)},s=function(){var e=function(t){evento.remove(n,"click",e),t.preventDefault(),t.stopPropagation(),a()};evento.add(n,"click",e)};t&&n&&(console.log("triggered function: initVKLike"),"undefined"!=typeof getHTTP&&getHTTP()?s():setStyleDisplayNone(n))};docReady(initVKLike);var initContentsKamil=function(){"use strict";var e=window,t=document,n=BALA.one("#search_form")||"",o="#text",i=BALA.one(o)||"",r="kamil-typo-autocomplete",a="kamil-autocomplete",s="../libs/contents/json/contents.json",c="classList",l=function(n){var s=safelyParseJSON(n);if(s){var l=new Kamil(o,{source:s,minChars:2}),u=crel("ul"),d=crel("li");u[c].add(a),u.id=r,setStyleDisplayNone(u),setStyleDisplayNone(d),crel(u,d),appendFragmentAfter(u,i),l.renderMenu=function(n,o){o=o||"";var r=o.length,a=this,s=function(e,t){10>t&&a._renderItemData(n,e,t)};if(o)if(e._)_.each(o,s);else if(e.forEach)forEach(o,s,!1);else for(var c=0;r>c;c+=1)s(o[c],c);for(var l=function(e){i.value=e,i.focus(),setStyleDisplayNone(u)},f=function(){(i.value.length<3||i.value.match(/^\s*$/))&&(setStyleDisplayNone(u),setStyleDisplayNone(d))};1>r;){var p=i.value;p=/[^\u0000-\u007f]/.test(p)?fixEnRuTypo(p,"ru","en"):fixEnRuTypo(p,"en","ru"),setStyleDisplayBlock(u),setStyleDisplayBlock(d),removeChildren(d),crel(d,""+p),evento.add(d,"click",l.bind(null,p)),p.match(/^\s*$/)&&(setStyleDisplayNone(u),setStyleDisplayNone(d)),evento.add(i,"input",f),r+=1}var g=BALA("li",n)||"",h=function(e){var n=e.firstChild.textContent||"",o=t.createTextNode(truncString(n,24));e.replaceChild(o,e.firstChild),e.title=""+n};if(g)if(e._)_.each(g,h);else if(e.forEach)forEach(g,h,!1);else for(var m=0,v=g.length;v>m;m+=1)h(g[m])},l.on("kamilselect",function(e){var t=e.item.link||"",n=function(){e.inputElement.value="",changeLocation(t)};t&&n()})}},u=function(){if(e.Promise&&e.fetch&&!isElectron)fetch(s).then(function(e){if(!e.ok)throw new Error(e.statusText);
return e}).then(function(e){return e.text()}).catch(function(e){console.log("Error fetch-ing file",e)}).then(function(e){l(e)}).catch(function(e){console.log("Error parsing file",e)});else{var t=function(e){l(e)};ajaxLoadUnparsedJSON(s,t)}};n&&i&&(console.log("triggered function: initContentsKamil"),u())},loadInitContentsKamil=function(){"use strict";var e="../cdn/kamil/0.1.1/js/kamil.fixed.min.js";scriptIsLoaded(e)||loadJS(e,initContentsKamil)};docReady(loadInitContentsKamil);var initSearchForm=function(){"use strict";var e=window,t=BALA.one("html")||"",n=BALA.one("#search_form")||"",o=BALA.one(".ya-site-form.ya-site-form_inited_no")||"",i=getHTTP(!0)+"://site.yandex.net/v2.0/js/all.js",r="classList",a=function(){n.action=getHTTP(!0)+"://yandex.ru/sitesearch",n.target="_blank"},s=function(){t&&!t[r].contains("ya-page_js_yes")&&t[r].add("ya-page_js_yes"),crel(o,{onclick:"return {'action':'https://yandex.com/search/site/','arrow':false,'bg':'transparent','fontsize':16,'fg':'#000000','language':'auto','logo':'rb','publicname':'Поиск по сайту englishextra.github.io','suggest':true,'target':'_blank','tld':'com','type':3,'usebigdictionary':true,'searchid':2192588,'input_fg':'#363636','input_bg':'#E9E9E9','input_fontStyle':'normal','input_fontWeight':'normal','input_placeholder':'Поиск','input_placeholderColor':'#686868','input_borderColor':'#E9E9E9'};"});var n=function(){e.Ya&&Ya.Site.Form.init()};scriptIsLoaded(i)||loadJS(i,n)},c=function(){n.action="#",n.target="_self";var e=function(){return!1};evento.add(n,"submit",e),setStyleDisplayNone(o)};console.log("triggered function: initSearchForm"),"undefined"!=typeof getHTTP&&getHTTP()?(n&&a(),o&&s()):c()};evento.add(window,"load",initSearchForm);var initManUp=function(){console.log("triggered function: initManUp")},loadInitManUp=function(){"undefined"!=typeof getHTTP&&getHTTP()&&ajaxLoadTriggerJS("/cdn/ManUp.js/0.7/js/manup.fixed.min.js",initManUp)};docReady(loadInitManUp);var showPageFinishProgress=function(){"use strict";var e=BALA.one("#container")||"",t=function(){progressBar.complete()},n=function(){setStyleOpacity(e,1),setImmediate(t)},o=function(){var e=requestInterval(function(){console.log("function showPageFinishProgress => started Interval"),imagesPreloaded&&(clearRequestInterval(e),console.log("function showPageFinishProgress => si="+e+"; imagesPreloaded="+imagesPreloaded),n())},100)};e&&(console.log("triggered function: showPageFinishProgress"),"undefined"!=typeof imagesPreloaded?o():n())};evento.add(window,"load",showPageFinishProgress);