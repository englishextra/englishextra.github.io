!function(p,d){"use strict";p.console||(p.console={});var e,t,s,n,o,i,a,r,l=p.console,c=function(){},u=["memory"],h=["assert,clear,count,debug,dir,dirxml,error,exception,group,","groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,","show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn"];for(h.join("").split(",");e=u.pop();)l[e]||(l[e]={});for(;t=h.pop();)l[t]||(l[t]=c);e=t=c=u=h=null,p.supportsPassive=function(){var e=!1;try{var t=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){e=!0}});p.addEventListener("test",function(){},t)}catch(e){}return e}(),p.supportsSvgSmilAnimation=(s={}.toString,!!d.createElementNS&&/SVGAnimate/.test(s.call(d.createElementNS("http://www.w3.org/2000/svg","animate")))||""),p.supportsCanvas=!(!(n=d.createElement("canvas")).getContext||!n.getContext("2d")),p.hasWheel="onwheel"in d.createElement("div")||void 0!==d.onmousewheel||"",p.hasTouch="ontouchstart"in d.documentElement||"",p.needsPolyfills=!String.prototype.startsWith||!supportsPassive||!p.requestAnimationFrame||!p.matchMedia||void 0===p.Element&&!("dataset"in d.documentElement)||!("classList"in d.createElement("_"))||d.createElementNS&&!("classList"in d.createElementNS("http://www.w3.org/2000/svg","g"))||p.attachEvent&&!p.addEventListener||!("onhashchange"in p)||!Array.prototype.indexOf||!p.Promise||!p.fetch||!d.querySelectorAll||!d.querySelector||!Function.prototype.bind||Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get||!(void 0!==p.localStorage&&void 0!==p.sessionStorage)||!p.WeakMap||!p.MutationObserver,p.getHumanDate=(o=new Date,i=o.getDate(),a=o.getFullYear(),r=o.getMonth(),i<10&&(i="0"+i),(r+=1)<10&&(r="0"+r),a+"-"+r+"-"+i);var g,m,f,v=function(o,i){return function(e,t,s,n){e[o]?e[o](t,s,n):e[i]&&e[i]("on"+t,s)}};p.addListener=v("addEventListener","attachEvent"),p.removeListener=v("removeEventListener","detachEvent"),p.getByClass=function(e,t){if(d.getElementsByClassName)return e?e.getElementsByClassName(t):"";var s,n,o,i=(e||d.body).getElementsByTagName("*"),a=[],r=new RegExp("\\b"+t+"\\b");for(n=0,o=i.length;n<o;n+=1)s=i[n],r.test(s.className)&&a.push(s);return n=o=null,a},f="classList"in d.documentElement?(g=function(e,t){return e.classList.contains(t)},m=function(e,t){e.classList.add(t)},function(e,t){e.classList.remove(t)}):(g=function(e,t){return new RegExp("\\b"+t+"\\b").test(e.className)},m=function(e,t){g(e,t)||(e.className+=" "+t)},function(e,t){e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}),p.hasClass=g,p.addClass=m,p.removeClass=f,p.toggleClass=function(e,t){g(e,t)?f(e,t):m(e,t)},p.parseLink=function(e,t){var s,n,o,i,a,r,l,c=t||"";return n=function(e){return e.replace(/^(#|\?)/,"").replace(/\:$/,"")},o=location||"",i=0===e.indexOf("//")||!!~e.indexOf("://"),a=p.location||"",r=function(){return a.protocol+"//"+a.hostname+(a.port?":"+a.port:"")||""},(l=d.createElement("a")).href=e,{href:l.href,origin:r(),host:l.host||o.host,port:"0"===l.port||""===l.port?function(e){switch(e){case"http:":return c?":80":80;case"https:":return c?":443":443;default:return c?":"+o.port:o.port}}(l.protocol):c?l.port:n(l.port),hash:c?l.hash:n(l.hash),hostname:l.hostname||o.hostname,pathname:"/"!==l.pathname.charAt(0)?c?"/"+l.pathname:l.pathname:c?l.pathname:l.pathname.slice(1),protocol:l.protocol&&":"!==l.protocol?c?l.protocol:n(l.protocol):c?o.protocol:n(o.protocol),search:c?l.search:n(l.search),query:c?l.search:n(l.search),isAbsolute:i,isRelative:!i,isCrossDomain:(s=d.createElement("a"),s.href=e,s.protocol+"//"+s.hostname+(s.port?":"+s.port:"")!==r()),hasHTTP:!!/^(http|https):\/\//i.test(e)}};var y,w=function(e){var t=e||"",s=p.location.protocol||"";return"http:"===s?"http":"https:"===s?"https":t?"http":""};p.getHTTP=w,p.forcedHTTP=w(!0),p.debounce=function(s,n){var o,i,a,r;return function(){a=this,i=[].slice.call(arguments,0),r=new Date;var t=function(){var e=new Date-r;e<n?o=setTimeout(t,n-e):(o=null,s.apply(a,i))};o||(o=setTimeout(t,n))}},p.isNodejs="undefined"!=typeof process&&"undefined"!=typeof require||"",p.isElectron=void 0!==p&&"object"==typeof p.process&&"renderer"===p.process.type||!(void 0===p||void 0===p.process||"object"!=typeof p.process.versions||!p.process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&0<=navigator.userAgent.indexOf("Electron"),p.isNwjs=function(){if("undefined"!=typeof isNodejs&&isNodejs)try{if(void 0!==require("nw.gui"))return!0}catch(e){return!1}return!1}(),p.openDeviceBrowser=function(e){var t,s;if(isElectron)(s=isElectron?require("electron").shell:"")&&s.openExternal(e);else if(isNwjs)(t=isNwjs?require("nw.gui").Shell:"")&&t.openExternal(e);else{var n=p.location.protocol||"";if(n?"http:"===n?"http":"https:"===n?"https":"":"")return!0;p.open(e,"_system","scrollbars=1,location=no")}},p.setDisplayBlock=function(e){e&&(e.style.display="block")},p.setDisplayNone=function(e){e&&(e.style.display="none")},p.setVisible=function(e){e&&(e.style.visibility="visible",e.style.opacity=1)},p.removeElement=function(e){if(e)return void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},p.ToProgress=(y=function(){var s=function(){var e,t=d.createElement("fakeelement"),s={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in s)if(s.hasOwnProperty(e)&&void 0!==t.style[e])return s[e];e=null}(),e=function(e,t){if(this.progress=0,this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2,zIndex:"auto"},e&&"object"==typeof e){var s;for(s in e)e.hasOwnProperty(s)&&(this.options[s]=e[s]);s=null}var n;(this.options.opacityDuration=3*this.options.duration,this.progressBar=d.createElement("div"),this.progressBar.id=this.options.id,this.progressBar.setCSS=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(this.style[t]=e[t]);t=null},this.progressBar.setCSS({position:t?"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","z-index":this.options.zIndex}),t)?(-1!==t.indexOf("#",0)?n=d.getElementById(t)||"":-1!==t.indexOf(".",0)&&(n=d.getElementsByClassName(t)[0]||""),n&&(n.hasChildNodes()?n.insertBefore(this.progressBar,n.firstChild):n.appendChild(this.progressBar))):d.body.appendChild(this.progressBar)};return e.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"},e.prototype.getProgress=function(){return this.progress},e.prototype.setProgress=function(e,t){this.show(),this.progress=100<e?100:e<0?0:e,this.transit(),t&&t()},e.prototype.increase=function(e,t){this.show(),this.setProgress(this.progress+e,t)},e.prototype.decrease=function(e,t){this.show(),this.setProgress(this.progress-e,t)},e.prototype.finish=function(e){var t=this;this.setProgress(100,e),this.hide(),s&&this.progressBar.addEventListener(s,function(e){t.reset(),t.progressBar.removeEventListener(e.type,y)})},e.prototype.reset=function(e){this.progress=0,this.transit(),e&&e()},e.prototype.hide=function(){this.progressBar.style.opacity="0"},e.prototype.show=function(){this.progressBar.style.opacity="1"},e})(),p.manageExternalLinkAll=function(){var e=d.getElementsByTagName("a")||"",t=function(e){var t="external-link--is-binded";if(!g(e,t)){var s=e.getAttribute("href")||"";s&&parseLink(s).isCrossDomain&&parseLink(s).hasHTTP&&(e.title=(parseLink(s).hostname||"")+" откроется в новой вкладке",p.getHTTP&&p.getHTTP()?(e.target="_blank",e.rel="noopener"):addListener(e,"click",function(e,t){t.stopPropagation(),t.preventDefault();debounce(function(){openDeviceBrowser(e)},200).call(p)}.bind(null,s)),m(e,t))}};if(e){var s,n;for(s=0,n=e.length;s<n;s+=1)t(e[s]);s=n=null}},p.doesFontExist=function(e){var t=d.createElement("canvas"),s=t.getContext("2d"),n="abcdefghijklmnopqrstuvwxyz0123456789";s.font="72px monospace";var o=s.measureText(n).width;return s.font="72px '"+e+"', monospace",t=null,s.measureText(n).width!==o},p.loadJsCss=function(e,t,s){var n,o,i=this;for(i.files=e,i.js=[],i.head=d.getElementsByTagName("head")[0]||"",i.body=d.body||"",i.ref=d.getElementsByTagName("script")[0]||"",i.callback=t||function(){},i.type=s?s.toLowerCase():"",i.loadStyle=function(e){var t=d.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,t.media="only x",t.onload=function(){this.onload=null,this.media="all"},t.setAttribute("property","stylesheet"),(i.body||i.head).appendChild(t)},i.loadScript=function(e){var t=d.createElement("script");t.type="text/javascript",t.async=!0,t.src=i.js[e];t.onload=function(){++e<i.js.length?i.loadScript(e):i.callback()},i.head.appendChild(t),(i.body||i.head).appendChild(t)},n=0,o=i.files.length;n<o;n+=1)(/\.js$|\.js\?/.test(i.files[n])||"js"===i.type)&&i.js.push(i.files[n]),(/\.css$|\.css\?|\/css\?/.test(i.files[n])||"css"===i.type)&&i.loadStyle(i.files[n]);n=o=null,0<i.js.length?i.loadScript(0):i.callback()},p.loadDeferred=function(e,t){var s,n,o=function(){clearTimeout(s),s=null,new loadJsCss(e,t)};p.requestAnimationFrame?n=requestAnimationFrame(function(){cancelAnimationFrame(n),s=setTimeout(o,0)}):addListener(p,"load",o)}}("undefined"!=typeof window?window:this,document),function(C,E,e){"use strict";var T=E.documentElement||"",k=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2,zIndex:999});supportsSvgSmilAnimation&&addClass(T,"svganimate"),supportsSvgSmilAnimation||(k.increase(20),addListener(C,"load",function(){k.finish(),k.hide()}));var t,s,n=getByClass(E,"ripple")[0]||"",o=function(){removeElement(n)},i=function(){clearTimeout(t),t=null,o()},a=getByClass(E,"loading")[0]||"",r=function(){removeElement(a)},l=function(){clearTimeout(s),s=null,r()},B="bounceOutUp";supportsSvgSmilAnimation?addListener(C,"load",function(){n&&(n.className+=" "+B,t=setTimeout(i,5e3)),a&&(a.className+=" "+B,s=setTimeout(l,5e3))}):(o(),r());var S=E.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||"";if(!S){var c=getByClass(E,"svg-nosmil-img")||"";if(c){var p,d;for(p=0,d=c.length;p<d;p+=1)c[p].src=c[p].getAttribute("data-fallback-src");p=d=null}}if(!supportsSvgSmilAnimation){var u=getByClass(E,"svg-smil-img")||"";if(u){var h,g;for(h=0,g=u.length;h<g;h+=1)u[h].src=u[h].getAttribute("data-fallback-src");h=g=null}}var m,f=function(t,e){if(t&&e){var s=new Image;addListener(s,"load",function(){var e=t.getContext("2d");e&&e.drawImage(s,0,0,t.width,t.height)}),s.src=e}},v=function(e,t){if(e&&t){var s=E.createElement("img");s.src=t,s.alt="",s.className=e.className.split(" ").join(" "),s.width=e.width,s.height=e.height,e.parentNode&&e.parentNode.insertBefore(s,e.nextSibling),setDisplayNone(e)}},y=E.getElementsByTagName("canvas")||"",w=E.styleSheets.length||0;y&&w&&(m=setInterval(function(){if(E.styleSheets.length>w){var e,t,s,n;for(clearInterval(m),m=null,e=0,t=y.length;e<t;e+=1)y[e].getAttribute("data-src")&&(s=y[e],n=y[e].getAttribute("data-src"),supportsCanvas?f(s,n):v(s,n));e=t=s=n=null}},100));var x=function(){var t="bounceInUp",s="bounceOutDown",i="is-active";if(removeClass(T,"no-js"),addClass(T,"js"),supportsSvgSmilAnimation||k.increase(20),C.platform&&E.title&&navigator.userAgent){var e=platform.description||"";E.title=E.title+" ["+(getHumanDate?" "+getHumanDate:"")+(e?" "+e:"")+(hasTouch||hasWheel?" with":"")+(hasTouch?" touch":"")+(hasTouch&&hasWheel?",":"")+(hasWheel?" mousewheel":"")+"]"}manageExternalLinkAll();!function(){var e,t=getByClass(E,"qrcode")[0]||"",s=E.title||"",n=C.location.href||"";if(t){var o=E.createElement("img"),i=s?"Ссылка на страницу «"+s.replace(/\[[^\]]*?\]/g,"").trim()+"»":"",a=forcedHTTP+"://chart.googleapis.com/chart?cht=qr&chld=M%7C4&choe=UTF-8&chs=512x512&chl="+encodeURIComponent(n);o.alt=i,C.QRCode?o.src=a=S?(a=QRCode.generateSVG(n,{ecclevel:"M",fillcolor:"#FFFFFF",textcolor:"#191919",margin:4,modulesize:8}),a=(new XMLSerializer).serializeToString(a),"data:image/svg+xml;base64,"+C.btoa(unescape(encodeURIComponent(a)))):QRCode.generatePNG(n,{ecclevel:"M",format:"html",fillcolor:"#FFFFFF",textcolor:"#1F1F1F",margin:4,modulesize:8}):o.src=a,o.title=i,t.appendChild(o),e=setTimeout(function(){clearTimeout(e),e=null,setVisible(t)},2e3)}}();!function(){var e,t=getByClass(E,"download-app")[0]||"",s=t&&t.getElementsByTagName("a")[0]||"",n=t&&t.getElementsByTagName("img")[0]||"",o=navigator.userAgent||"";if(C.platform&&o&&t&&s&&n){var i,a,r=platform.name||"",l=platform.os.family||"",c=platform.os.version||"",p=platform.os.architecture||"";-1!==l.indexOf("Windows Phone",0)&&"10.0"===c?(i="./libs/products/img/download_wp_app_144x52.svg",a="https://github.com/englishextra/englishextra-app/releases/download/v1.0.0/englishextra.Windows10_x86_debug.appx"):-1===r.indexOf("IE Mobile",0)||"7.5"!==c&&"8.0"!==c&&"8.1"!==c?-1!==l.indexOf("Windows",0)&&64===p?(i="./libs/products/img/download_windows_app_144x52.svg",a="https://github.com/englishextra/englishextra-app/releases/download/v1.0.0/englishextra-win32-x64-setup.exe"):-1!==l.indexOf("Windows",0)&&32===p?(i="./libs/products/img/download_windows_app_144x52.svg",a="https://github.com/englishextra/englishextra-app/releases/download/v1.0.0/englishextra-win32-ia32-setup.exe"):-1!==o.indexOf("armv7l",0)?(i="./libs/products/img/download_linux_app_144x52.svg",a="https://github.com/englishextra/englishextra-app/releases/download/v1.0.0/englishextra-linux-armv7l.tar.gz"):-1!==o.indexOf("X11",0)&&-1!==o.indexOf("Linux")&&64===p?(i="./libs/products/img/download_linux_app_144x52.svg",a="https://github.com/englishextra/englishextra-app/releases/download/v1.0.0/englishextra-linux-x64.tar.gz"):-1!==o.indexOf("X11",0)&&-1!==o.indexOf("Linux")&&32===p?(i="./libs/products/img/download_linux_app_144x52.svg",a="https://github.com/englishextra/englishextra-app/releases/download/v1.0.0/englishextra-linux-ia32.tar.gz"):-1!==l.indexOf("Android",0)&&(i="./libs/products/img/download_android_app_144x52.svg",a="https://github.com/englishextra/englishextra-app/releases/download/v1.0.0/englishextra-debug.apk"):(i="./libs/products/img/download_wp_app_144x52.svg",a="https://github.com/englishextra/englishextra-app/releases/download/v1.0.0/englishextra_app-debug.xap"),i&&a&&(s.href=a,s.rel="noopener",s.target="_blank",s.title="Скачать приложение",S||(i=[i.slice(0,-3),"png"].join("")),n.src=i,e=setTimeout(function(){clearTimeout(e),e=null,setVisible(t)},1e3))}}();var n=E.getElementById("scene")||"";C.Parallax&&n&&new Parallax(n);var o=getByClass(E,"guesture")[0]||"",a=getByClass(E,"start")[0]||"",r=getByClass(E,"hand")[0]||"",l=function(){a&&(removeClass(a,s),addClass(a,t),setDisplayBlock(a)),r&&(removeClass(r,s),addClass(r,t),setDisplayBlock(r)),o&&addClass(o,B)},c=function(){var e;a&&(removeClass(a,t),addClass(a,s)),r&&(removeClass(r,t),addClass(r,s));e=setTimeout(function(){clearTimeout(e),e=null,setDisplayNone(a),setDisplayNone(r)},1e3)},p=getByClass(E,"mousewheeldown")[0]||"",d=getByClass(E,"swipeup")[0]||"";if(p&&d){if(hasTouch)setDisplayNone(p),C.tocca&&(addListener(E,"swipeup",l,{passive:!0}),addListener(E,"swipedown",c,{passive:!0}));else if(hasWheel)if(setDisplayNone(d),C.WheelIndicator)new WheelIndicator({elem:C,callback:function(e){"down"===e.direction&&l(),"up"===e.direction&&c()},preventMouse:!1});(hasTouch||hasWheel)&&(addClass(o,t),setDisplayBlock(o))}var u=function(e){var t=e||this,s=getByClass(E,"is-social")||"";if(s){var n,o;for(n=0,o=s.length;n<o;n+=1)t!==s[n]&&removeClass(s[n],i);n=o=null}};addListener(C,"click",u),C.yaShare2Instance=null;var h,g,m,f,v;h=getByClass(E,"btn-share-buttons")[0]||"",g="ya-share2",m=E.getElementById(g)||"",f=C.location||"",v=E.title||"",h&&m&&(C.getHTTP&&C.getHTTP()?addListener(h,"click",function(e){e.stopPropagation(),e.preventDefault(),debounce(function(){toggleClass(m,i),u(m);var e=function(){try{C.yaShare2Instance?C.yaShare2Instance.updateContent({title:v,description:v,url:f}):C.yaShare2Instance=Ya.share2(g,{content:{title:v,description:v,url:f}})}catch(e){throw new Error("cannot root.yaShare2Instance.updateContent or Ya.share2 "+e)}};if(C.Ya&&Ya.share2)e();else{var t=forcedHTTP+"://yastatic.net/share2/share.js";new loadJsCss([t],e)}},200).call(C)}):setDisplayNone(h)),C.vkLikeInstance=null;var y,w,x,b;y="vk-like",w=E.getElementById(y)||"",x=getByClass(E,"holder-vk-like")[0]||"",(b=getByClass(E,"btn-show-vk-like")[0]||"")&&w&&(C.getHTTP&&C.getHTTP()?addListener(b,"click",function(e){e.stopPropagation(),e.preventDefault(),debounce(function(){toggleClass(x,i),u(x);var e=function(){if(!C.vkLikeInstance)try{VK.init({apiId:w.dataset.apiid||"",nameTransportPath:"/xd_receiver.htm",onlyWidgets:!0}),VK.Widgets.Like(y,{type:"button",height:24}),C.vkLikeInstance=!0}catch(e){throw new Error("cannot VK.init "+e)}};if(C.VK&&VK.init&&VK.Widgets&&VK.Widgets.Like)e();else{var t=forcedHTTP+"://vk.com/js/api/openapi.js?154";new loadJsCss([t],e)}},200).call(C)}):setDisplayNone(b))},b=[];needsPolyfills&&b.push("./cdn/polyfills/js/polyfills.fixed.min.js"),b.push("./libs/john-locke/js/vendors.min.js");loadDeferred(["./libs/john-locke/css/bundle.min.css"],function(e,t){var s,n=function(){clearInterval(s),s=null,supportsSvgSmilAnimation||void 0===k||k.increase(20),new loadJsCss(b,x)};t&&supportsCanvas?s=setInterval(function(){doesFontExist(e)&&n()},100):(s=null,n())}.bind(null,"Roboto",null))}("undefined"!=typeof window?window:this,document);